import{b as nt}from"/build/_shared/chunk-KXDZNNUH.js";import{a as yl,b as $l}from"/build/_shared/chunk-FMKRCXEX.js";import"/build/_shared/chunk-J6FHCSRC.js";import{b as In,c as pa,e as ma,j as Jt,n as ha,s as da,t as va}from"/build/_shared/chunk-IQBJE7PC.js";import"/build/_shared/chunk-GUCIBHGO.js";import{c as cn,e as Zt}from"/build/_shared/chunk-2NH4LW52.js";var Xn=cn((wt,Qa)=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.default={END_WORD:"$",END_WORD_REPLACER:"9a219a89-91cd-42e2-abd5-eb113af08ca8",PERMS_MIN_LEN:2};Qa.exports=wt.default});var fi=cn((kt,es)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.default=Dl;var Rl=Xn(),st=Ol(Rl);function Ol(n){return n&&n.__esModule?n:{default:n}}function Dl(n,t,s,l){var r=t===st.default.END_WORD,a=s===l.length-1;return r&&!a?(n[st.default.END_WORD]=1,n[st.default.END_WORD_REPLACER]={},n=n[st.default.END_WORD_REPLACER]):(n[t]=n[t]||{},n=n[t]),a&&(n[st.default.END_WORD]=1),n}es.exports=kt.default});var ns=cn((Ct,rs)=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});var Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Ct.default=ql;var Bl=fi(),Ll=Nl(Bl);function Nl(n){return n&&n.__esModule?n:{default:n}}function ql(n){if(!Array.isArray(n))throw"Expected parameter Array, received "+(typeof n>"u"?"undefined":Tl(n));var t=n.reduce(function(s,l){return l.toLowerCase().split("").reduce(Ll.default,s),s},{});return t}rs.exports=Ct.default});var ui=cn((Mt,ts)=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default={objectCopy:function(t){return typeof t>"u"?{}:JSON.parse(JSON.stringify(t))},stringify:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return typeof t>"u"?"":JSON.stringify(t,null,s)}};ts.exports=Mt.default});var as=cn((Et,is)=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.default=Gl;var Wl=ui(),Pc=jl(Wl);function jl(n){return n&&n.__esModule?n:{default:n}}function Gl(n,t){var s=t.toLowerCase().split(""),l=s.every(function(r,a){return n[r]?n=n[r]:!1});return{prefixFound:l,prefixNode:n}}is.exports=Et.default});var ls=cn((_t,os)=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.default=ss;var zl=Xn(),ci=Hl(zl);function Hl(n){return n&&n.__esModule?n:{default:n}}var Ul=function(t,s){for(var l=0;l<s.length&&!(t<s[l]);)l+=1;return s.splice(l,0,t),s};function ss(n,t,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],r=t;for(var a in n){var e=a;a===ci.default.END_WORD&&typeof n[a]=="number"?(s?Ul(r,l):l.push(r),r=""):a===ci.default.END_WORD_REPLACER&&(e=ci.default.END_WORD),ss(n[a],t+e,s,l)}return l}os.exports=_t.default});var cs=cn((It,us)=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.default=fs;var Xl=Xn(),Vl=Kl(Xl);function Kl(n){return n&&n.__esModule?n:{default:n}}function fs(n,t){var s=t,l=Object.keys(n),r=l[Math.floor(Math.random()*l.length)];return r===Vl.default.END_WORD?s:fs(n[r],t+r)}us.exports=It.default});var ps=cn((Pt,gs)=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Pt.default=ef;var Zl=Xn(),Jl=Ql(Zl);function Ql(n){return n&&n.__esModule?n:{default:n}}function ef(n,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{type:"anagram"};if(typeof n!="string")throw"Permutations expects string letters, received "+(typeof n>"u"?"undefined":Yl(n));var l=[],r=function a(e,p){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",k=e.length===0,_=l.indexOf(h)!==-1,Y=p[Jl.default.END_WORD]===1;k&&Y&&!_&&l.push(h);for(var ee=0,y=e.length;ee<y;ee++){var d=e[ee];if(s.type==="sub-anagram"&&Y&&l.indexOf(h)===-1&&l.push(h),p[d]){var z=e.substring(0,ee)+e.substring(ee+1,y);a(z,p[d],h+d,l)}}return l.sort()};return r(n,t)}gs.exports=Pt.default});var pi=cn((Ft,hs)=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});var _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};Ft.default=function(n){if(!Array.isArray(n))throw"Expected parameter Array, received "+(typeof n>"u"?"undefined":_n(n));var t=(0,nf.default)([].concat(hf(n)));return{tree:function(){return t},dump:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return gf.default.stringify(t,l)},addWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":_n(l));var r=function(){return af.default.apply(void 0,arguments)},a=l.toLowerCase().split("");return a.reduce(r,t),this},removeWord:function(l){if(typeof l!="string"||l==="")throw"Expected parameter string, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,ot.default)(t,l),a=r.prefixFound,e=r.prefixNode;return a&&delete e[gi.default.END_WORD],this},isPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,ot.default)(t,l),a=r.prefixFound;return a},getPrefix:function(l){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));if(typeof r!="boolean")throw"Expected sort parameter as boolean, received "+(typeof r>"u"?"undefined":_n(r));if(!this.isPrefix(l))return[];var a=l.length?(0,ot.default)(t,l).prefixNode:t;return(0,lf.default)(a,l,r)},getRandomWordWithPrefix:function(l){if(typeof l!="string")throw"Expected string prefix, received "+(typeof l>"u"?"undefined":_n(l));if(!this.isPrefix(l))return"";var r=(0,ot.default)(t,l),a=r.prefixNode;return(0,uf.default)(a,l)},countPrefix:function(l){var r=this.getPrefix(l);return r.length},getWords:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.getPrefix("",l)},hasWord:function(l){if(typeof l!="string")throw"Expected string word, received "+(typeof l>"u"?"undefined":_n(l));var r=(0,ot.default)(t,l),a=r.prefixFound,e=r.prefixNode;return a?e[gi.default.END_WORD]===1:!1},getAnagrams:function(l){if(typeof l!="string")throw"Anagrams expected string letters, received "+(typeof l>"u"?"undefined":_n(l));if(l.length<St)throw"getAnagrams expects at least "+St+" letters";return(0,ms.default)(l,t,{type:"anagram"})},getSubAnagrams:function(l){if(typeof l!="string")throw"Expected string letters, received "+(typeof l>"u"?"undefined":_n(l));if(l.length<St)throw"getSubAnagrams expects at least "+St+" letters";return(0,ms.default)(l,t,{type:"sub-anagram"})}}};var rf=ns(),nf=Wn(rf),tf=fi(),af=Wn(tf),sf=as(),ot=Wn(sf),of=ls(),lf=Wn(of),ff=cs(),uf=Wn(ff),cf=ui(),gf=Wn(cf),pf=Xn(),gi=Wn(pf),mf=ps(),ms=Wn(mf);function Wn(n){return n&&n.__esModule?n:{default:n}}function hf(n){if(Array.isArray(n)){for(var t=0,s=Array(n.length);t<n.length;t++)s[t]=n[t];return s}else return Array.from(n)}var St=gi.default.PERMS_MIN_LEN;hs.exports=Ft.default});var vi=cn((yg,Ts)=>{var ft=yl(),Ds={};for(let n of Object.keys(ft))Ds[ft[n]]=n;var De={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Ts.exports=De;for(let n of Object.keys(De)){if(!("channels"in De[n]))throw new Error("missing channels property: "+n);if(!("labels"in De[n]))throw new Error("missing channel labels property: "+n);if(De[n].labels.length!==De[n].channels)throw new Error("channel and label counts mismatch: "+n);let{channels:t,labels:s}=De[n];delete De[n].channels,delete De[n].labels,Object.defineProperty(De[n],"channels",{value:t}),Object.defineProperty(De[n],"labels",{value:s})}De.rgb.hsl=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.min(t,s,l),a=Math.max(t,s,l),e=a-r,p,h;a===r?p=0:t===a?p=(s-l)/e:s===a?p=2+(l-t)/e:l===a&&(p=4+(t-s)/e),p=Math.min(p*60,360),p<0&&(p+=360);let k=(r+a)/2;return a===r?h=0:k<=.5?h=e/(a+r):h=e/(2-a-r),[p,h*100,k*100]};De.rgb.hsv=function(n){let t,s,l,r,a,e=n[0]/255,p=n[1]/255,h=n[2]/255,k=Math.max(e,p,h),_=k-Math.min(e,p,h),Y=function(ee){return(k-ee)/6/_+1/2};return _===0?(r=0,a=0):(a=_/k,t=Y(e),s=Y(p),l=Y(h),e===k?r=l-s:p===k?r=1/3+t-l:h===k&&(r=2/3+s-t),r<0?r+=1:r>1&&(r-=1)),[r*360,a*100,k*100]};De.rgb.hwb=function(n){let t=n[0],s=n[1],l=n[2],r=De.rgb.hsl(n)[0],a=1/255*Math.min(t,Math.min(s,l));return l=1-1/255*Math.max(t,Math.max(s,l)),[r,a*100,l*100]};De.rgb.cmyk=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.min(1-t,1-s,1-l),a=(1-t-r)/(1-r)||0,e=(1-s-r)/(1-r)||0,p=(1-l-r)/(1-r)||0;return[a*100,e*100,p*100,r*100]};function Mf(n,t){return(n[0]-t[0])**2+(n[1]-t[1])**2+(n[2]-t[2])**2}De.rgb.keyword=function(n){let t=Ds[n];if(t)return t;let s=1/0,l;for(let r of Object.keys(ft)){let a=ft[r],e=Mf(n,a);e<s&&(s=e,l=r)}return l};De.keyword.rgb=function(n){return ft[n]};De.rgb.xyz=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;let r=t*.4124+s*.3576+l*.1805,a=t*.2126+s*.7152+l*.0722,e=t*.0193+s*.1192+l*.9505;return[r*100,a*100,e*100]};De.rgb.lab=function(n){let t=De.rgb.xyz(n),s=t[0],l=t[1],r=t[2];s/=95.047,l/=100,r/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let a=116*l-16,e=500*(s-l),p=200*(l-r);return[a,e,p]};De.hsl.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100,r,a,e;if(s===0)return e=l*255,[e,e,e];l<.5?r=l*(1+s):r=l+s-l*s;let p=2*l-r,h=[0,0,0];for(let k=0;k<3;k++)a=t+1/3*-(k-1),a<0&&a++,a>1&&a--,6*a<1?e=p+(r-p)*6*a:2*a<1?e=r:3*a<2?e=p+(r-p)*(2/3-a)*6:e=p,h[k]=e*255;return h};De.hsl.hsv=function(n){let t=n[0],s=n[1]/100,l=n[2]/100,r=s,a=Math.max(l,.01);l*=2,s*=l<=1?l:2-l,r*=a<=1?a:2-a;let e=(l+s)/2,p=l===0?2*r/(a+r):2*s/(l+s);return[t,p*100,e*100]};De.hsv.rgb=function(n){let t=n[0]/60,s=n[1]/100,l=n[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),e=255*l*(1-s),p=255*l*(1-s*a),h=255*l*(1-s*(1-a));switch(l*=255,r){case 0:return[l,h,e];case 1:return[p,l,e];case 2:return[e,l,h];case 3:return[e,p,l];case 4:return[h,e,l];case 5:return[l,e,p]}};De.hsv.hsl=function(n){let t=n[0],s=n[1]/100,l=n[2]/100,r=Math.max(l,.01),a,e;e=(2-s)*l;let p=(2-s)*r;return a=s*r,a/=p<=1?p:2-p,a=a||0,e/=2,[t,a*100,e*100]};De.hwb.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100,r=s+l,a;r>1&&(s/=r,l/=r);let e=Math.floor(6*t),p=1-l;a=6*t-e,e&1&&(a=1-a);let h=s+a*(p-s),k,_,Y;switch(e){default:case 6:case 0:k=p,_=h,Y=s;break;case 1:k=h,_=p,Y=s;break;case 2:k=s,_=p,Y=h;break;case 3:k=s,_=h,Y=p;break;case 4:k=h,_=s,Y=p;break;case 5:k=p,_=s,Y=h;break}return[k*255,_*255,Y*255]};De.cmyk.rgb=function(n){let t=n[0]/100,s=n[1]/100,l=n[2]/100,r=n[3]/100,a=1-Math.min(1,t*(1-r)+r),e=1-Math.min(1,s*(1-r)+r),p=1-Math.min(1,l*(1-r)+r);return[a*255,e*255,p*255]};De.xyz.rgb=function(n){let t=n[0]/100,s=n[1]/100,l=n[2]/100,r,a,e;return r=t*3.2406+s*-1.5372+l*-.4986,a=t*-.9689+s*1.8758+l*.0415,e=t*.0557+s*-.204+l*1.057,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,e=e>.0031308?1.055*e**(1/2.4)-.055:e*12.92,r=Math.min(Math.max(0,r),1),a=Math.min(Math.max(0,a),1),e=Math.min(Math.max(0,e),1),[r*255,a*255,e*255]};De.xyz.lab=function(n){let t=n[0],s=n[1],l=n[2];t/=95.047,s/=100,l/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;let r=116*s-16,a=500*(t-s),e=200*(s-l);return[r,a,e]};De.lab.xyz=function(n){let t=n[0],s=n[1],l=n[2],r,a,e;a=(t+16)/116,r=s/500+a,e=a-l/200;let p=a**3,h=r**3,k=e**3;return a=p>.008856?p:(a-16/116)/7.787,r=h>.008856?h:(r-16/116)/7.787,e=k>.008856?k:(e-16/116)/7.787,r*=95.047,a*=100,e*=108.883,[r,a,e]};De.lab.lch=function(n){let t=n[0],s=n[1],l=n[2],r;r=Math.atan2(l,s)*360/2/Math.PI,r<0&&(r+=360);let e=Math.sqrt(s*s+l*l);return[t,e,r]};De.lch.lab=function(n){let t=n[0],s=n[1],r=n[2]/360*2*Math.PI,a=s*Math.cos(r),e=s*Math.sin(r);return[t,a,e]};De.rgb.ansi16=function(n,t=null){let[s,l,r]=n,a=t===null?De.rgb.hsv(n)[2]:t;if(a=Math.round(a/50),a===0)return 30;let e=30+(Math.round(r/255)<<2|Math.round(l/255)<<1|Math.round(s/255));return a===2&&(e+=60),e};De.hsv.ansi16=function(n){return De.rgb.ansi16(De.hsv.rgb(n),n[2])};De.rgb.ansi256=function(n){let t=n[0],s=n[1],l=n[2];return t===s&&s===l?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(s/255*5)+Math.round(l/255*5)};De.ansi16.rgb=function(n){let t=n%10;if(t===0||t===7)return n>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let s=(~~(n>50)+1)*.5,l=(t&1)*s*255,r=(t>>1&1)*s*255,a=(t>>2&1)*s*255;return[l,r,a]};De.ansi256.rgb=function(n){if(n>=232){let a=(n-232)*10+8;return[a,a,a]}n-=16;let t,s=Math.floor(n/36)/5*255,l=Math.floor((t=n%36)/6)/5*255,r=t%6/5*255;return[s,l,r]};De.rgb.hex=function(n){let s=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(s.length)+s};De.hex.rgb=function(n){let t=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let s=t[0];t[0].length===3&&(s=s.split("").map(p=>p+p).join(""));let l=parseInt(s,16),r=l>>16&255,a=l>>8&255,e=l&255;return[r,a,e]};De.rgb.hcg=function(n){let t=n[0]/255,s=n[1]/255,l=n[2]/255,r=Math.max(Math.max(t,s),l),a=Math.min(Math.min(t,s),l),e=r-a,p,h;return e<1?p=a/(1-e):p=0,e<=0?h=0:r===t?h=(s-l)/e%6:r===s?h=2+(l-t)/e:h=4+(t-s)/e,h/=6,h%=1,[h*360,e*100,p*100]};De.hsl.hcg=function(n){let t=n[1]/100,s=n[2]/100,l=s<.5?2*t*s:2*t*(1-s),r=0;return l<1&&(r=(s-.5*l)/(1-l)),[n[0],l*100,r*100]};De.hsv.hcg=function(n){let t=n[1]/100,s=n[2]/100,l=t*s,r=0;return l<1&&(r=(s-l)/(1-l)),[n[0],l*100,r*100]};De.hcg.rgb=function(n){let t=n[0]/360,s=n[1]/100,l=n[2]/100;if(s===0)return[l*255,l*255,l*255];let r=[0,0,0],a=t%1*6,e=a%1,p=1-e,h=0;switch(Math.floor(a)){case 0:r[0]=1,r[1]=e,r[2]=0;break;case 1:r[0]=p,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=e;break;case 3:r[0]=0,r[1]=p,r[2]=1;break;case 4:r[0]=e,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=p}return h=(1-s)*l,[(s*r[0]+h)*255,(s*r[1]+h)*255,(s*r[2]+h)*255]};De.hcg.hsv=function(n){let t=n[1]/100,s=n[2]/100,l=t+s*(1-t),r=0;return l>0&&(r=t/l),[n[0],r*100,l*100]};De.hcg.hsl=function(n){let t=n[1]/100,l=n[2]/100*(1-t)+.5*t,r=0;return l>0&&l<.5?r=t/(2*l):l>=.5&&l<1&&(r=t/(2*(1-l))),[n[0],r*100,l*100]};De.hcg.hwb=function(n){let t=n[1]/100,s=n[2]/100,l=t+s*(1-t);return[n[0],(l-t)*100,(1-l)*100]};De.hwb.hcg=function(n){let t=n[1]/100,l=1-n[2]/100,r=l-t,a=0;return r<1&&(a=(l-r)/(1-r)),[n[0],r*100,a*100]};De.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};De.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};De.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};De.gray.hsl=function(n){return[0,0,n[0]]};De.gray.hsv=De.gray.hsl;De.gray.hwb=function(n){return[0,100,n[0]]};De.gray.cmyk=function(n){return[0,0,0,n[0]]};De.gray.lab=function(n){return[n[0],0,0]};De.gray.hex=function(n){let t=Math.round(n[0]/100*255)&255,l=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(l.length)+l};De.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]}});var Ls=cn(($g,Bs)=>{var Dt=vi();function Ef(){let n={},t=Object.keys(Dt);for(let s=t.length,l=0;l<s;l++)n[t[l]]={distance:-1,parent:null};return n}function _f(n){let t=Ef(),s=[n];for(t[n].distance=0;s.length;){let l=s.pop(),r=Object.keys(Dt[l]);for(let a=r.length,e=0;e<a;e++){let p=r[e],h=t[p];h.distance===-1&&(h.distance=t[l].distance+1,h.parent=l,s.unshift(p))}}return t}function If(n,t){return function(s){return t(n(s))}}function Pf(n,t){let s=[t[n].parent,n],l=Dt[t[n].parent][n],r=t[n].parent;for(;t[r].parent;)s.unshift(t[r].parent),l=If(Dt[t[r].parent][r],l),r=t[r].parent;return l.conversion=s,l}Bs.exports=function(n){let t=_f(n),s={},l=Object.keys(t);for(let r=l.length,a=0;a<r;a++){let e=l[a];t[e].parent!==null&&(s[e]=Pf(e,t))}return s}});var qs=cn((bg,Ns)=>{var yi=vi(),Sf=Ls(),Zn={},Ff=Object.keys(yi);function Rf(n){let t=function(...s){let l=s[0];return l==null?l:(l.length>1&&(s=l),n(s))};return"conversion"in n&&(t.conversion=n.conversion),t}function Of(n){let t=function(...s){let l=s[0];if(l==null)return l;l.length>1&&(s=l);let r=n(s);if(typeof r=="object")for(let a=r.length,e=0;e<a;e++)r[e]=Math.round(r[e]);return r};return"conversion"in n&&(t.conversion=n.conversion),t}Ff.forEach(n=>{Zn[n]={},Object.defineProperty(Zn[n],"channels",{value:yi[n].channels}),Object.defineProperty(Zn[n],"labels",{value:yi[n].labels});let t=Sf(n);Object.keys(t).forEach(l=>{let r=t[l];Zn[n][l]=Of(r),Zn[n][l].raw=Rf(r)})});Ns.exports=Zn});var Gs=cn((Ag,js)=>{var Jn=$l(),gn=qs(),Ws=["keyword","gray","hex"],$i={};for(let n of Object.keys(gn))$i[[...gn[n].labels].sort().join("")]=n;var Tt={};function Jr(n,t){if(!(this instanceof Jr))return new Jr(n,t);if(t&&t in Ws&&(t=null),t&&!(t in gn))throw new Error("Unknown model: "+t);let s,l;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof Jr)this.model=n.model,this.color=[...n.color],this.valpha=n.valpha;else if(typeof n=="string"){let r=Jn.get(n);if(r===null)throw new Error("Unable to parse color from string: "+n);this.model=r.model,l=gn[this.model].channels,this.color=r.value.slice(0,l),this.valpha=typeof r.value[l]=="number"?r.value[l]:1}else if(n.length>0){this.model=t||"rgb",l=gn[this.model].channels;let r=Array.prototype.slice.call(n,0,l);this.color=bi(r,l),this.valpha=typeof n[l]=="number"?n[l]:1}else if(typeof n=="number")this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;let r=Object.keys(n);"alpha"in n&&(r.splice(r.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);let a=r.sort().join("");if(!(a in $i))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=$i[a];let{labels:e}=gn[this.model],p=[];for(s=0;s<e.length;s++)p.push(n[e[s]]);this.color=bi(p)}if(Tt[this.model])for(l=gn[this.model].channels,s=0;s<l;s++){let r=Tt[this.model][s];r&&(this.color[s]=r(this.color[s]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Jr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(n){let t=this.model in Jn.to?this:this.rgb();t=t.round(typeof n=="number"?n:1);let s=t.valpha===1?t.color:[...t.color,this.valpha];return Jn.to[t.model](s)},percentString(n){let t=this.rgb().round(typeof n=="number"?n:1),s=t.valpha===1?t.color:[...t.color,this.valpha];return Jn.to.rgb.percent(s)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let n={},{channels:t}=gn[this.model],{labels:s}=gn[this.model];for(let l=0;l<t;l++)n[s[l]]=this.color[l];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray(){let n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject(){let n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round(n){return n=Math.max(n||0,0),new Jr([...this.color.map(Tf(n)),this.valpha],this.model)},alpha(n){return n!==void 0?new Jr([...this.color,Math.max(0,Math.min(1,n))],this.model):this.valpha},red:zr("rgb",0,Kr(255)),green:zr("rgb",1,Kr(255)),blue:zr("rgb",2,Kr(255)),hue:zr(["hsl","hsv","hsl","hwb","hcg"],0,n=>(n%360+360)%360),saturationl:zr("hsl",1,Kr(100)),lightness:zr("hsl",2,Kr(100)),saturationv:zr("hsv",1,Kr(100)),value:zr("hsv",2,Kr(100)),chroma:zr("hcg",1,Kr(100)),gray:zr("hcg",2,Kr(100)),white:zr("hwb",1,Kr(100)),wblack:zr("hwb",2,Kr(100)),cyan:zr("cmyk",0,Kr(100)),magenta:zr("cmyk",1,Kr(100)),yellow:zr("cmyk",2,Kr(100)),black:zr("cmyk",3,Kr(100)),x:zr("xyz",0,Kr(95.047)),y:zr("xyz",1,Kr(100)),z:zr("xyz",2,Kr(108.833)),l:zr("lab",0,Kr(100)),a:zr("lab",1),b:zr("lab",2),keyword(n){return n!==void 0?new Jr(n):gn[this.model].keyword(this.color)},hex(n){return n!==void 0?new Jr(n):Jn.to.hex(this.rgb().round().color)},hexa(n){if(n!==void 0)return new Jr(n);let t=this.rgb().round().color,s=Math.round(this.valpha*255).toString(16).toUpperCase();return s.length===1&&(s="0"+s),Jn.to.hex(t)+s},rgbNumber(){let n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity(){let n=this.rgb().color,t=[];for(let[s,l]of n.entries()){let r=l/255;t[s]=r<=.04045?r/12.92:((r+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(n){let t=this.luminosity(),s=n.luminosity();return t>s?(t+.05)/(s+.05):(s+.05)/(t+.05)},level(n){let t=this.contrast(n);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){let n=this.rgb().color;return(n[0]*2126+n[1]*7152+n[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let n=this.rgb();for(let t=0;t<3;t++)n.color[t]=255-n.color[t];return n},lighten(n){let t=this.hsl();return t.color[2]+=t.color[2]*n,t},darken(n){let t=this.hsl();return t.color[2]-=t.color[2]*n,t},saturate(n){let t=this.hsl();return t.color[1]+=t.color[1]*n,t},desaturate(n){let t=this.hsl();return t.color[1]-=t.color[1]*n,t},whiten(n){let t=this.hwb();return t.color[1]+=t.color[1]*n,t},blacken(n){let t=this.hwb();return t.color[2]+=t.color[2]*n,t},grayscale(){let n=this.rgb().color,t=n[0]*.3+n[1]*.59+n[2]*.11;return Jr.rgb(t,t,t)},fade(n){return this.alpha(this.valpha-this.valpha*n)},opaquer(n){return this.alpha(this.valpha+this.valpha*n)},rotate(n){let t=this.hsl(),s=t.color[0];return s=(s+n)%360,s=s<0?360+s:s,t.color[0]=s,t},mix(n,t){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);let s=n.rgb(),l=this.rgb(),r=t===void 0?.5:t,a=2*r-1,e=s.alpha()-l.alpha(),p=((a*e===-1?a:(a+e)/(1+a*e))+1)/2,h=1-p;return Jr.rgb(p*s.red()+h*l.red(),p*s.green()+h*l.green(),p*s.blue()+h*l.blue(),s.alpha()*r+l.alpha()*(1-r))}};for(let n of Object.keys(gn)){if(Ws.includes(n))continue;let{channels:t}=gn[n];Jr.prototype[n]=function(...s){return this.model===n?new Jr(this):s.length>0?new Jr(s,n):new Jr([...Bf(gn[this.model][n].raw(this.color)),this.valpha],n)},Jr[n]=function(...s){let l=s[0];return typeof l=="number"&&(l=bi(s,t)),new Jr(l,n)}}function Df(n,t){return Number(n.toFixed(t))}function Tf(n){return function(t){return Df(t,n)}}function zr(n,t,s){n=Array.isArray(n)?n:[n];for(let l of n)(Tt[l]||(Tt[l]=[]))[t]=s;return n=n[0],function(l){let r;return l!==void 0?(s&&(l=s(l)),r=this[n](),r.color[t]=l,r):(r=this[n]().color[t],s&&(r=s(r)),r)}}function Kr(n){return function(t){return Math.max(0,Math.min(n,t))}}function Bf(n){return Array.isArray(n)?n:[n]}function bi(n,t){for(let s=0;s<t;s++)typeof n[s]!="number"&&(n[s]=0);return n}js.exports=Jr});var ya;(function(n){n.fig="fig",n.eq="eq",n.code="code",n.table="table"})(ya||(ya={}));function $a(n,t){let s=n.type!=="image"&&n.type!=="table";s?t.write(`[
`):t.write(`
  `),t.renderChildren({children:[n]}),s&&t.write(`
]`)}function bl(n){n==="code"&&(n="program");let t=n.includes(":")?n.split(":")[1]:n;return`${t.slice(0,1).toUpperCase()}${t.slice(1)}`}var ba=(n,t)=>{var s,l;if(t.data.isInTable){In(t.file,"Unable to render typst figure inside table",{node:n,source:"myst-to-typst"});return}t.ensureNewLine();let r=t.data.isInFigure;t.data.isInFigure=!0;let{identifier:a,kind:e}=n,p=a,h=(s=n.children)===null||s===void 0?void 0:s.filter(_=>_.type==="caption"||_.type==="legend"),k=(l=n.children)===null||l===void 0?void 0:l.filter(_=>_.type!=="caption"&&_.type!=="legend");if((!k||k.length===0)&&In(t.file,`Figure with no non-caption content: ${p}`,{node:n,source:"myst-to-typst"}),k&&k.length>1){let _=k.filter(ee=>ee.type==="container").length===k.length;t.useMacro('#import "@preview/subpar:0.1.1"'),t.write(`#show figure: set block(breakable: ${_?"false":"true"})
`),t.write("#subpar.grid(");let Y=2;k.forEach(ee=>{ee.type==="container"?(t.write(`figure(
`),t.renderChildren(ee),t.write(`
),`),ee.identifier&&t.write(` <${ee.identifier}>,`),t.write(`
`)):($a(ee,t),t.write(`,
`),Y=1)}),t.write(`columns: (${Array(Y).fill("1fr")}),
`),p&&(t.write(`label: <${p}>,`),p=void 0)}else k&&k.length===1?(t.write(`#show figure: set block(breakable: true)
`),t.write("#figure("),$a(k[0],t),t.write(",")):(t.write(`#show figure: set block(breakable: true)
`),t.write(`#figure([
  `),t.renderChildren(n,1),t.write("],"));if(h?.length&&(t.write(`
  caption: [
`),t.renderChildren({children:h.map(_=>_.children).filter(Boolean).flat()}),t.write(`
],`)),e){let _=bl(e);t.write(`
  kind: "${e}",`),t.write(`
  supplement: [${_}],`)}t.write(`
)`),p&&t.write(` <${p}>`),t.ensureNewLine(!0),t.addNewLine(),t.data.isInFigure=r},Qt=()=>{};function Ea(n,t=" "){return n.replace(/\u00A0/g,t).replace(/[\u200B-\u200D\uFEFF]/g,"")}var Aa="xxxxBACKSLASHSPACExxxx",xa="xxxxBACKSLASHxxxx",wa="xxxxCOMMENTxxxx",ka="xxxxCOMMENTSPACExxxx",Ca="xxxxTILDExxxx",ri={"&":"\\&","`":"\\`",$:"\\$","#":"\\#",_:"\\_","*":"\\*","{":"\\{","}":"\\}","[":"\\[","]":"\\]","^":"\\^","@":"\\@"},xl={...ri,"\u2019":"'","\u2018":"'","\u201D":'"',"\u201C":'"',"\xA9":"#emoji.copyright ","\xAE":"#emoji.reg ","\u2122":"#emoji.tm ","<":"\\< ",">":"\\> ","\xA0":"~","\u202F":"~"},_a={"\u2194":"arrow.l.r","\u21D4":"arrow.l.r.double","\u2192":"arrow.r","\u21D2":"arrow.r.double","\u2190":"arrow.l","\u21D0":"arrow.l.double"},Ia={"\u2212":"-","-":"-","\uFE63":"-","\uFF0D":"-","\uFF0B":"+"},Ma={...xl,..._a,...Ia},xt={..._a,...Ia,"\xBD":"1/2","\u2153":"1/3","\u2154":"2/3","\xBC":"1/4","\u2155":"1/5","\u2156":"2/5","\u2157":"3/5","\u2158":"4/5","\u2159":"1/6","\u215A":"5/6","\u2150":"1/7","\u215B":"1/8","\u215C":"3/8","\u215D":"5/8","\u215E":"7/8","\u2151":"1/9","\u2152":"1/10","\xB1":"plus.minus","\xD7":"times",\u0391:"A",\u03B1:"alpha",\u0392:"B",\u03B2:"beta",\u00DF:"beta",\u0393:"Gamma",\u03B3:"gamma",\u0394:"Delta","\u2206":"Delta",\u03B4:"delta",\u0395:"E",\u03B5:"epsilon",\u0396:"Z",\u03B6:"zeta",\u0397:"H",\u03B7:"eta",\u0398:"Theta",\u03B8:"theta",\u03D1:"vartheta",\u0399:"I",\u03B9:"iota",\u039A:"K",\u03BA:"kappa",\u039B:"Lambda",\u03BB:"lambda",\u039C:"M",\u03BC:"mu",\u039D:"N",\u03BD:"nu",\u039E:"Xi",\u03BE:"xi",\u039F:"O",\u03BF:"o",\u03A0:"Pi",\u03C0:"pi",\u03A1:"P",\u03C1:"rho",\u03A3:"Sigma",\u03C3:"sigma",\u03A4:"T",\u03C4:"tau",\u03A5:"Upsilon",\u03C5:"upsilon",\u03A6:"Phi",\u03D5:"phi.alt",\u03C6:"phi",\u03A7:"X",\u03C7:"chi",\u03A8:"Psi",\u03C8:"psi",\u03A9:"Omega",\u03C9:"omega","\u2202":"diff","\u221E":"infty","\u2248":"approx","\u2260":"eq.not","\u2022":"dot.c"};function ni(n){return!n||!n.children||n.children.length===0?!1:n.children.reduce((t,{type:s})=>t&&s==="text",!0)}function Pa(n){return Array.from(n??"").map(l=>ri[l]?{kind:"text",text:ri[l]}:{kind:"text",text:l}).reduce((l,r)=>{let a=l.slice(-1)[0];return a?.kind===r.kind?a.text+=r.text:l.push(r),l},[]).reduce((l,r)=>l+r.text,"")}function Sa(n){let t=(n??"").replace(/\\ /g,Aa).replace(/\\/g,xa).replace(/^\/\//g,wa).replace(/\s\/\//g,ka).replace(/~/g,Ca),r=Array.from(t).map(a=>Ma[a]?{kind:"text",text:Ma[a]}:xt[a]?{kind:"math",text:xt[a]}:{kind:"text",text:a}).reduce((a,e)=>{let p=a.slice(-1)[0];return p?.kind===e.kind?p.text+=e.text:a.push(e),a},[]).reduce((a,e)=>e.kind==="math"?`${a}$${e.text}$`:a+e.text,"").replace(new RegExp(Aa,"g"),"\\\\ ").replace(new RegExp(xa,"g"),"\\\\").replace(new RegExp(ka,"g")," \\/\\/").replace(new RegExp(wa,"g"),"\\/\\/").replace(new RegExp(Ca,"g"),"$tilde$");return Ea(r,"~")}function Fa(n){let s=Array.from(n??"").reduce((l,r)=>{if(xt[r]){let a=l.slice(-1)===" "?"":" ";return`${l}${a}${xt[r]}`}return l+r},"").trim();return Ea(s)}function Hn(n){if(typeof n=="number"&&Number.isNaN(n))return Hn(.9);if(typeof n=="string")return n.endsWith("%")?Hn(Number(n.replace("%",""))):n.endsWith("px")?Hn(Number(n.replace("px",""))/800):(console.log(`Unknown width ${n} in getLatexImageWidth`),Hn(.9));let t=n??.9;return t<1&&(t*=100),`${t}%`}var Ra={author:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},address:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},curraddr:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},email:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},title:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}},urladdr:{signature:"o m",renderInfo:{breakAround:!0,inParMode:!0}}},Oa={};var Da={cref:{signature:"s m"},Cref:{signature:"s m"},crefrange:{signature:"s m m"},Crefrange:{signature:"s m m"},cpageref:{signature:"s m"},Cpageref:{signature:"s m"},ref:{signature:"m"},pageref:{signature:"m"},namecref:{signature:"m"},nameCref:{signature:"m"},lcnamecref:{signature:"m"},namecrefs:{signature:"m"},nameCrefs:{signature:"m"},lcnamecrefs:{signature:"m"},labelcref:{signature:"m"},labelcpageref:{signature:"m"},crefalias:{signature:"m m"},crefname:{signature:"m m m"},crefdefaultlabelformat:{signature:"m"},crefrangeconjunction:{signature:"m"}},Ta={};var Ba={"*":{openMark:"",closeMark:""},"{":{openMark:"{",closeMark:"}"},"[":{openMark:"[",closeMark:"]"},"(":{openMark:"(",closeMark:")"},"<":{openMark:"<",closeMark:">"}},wl=new Set(Object.values(Ba).map(n=>n.closeMark).filter(n=>n));function kl(n){let t=[];for(let s of n.split("")){if(wl.has(s))continue;let l=Ba[s];if(l==null)throw new Error(`Unknown open/close mark type "${s}"`);t.push(l)}return t}function qr(n,t){if(n==null)return{type:"argument",content:[],openMark:"",closeMark:""};if(typeof n=="string"&&(n=Cl(n)),!Array.isArray(n)&&n.type==="argument")return n;let s=t?.openMark??"{",l=t?.closeMark??"}";if(t?.braces){let r=kl(t.braces);r[0]&&(s=r[0].openMark,l=r[0].closeMark)}return Array.isArray(n)||(n=[n]),{type:"argument",content:n,openMark:s,closeMark:l}}function Cl(n){return typeof n=="string"?{type:"string",content:n}:n}var tt=Symbol("linebreak"),Un="\\";function an(n){if(typeof n=="string")return[n];if(Array.isArray(n))return[].concat(...n.map(l=>an(l)));let t,s;switch(n.type){case"root":return an(n.content);case"argument":return[n.openMark,...an(n.content),n.closeMark];case"comment":let l=n.suffixParbreak?"":tt,r="";return n.sameline&&n.leadingWhitespace&&(r=" "),n.sameline?[r,"%",...an(n.content),l]:[tt,"%",...an(n.content),l];case"environment":case"mathenv":case"verbatim":let a=an(n.env),e=[Un+"begin{",...a,"}"],p=[Un+"end{",...a,"}"];return t=n.args==null?[]:an(n.args),[...e,...t,...an(n.content),...p];case"displaymath":return[Un+"[",...an(n.content),Un+"]"];case"group":return["{",...an(n.content),"}"];case"inlinemath":return["$",...an(n.content),"$"];case"macro":return t=n.args==null?[]:an(n.args),s=n.escapeToken==null?Un:n.escapeToken,[s,...an(n.content),...t];case"parbreak":return[tt,tt];case"string":return[n.content];case"verb":return[Un,n.env,n.escape,...an(n.content),n.escape];case"whitespace":return[" "];default:return console.warn("Cannot find render for node ",n,`(of type ${typeof n})`),[""+n]}}function vn(n,t){let s=t!=null?t.asArray:!1,l=an(n);return s?l:l.map(r=>r===tt?`
`:r).join("")}function Ml(n){let t=Array.isArray(n)?n.length>0?typeof n[0]=="string"?Object.fromEntries(n.map(s=>{if(typeof s!="string")throw new Error("Wrong branch of map function");return[s,{}]})):Object.fromEntries(n.map(s=>{if(typeof s=="string")throw new Error("Wrong branch of map function");return s.escapeToken!=null?[s.content,{escapeToken:s.escapeToken}]:[s.content,{}]})):{}:n;return function(l){if(l==null||l.type!=="macro")return!1;let r=t[l.content];return r?typeof r=="object"&&"escapeToken"in r?r.escapeToken==null||r.escapeToken===l.escapeToken:!0:!1}}function El(n){let t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,{}])):n;return function(l){if(!$e.anyEnvironment(l))return!1;let r=vn(l.env);return!!t[r]}}var $e={macro(n,t){return n==null?!1:n.type==="macro"&&(t==null||n.content===t)},anyMacro(n){return $e.macro(n)},environment(n,t){return n==null?!1:(n.type==="environment"||n.type==="mathenv")&&(t==null||vn(n.env)===t)},anyEnvironment(n){return $e.environment(n)},comment(n){return n==null?!1:n.type==="comment"},parbreak(n){return n==null?!1:n.type==="parbreak"},whitespace(n){return n==null?!1:n.type==="whitespace"},whitespaceLike(n){return n==null?!1:n.type==="whitespace"||n.type==="whitespace"&&n.leadingWhitespace===!0},string(n,t){return n==null?!1:n.type==="string"&&(t==null||n.content===t)},anyString(n){return $e.string(n)},group(n){return n==null?!1:n.type==="group"},argument(n){return n==null?!1:n.type==="argument"},blankArgument(n){return $e.argument(n)?n.openMark===""&&n.closeMark===""&&n.content.length===0:!1},math(n){return n==null?!1:n.type==="displaymath"||n.type==="inlinemath"},createMacroMatcher:Ml,createEnvironmentMatcher:El},{anyEnvironment:_u,anyMacro:Iu,anyString:Pu,argument:Su,blankArgument:Fu,comment:Ru,environment:Ou,group:Du,macro:Tu,math:Bu,parbreak:Lu,string:Nu,whitespace:qu}=$e;function _l(n){let t={enter:[],leave:[]};if(Array.isArray(n))return t;if($e.math(n))return{enter:["content"],leave:[]};let s=n._renderInfo||{};if(s.inMathMode==null)return t;if($e.macro(n)){if(s.inMathMode===!0)return{enter:["args"],leave:[]};if(s.inMathMode===!1)return{enter:[],leave:["args"]}}return $e.environment(n)?s.inMathMode===!0?{enter:["content"],leave:[]}:{enter:[],leave:["content"]}:t}var ii=Symbol("continue"),ai=Symbol("skip"),it=Symbol("exit"),Il={inMathMode:!1,hasMathModeAncestor:!1};function sn(n,t,s){let{startingContext:l=Il,test:r=()=>!0,includeArrays:a=!1}=s||{},e,p;typeof t=="function"?e=t:t&&typeof t=="object"&&(e=t.enter,p=t.leave),h(n,{key:void 0,index:void 0,parents:[],containingArray:void 0,context:{...l}});function h(k,{key:_,index:Y,parents:ee,context:y,containingArray:d}){let z=a?r(k,{key:_,index:Y,parents:ee,context:y,containingArray:d}):!Array.isArray(k)&&r(k,{key:_,index:Y,parents:ee,context:y,containingArray:d}),be=e&&z?ti(e(k,{key:_,index:Y,parents:ee,context:y,containingArray:d})):[ii];if(be[0]===it)return be;if(be[0]===ai)return p&&z?ti(p(k,{key:_,index:Y,parents:ee,context:y,containingArray:d})):be;if(Array.isArray(k))for(let or=0;or>-1&&or<k.length;or++){let xr=k[or],Ee=h(xr,{key:_,index:or,parents:ee,context:y,containingArray:k});if(Ee[0]===it)return Ee;typeof Ee[1]=="number"&&(or=Ee[1]-1)}else{let or=["content","args"];switch(k.type){case"macro":or=["args"];break;case"comment":case"string":case"verb":case"verbatim":or=[];break}let xr=_l(k);for(let Ee of or){let vr=k[Ee],lr=[k].concat(ee);if(vr==null)continue;let yr={...y};xr.enter.includes(Ee)?(yr.inMathMode=!0,yr.hasMathModeAncestor=!0):xr.leave.includes(Ee)&&(yr.inMathMode=!1);let Je=h(vr,{key:Ee,index:void 0,parents:lr,context:yr,containingArray:void 0});if(Je[0]===it)return Je}}return p&&z?ti(p(k,{key:_,index:Y,parents:ee,context:y,containingArray:d})):be}}function ti(n){return n==null?[ii]:Array.isArray(n)?n:typeof n=="number"?[ii,n]:[n]}function zn(n,t){return t!=null&&(n._renderInfo={...n._renderInfo||{},...t}),n}function En(n){if(!Array.isArray(n))return console.warn("Trying to trim a non-array ast",n),n;let{trimmedStart:t}=si(n),{trimmedEnd:s}=at(n);return{trimmedStart:t,trimmedEnd:s}}function si(n){let{start:t}=La(n);n.splice(0,t);for(let s of n){if(!$e.comment(s))break;(s.leadingWhitespace||s.sameline)&&(s.leadingWhitespace=!1),t>0&&s.sameline&&(s.sameline=!1)}return{trimmedStart:t}}function at(n){let{end:t}=La(n);n.splice(n.length-t,t);for(let s=n.length-1;s>=0;s--){let l=n[s];if(!$e.comment(l))break;delete l.suffixParbreak,$e.comment(l)&&l.leadingWhitespace&&!l.sameline&&(l.leadingWhitespace=!1)}return{trimmedEnd:t}}function La(n){let t=0,s=0;for(let l of n)if($e.whitespace(l)||$e.parbreak(l))t++;else break;if(t===n.length)return{start:t,end:0};for(let l=n.length-1;l>=0;l--){let r=n[l];if($e.whitespace(r)||$e.parbreak(r))s++;else break}return{start:t,end:s}}var Na=function(){return t=>{sn(t,s=>{if(!($e.math(s)||$e.anyEnvironment(s)))return;let l=s.content[0];if($e.comment(l)&&l.sameline){l.suffixParbreak=!1,at(s.content);let{trimmedStart:r}=si(s.content.slice(1));s.content.splice(1,r)}else En(s.content)})}},qa=function(){return t=>{En(t.content)}};function Wa(n,t=()=>!1,s){if(!Array.isArray(n))throw new Error(`Can only split an Array, not ${n}`);let{onlySplitOnFirstOccurrence:l=!1}=s||{},r=[];for(let p=0;p<n.length&&!(t(n[p])&&(r.push(p),l));p++);if(r.length===0)return{segments:[n],separators:[]};let a=r.map(p=>n[p]),e=r.map((p,h)=>{let k=h===0?0:r[h-1]+1;return n.slice(k,p)});return e.push(n.slice(r[r.length-1]+1,n.length)),{segments:e,separators:a}}function ja(n,t){if(typeof t=="string"&&(t=[t]),!Array.isArray(t))throw new Error("Type coercion failed");let s=$e.createMacroMatcher(t),{segments:l,separators:r}=Wa(n,s);return{segments:l,macros:r}}function Ga(n,t){for(let s=n.length-1;s>=0;s--){let l=n[s];if(!($e.whitespace(l)||$e.comment(l)||t&&$e.parbreak(l)))return s}}function nn(n,t="item"){let{segments:s,macros:l}=ja(n,t);for(let e=0;e<s.length;e++){let p=s[e];e===0?at(p):En(p),p.length>0&&e>0&&p.unshift({type:"whitespace"})}let r=new WeakSet,a=l.flatMap((e,p)=>{var h;let k=s[p+1],_=Pl(k);return e.args=e.args||[],e.args.push(qr(k,{openMark:"",closeMark:""})),zn(e,{inParMode:!0}),(p>0||((h=s[0])==null?void 0:h.length)>0)&&r.add(e),[e,..._]});a=a.flatMap(e=>r.has(e)?[{type:"parbreak"},e]:e),a.unshift(...s[0]);for(let e=0;e<a.length-1;e++){let p=a[e],h=a[e+1];if($e.parbreak(h)&&($e.comment(p)&&(p.suffixParbreak=!0),$e.macro(p)&&p.args&&p.args[p.args.length-1].closeMark==="")){let k=p.args[p.args.length-1].content,_=k[k.length-1];$e.comment(_)&&(_.suffixParbreak=!0)}}return a}function Pl(n){let t=Ga(n,!0);return t===n.length-1||t==null&&n.length===0?[]:(t==null&&(t=-1),n.splice(t+1))}var za={answerline:{signature:"o"},fillin:{signature:"o o"},fullwidth:{signature:"m"},fillwidthlines:{signature:"m"},fillwidthdottedlines:{signature:"m"},fillwidthgrid:{signature:"m"},makeemptybox:{signature:"m"},CorrectChoiceEmphasis:{signature:"m",renderInfo:{breakAround:!0}},SolutionEmphasis:{signature:"m",renderInfo:{breakAround:!0}},uplevel:{signature:"m",renderInfo:{breakAround:!0}},checkboxchar:{signature:"m",renderInfo:{breakAround:!0}},checkedchar:{signature:"m",renderInfo:{breakAround:!0}},pointname:{signature:"m",renderInfo:{breakAround:!0}},marginpointname:{signature:"m",renderInfo:{breakAround:!0}},extrawidth:{signature:"m",renderInfo:{breakAround:!0}},pointformat:{signature:"m",renderInfo:{breakAround:!0}},bonuspointformat:{signature:"m",renderInfo:{breakAround:!0}},totalformat:{signature:"m",renderInfo:{breakAround:!0}},qformat:{signature:"m",renderInfo:{breakAround:!0}},titledquestion:{signature:"m o",renderInfo:{breakAround:!0}},pointpoints:{signature:"m m",renderInfo:{breakAround:!0}},bonuspointpoints:{signature:"m m",renderInfo:{breakAround:!0}}},Ha={choices:{signature:"o",processContent:n=>nn(n,"choice")},checkboxes:{signature:"o",processContent:n=>nn(n,"choice")},oneparchoices:{signature:"o",processContent:n=>nn(n,"choice")},oneparcheckboxes:{signature:"o",processContent:n=>nn(n,"choice")},parts:{signature:"o",processContent:n=>nn(n,"part")},subparts:{signature:"o",processContent:n=>nn(n,"subpart")},subsubparts:{signature:"o",processContent:n=>nn(n,"subsubpart")},questions:{signature:"o",processContent:n=>nn(n,"question")}};var Ua={geometry:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}}},Xa={};var Va={hypersetup:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},href:{signature:"o m m"},url:{signature:"m"},nolinkurl:{signature:"m"},hyperbaseurl:{signature:"m"},hyperimage:{signature:"m m"},hyperdef:{signature:"m m m"},hyperref:{signature:"o m"},hyperlink:{signature:"m m"},hypertarget:{signature:"m m"},autoref:{signature:"s m"},pageref:{signature:"s m"},autopageref:{signature:"s m"},pdfstringdef:{signature:"m m"},pdfbookmark:{signature:"o m m"},currentpdfbookmark:{signature:"m m"},subpdfbookmark:{signature:"m m"},belowpdfbookmark:{signature:"m m"},texorpdfstring:{signature:"m m"},thispdfpagelabel:{signature:"m"},hypercalcbp:{signature:"m"}},Ka={};var Ya={"\\":{signature:"!s !o",renderInfo:{breakAfter:!0}},_:{signature:"m",escapeToken:""},"^":{signature:"m",escapeToken:""},newcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},renewcommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred","name","numArgs","default","body"]}},providecommand:{signature:"s +m o +o +m",renderInfo:{breakAround:!0}},newcounter:{signature:"m o",renderInfo:{breakAround:!0}},usecounter:{signature:"m"},setcounter:{signature:"m m",renderInfo:{breakAround:!0}},addtocounter:{signature:"m m",renderInfo:{breakAround:!0}},stepcounter:{signature:"m",renderInfo:{breakAround:!0}},refstepcounter:{signature:"m",renderInfo:{breakAround:!0}},newlength:{signature:"m",renderInfo:{breakAround:!0}},addtolength:{signature:"m m",renderInfo:{breakAround:!0}},settodepth:{signature:"m m",renderInfo:{breakAround:!0}},settoheight:{signature:"m m",renderInfo:{breakAround:!0}},settowidth:{signature:"m m",renderInfo:{breakAround:!0}},stretch:{signature:"m"},hspace:{signature:"s m"},vspace:{signature:"s m",renderInfo:{breakAround:!0}},vfill:{renderInfo:{breakAround:!0}},indent:{renderInfo:{breakAround:!0}},phantom:{signature:"m"},vphantom:{signature:"m"},hphantom:{signature:"m"},noindent:{renderInfo:{breakAround:!0}},smallskip:{renderInfo:{breakAround:!0}},medskip:{renderInfo:{breakAround:!0}},bigskip:{renderInfo:{breakAround:!0}},smallbreak:{renderInfo:{breakAround:!0}},medbreak:{renderInfo:{breakAround:!0}},bigbreak:{renderInfo:{breakAround:!0}},newline:{renderInfo:{breakAround:!0}},linebreak:{signature:"o",renderInfo:{breakAround:!0}},nolinebreak:{signature:"o",renderInfo:{breakAround:!0}},clearpage:{renderInfo:{breakAround:!0}},cleardoublepage:{renderInfo:{breakAround:!0}},newpage:{renderInfo:{breakAround:!0}},enlargethispage:{signature:"s",renderInfo:{breakAround:!0}},pagebreak:{signature:"o",renderInfo:{breakAround:!0}},nopagebreak:{signature:"o",renderInfo:{breakAround:!0}},newsavebox:{signature:"m",renderInfo:{breakAround:!0}},sbox:{signature:"m m",renderInfo:{breakAround:!0}},savebox:{signature:"m o o m",renderInfo:{breakAround:!0}},mbox:{signature:"m"},makebox:{signature:"d() o o m",renderInfo:{breakAround:!0}},fbox:{signature:"m"},framebox:{signature:"o o m",renderInfo:{breakAround:!0}},frame:{signature:"m",renderInfo:{breakAround:!0}},parbox:{signature:"o o o m m",renderInfo:{breakAround:!0}},raisebox:{signature:"m o o m"},marginpar:{signature:"o m",renderInfo:{breakAround:!0}},colorbox:{signature:"o m m",renderInfo:{breakAround:!0}},fcolorbox:{signature:"o m m",renderInfo:{breakAround:!0}},rotatebox:{signature:"o m m"},scalebox:{signature:"m o m"},reflectbox:{signature:"m"},resizebox:{signature:"s m m m"},newenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s m o o m m",renderInfo:{breakAround:!0}},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},newfont:{signature:"m m",renderInfo:{breakAround:!0}},alph:{signature:"m"},Alph:{signature:"m"},arabic:{signature:"m"},roman:{signature:"m"},Roman:{signature:"m"},fnsymbol:{signature:"m"},documentclass:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepackage:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},item:{signature:"o",renderInfo:{hangingIndent:!0,namedArguments:["label"]}},value:{signature:"m"},centering:{renderInfo:{breakAround:!0}},input:{signature:"m",renderInfo:{breakAround:!0}},include:{signature:"m",renderInfo:{breakAround:!0}},includeonly:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},discretionary:{signature:"m m m"},hyphenation:{signature:"m"},footnote:{signature:"o m",renderInfo:{inParMode:!0}},footnotemark:{signature:"o"},footnotetext:{signature:"o m",renderInfo:{inParMode:!0}},caption:{signature:"o m",renderInfo:{inParMode:!0,breakAround:!0}},sqrt:{signature:"o m",renderInfo:{inMathMode:!0}},frac:{signature:"m m",renderInfo:{inMathMode:!0}},stackrel:{signature:"m m"},ensuremath:{signature:"m",renderInfo:{inMathMode:!0}},abstract:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},maketitle:{renderInfo:{breakAround:!0}},doublespacing:{renderInfo:{breakAround:!0}},singlespacing:{renderInfo:{breakAround:!0}},date:{signature:"o m",renderInfo:{breakAround:!0}},thanks:{signature:"m",renderInfo:{breakAround:!0,inParMode:!0}},pagenumbering:{signature:"m",renderInfo:{breakAround:!0}},pagestyle:{signature:"m",renderInfo:{breakAround:!0}},thispagestyle:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"m m m",renderInfo:{breakAround:!0}},pagecolor:{signature:"o m",renderInfo:{breakAround:!0}},nopagecolor:{renderInfo:{breakAround:!0}},multicolumn:{signature:"m m m"},includegraphics:{signature:"s o o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},rule:{signature:"o m m"},part:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},chapter:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},section:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subsubsection:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},paragraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},subparagraph:{signature:"s o m",renderInfo:{breakAround:!0,inParMode:!0,namedArguments:["starred","tocTitle","title"]}},appendix:{renderInfo:{breakAround:!0,inParMode:!0}},frontmatter:{renderInfo:{breakAround:!0,inParMode:!0}},mainmatter:{renderInfo:{breakAround:!0,inParMode:!0}},backmatter:{renderInfo:{breakAround:!0,inParMode:!0}},bibitem:{signature:"o m",renderInfo:{hangingIndent:!0}},cite:{signature:"o m"},textrm:{signature:"m",renderInfo:{inParMode:!0}},textit:{signature:"m",renderInfo:{inParMode:!0}},textmd:{signature:"m",renderInfo:{inParMode:!0}},textbf:{signature:"m",renderInfo:{inParMode:!0}},textup:{signature:"m",renderInfo:{inParMode:!0}},textsl:{signature:"m",renderInfo:{inParMode:!0}},textsf:{signature:"m",renderInfo:{inParMode:!0}},textsc:{signature:"m",renderInfo:{inParMode:!0}},texttt:{signature:"m",renderInfo:{inParMode:!0}},underline:{signature:"m",renderInfo:{inParMode:!0}},emph:{signature:"m",renderInfo:{inParMode:!0}},textnormal:{signature:"m",renderInfo:{inParMode:!0}},uppercase:{signature:"m",renderInfo:{inParMode:!0}},mathbf:{signature:"m"},mathsf:{signature:"m"},mathtt:{signature:"m"},mathit:{signature:"m"},mathnormal:{signature:"m"},mathcal:{signature:"m"},mathrm:{signature:"m"},setlength:{signature:"m m",renderInfo:{breakAround:!0}},ref:{signature:"s m"},label:{signature:"o m"},printbibliography:{renderInfo:{breakAround:!0}},addtocontents:{signature:"m m",renderInfo:{breakAround:!0}},addcontentsline:{signature:"m m m",renderInfo:{breakAround:!0}},contentsline:{signature:"m m m",renderInfo:{breakAround:!0}},bibliography:{signature:"m",renderInfo:{breakAround:!0}},bibliographystyle:{signature:"m",renderInfo:{breakAround:!0}}},Za={document:{processContent:n=>(En(n),n)},array:{signature:"o m",renderInfo:{alignContent:!0}},description:{signature:"o",processContent:nn},enumerate:{signature:"o",processContent:nn,renderInfo:{pgfkeysArgs:!0}},itemize:{signature:"o",processContent:nn},trivlist:{signature:"o",processContent:nn},list:{signature:"m m",processContent:nn},figure:{signature:"o"},"figure*":{signature:"o"},filecontents:{signature:"o m"},"filecontents*":{signature:"o m"},minipage:{signature:"o o o m"},picture:{signature:"r() d()"},tabbing:{renderInfo:{alignContent:!0}},table:{signature:"o"},tabular:{signature:"o m",renderInfo:{alignContent:!0}},"tabular*":{signature:"m o m",renderInfo:{alignContent:!0}},thebibliography:{signature:"m",processContent:n=>nn(n,"bibitem")},math:{renderInfo:{inMathMode:!0}}};var Sl=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={document:Ji,math:tl},k=Ji,_="%",Y=".",ee="verb*",y="verb",d="[",z="]",be="lstinline",or="mintinline",xr="mint",Ee="minted",vr="verbatim*",lr="verbatim",yr="filecontents*",Je="filecontents",kr="comment",Rr="lstlisting",Cr="(",Pr=")",Ar="begin",fe="end",wr="equation*",Ze="equation",he="align*",Qe="align",cr="alignat*",Sr="alignat",nr="gather*",ue="gather",we="multline*",B="multline",Mr="flalign*",hr="flalign",dr="split",He="math",Or="displaymath",Wr="\\",Hr="{",Lr="}",jr="$",gr="&",Ur="\r",Nr=`
`,H=`\r
`,ie="#",le="^",Be="_",er="\0",re=/^[^ \t\n\r]/,Dr=/^[ \t]/,Er=/^[a-zA-Z]/,G=/^[0-9]/,N=/^[.,;:\-*\/()!?=+<>[\]`'"~]/,O=Tr("document"),ir=Tr("math"),V=Tr("token"),_e=el(),Ge=Tr("parbreak"),Fe=Tr("math token"),ae=Tr("nonchar token"),Gr=ze("%",!1),ar=Tr("whitespace"),Yr=Tr("number"),pr=ze(".",!1),E=Tr("special macro"),w=ze("verb*",!1),F=ze("verb",!1),U=ze("[",!1),J=ze("]",!1),Ie=et([" ","	",`
`,"\r"],!0,!1),Ve=Tr("verbatim listings"),qe=ze("lstinline",!1),Xe=Tr("verbatim minted"),Ke=ze("mintinline",!1),rr=ze("mint",!1),je=Tr("verbatim minted environment"),sr=ze("minted",!1),D=Tr("verbatim environment"),Z=ze("verbatim*",!1),Ae=ze("verbatim",!1),Te=ze("filecontents*",!1),ge=ze("filecontents",!1),fr=ze("comment",!1),We=ze("lstlisting",!1),b=Tr("macro"),W=Tr("group"),q=Tr("environment"),Se=Tr("math environment"),Ne=ze("(",!1),xe=ze(")",!1),_r=ze("begin",!1),A=ze("end",!1),f=ze("equation*",!1),L=ze("equation",!1),Oe=ze("align*",!1),tr=ze("align",!1),te=ze("alignat*",!1),en=ze("alignat",!1),Xr=ze("gather*",!1),$n=ze("gather",!1),Sn=ze("multline*",!1),jn=ze("multline",!1),Ir=ze("flalign*",!1),Fn=ze("flalign",!1),bn=ze("split",!1),ke=ze("math",!1),An=ze("displaymath",!1),wn=Tr("escape"),on=ze("\\",!1),tn=ze("{",!1),g=ze("}",!1),S=ze("$",!1),R=ze("&",!1),pe=Tr("newline"),oe=ze("\r",!1),me=ze(`
`,!1),$=ze(`\r
`,!1),T=ze("#",!1),ne=ze("^",!1),ce=ze("_",!1),Pe=ze("\0",!1),mr=et([" ","	"],!1,!1),Fr=Tr("letter"),Vr=et([["a","z"],["A","Z"]],!1,!1),gt=Tr("digit"),Bt=et([["0","9"]],!1,!1),Lt=Tr("punctuation"),Rn=et([".",",",";",":","-","*","/","(",")","!","?","=","+","<",">","[","]","`","'",'"',"~"],!1,!1),Nt=Tr("full comment"),qt=Tr("comment"),pt=function(i){return Ye("root",{content:i.flatMap(u=>u)})},Qn=function(i){return i},mt=function(i){return Ye("inlinemath",{content:i.flatMap(u=>u)})},On=function(i){return Ye("string",{content:i})},Wt=function(i){return Ye("string",{content:i})},Dn=function(){return Ye("parbreak")},ht=function(i){return i},dt=function(i){return i},Tn=function(){return Ye("macro",{content:"^",escapeToken:""})},Gn=function(){return Ye("macro",{content:"_",escapeToken:""})},m=function(i){return Ye("string",{content:i})},C=function(){return Ye("whitespace")},j=function(i,u){return i.join("")+"."+u.join("")},K=function(i){return"."+i.join("")},ye=function(i){return i.join("")+"."},Me=function(i){return Ye("string",{content:i})},$r=function(i,u,x){return x==u},rn=function(i,u,x){return x},Bn=function(i,u,x,v){return v==u},Ln=function(i,u,x){return Ye("verb",{env:i,escape:u,content:x.join("")})},Fi=function(i){return i},$o=function(i){return Ye("displaymath",{content:i.flatMap(u=>u)})},Ri=function(i){return i},bo=function(i){return Ye("inlinemath",{content:i.flatMap(u=>u)})},Oi=function(i){return i},Ao=function(i){return Ye("displaymath",{content:i.flatMap(u=>u)})},Di=function(i){return i.type==="string"&&i.content==="]"},Ti=function(i){return i},xo=function(i){return[Ye("string",{content:"["}),...i,Ye("string",{content:"]"})]},Bi=function(i){return i},wo=function(i){return Ye("group",{content:Ye("string",{content:i.join("")})})},Li=function(i,u){return u==i},Ni=function(i,u){return u},ko=function(i,u,x){return x==i},Co=function(i,u){return[Ye("string",{content:i}),Ye("string",{content:u.join("")}),Ye("string",{content:i})]},Mo=function(i,u,x){return[Ye("macro",{content:i}),...u||[],...[].concat(x)]},Eo=function(i,u,x,v){return[Ye("macro",{content:i}),...u||[],x,...[].concat(v)]},qi=function(i,u,x,v){return At({content:[i]},v)},_o=function(i,u,x,v){let P=[...u||[],x,{type:"string",content:v}];return Ye("environment",{env:i,content:P})},Wi=function(i,u){return At({content:[i]},u)},ji=function(i,u){return u},Io=function(i,u){return Ye("verbatim",{env:i,content:u})},Po=function(i){return i.join("")},So=function(i){return i},Fo=function(i){return Ye("macro",{content:i})},Gi=function(i){return i},Ro=function(i){return Ye("group",{content:i.flatMap(u=>u)})},Oo=function(i){return Qo().slice(1,-1)},zi=function(i,u,x){return At(i,x)},Hi=function(i,u,x){return x},Do=function(i,u,x){return x=x.flatMap(v=>v),Ye("environment",{env:i,content:u?[u,...x]:x})},Ui=function(i,u,x){return At({content:[i]},x)},Xi=function(i,u,x){return x},To=function(i,u,x){return x=x.flatMap(v=>v),Ye("mathenv",{env:i,content:u?[u,...x]:x})},Bo=function(i){return Ye("string",{content:i})},Lo=function(){return Ye("string",{content:"\\"})},No=function(i){return Ye("string",{content:i})},qo=function(i){return Ye("string",{content:i})},Wo=function(i){return Ye("string",{content:i})},jo=function(i){return Ye("string",{content:i})},Go=function(i){return Ye("string",{content:i})},zo=function(i){return Ye("string",{content:i})},Ho=function(i){return Ye("string",{content:i})},Uo=function(){return" "},Xo=function(i){return Ye("string",{content:i})},Vo=function(i,u){return Ye("comment",{...u,sameline:!1,leadingWhitespace:i.length>0})},Ko=function(i,u){return Ye("comment",{...u,sameline:!0,leadingWhitespace:i.length>0})},Vi=function(i){return i},Yo=function(i){return{content:i.join(""),suffixParbreak:!0}},Ki=function(i){return i},Zo=function(i){return{content:i.join("")}},Jo=function(){var i=Yi();return i.start.column===1},o=0,de=0,vt=[{line:1,column:1}],kn=0,jt=[],I=0,yt;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Qo(){return r.substring(de,o)}function Yi(){return Gt(de,o)}function ze(i,u){return{type:"literal",text:i,ignoreCase:u}}function et(i,u,x){return{type:"class",parts:i,inverted:u,ignoreCase:x}}function el(){return{type:"any"}}function rl(){return{type:"end"}}function Tr(i){return{type:"other",description:i}}function Zi(i){var u=vt[i],x;if(u)return u;for(x=i-1;!vt[x];)x--;for(u=vt[x],u={line:u.line,column:u.column};x<i;)r.charCodeAt(x)===10?(u.line++,u.column=1):u.column++,x++;return vt[i]=u,u}function Gt(i,u,x){var v=Zi(i),P=Zi(u),M={source:p,start:{offset:i,line:v.line,column:v.column},end:{offset:u,line:P.line,column:P.column}};return M}function se(i){o<kn||(o>kn&&(kn=o,jt=[]),jt.push(i))}function nl(i,u,x){return new t(t.buildMessage(i,u),i,u,x)}function Ji(){var i,u,x;for(I++,i=o,u=[],x=Cn();x!==e;)u.push(x),x=Cn();return de=i,u=pt(u),i=u,I--,u=e,I===0&&se(O),i}function tl(){var i,u;for(I++,i=[],u=pn();u!==e;)i.push(u),u=pn();return I--,u=e,I===0&&se(ir),i}function Cn(){var i,u,x,v,P,M;if(I++,i=ra(),i===e&&(i=aa(),i===e&&(i=fa(),i===e&&(i=xn(),i===e)))){if(i=o,u=fn(),u!==e){if(x=[],v=o,P=o,I++,M=fn(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Qn(M)):(o=v,v=e)):(o=v,v=e),v!==e)for(;v!==e;)x.push(v),v=o,P=o,I++,M=fn(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Qn(M)):(o=v,v=e)):(o=v,v=e);else x=e;x!==e?(v=fn(),v!==e?(de=i,i=mt(x)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;if(i===e&&(i=Xt(),i===e&&(i=Qi(),i===e&&(i=Vt(),i===e&&(i=Kt(),i===e&&(i=il(),i===e&&(i=Zr(),i===e&&(i=la(),i===e)))))))){if(i=o,u=o,x=[],v=o,P=o,I++,M=ea(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(P=[P,M],v=P):(o=v,v=e)):(o=v,v=e),v!==e)for(;v!==e;)x.push(v),v=o,P=o,I++,M=ea(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(P=[P,M],v=P):(o=v,v=e)):(o=v,v=e);else x=e;x!==e?u=r.substring(u,o):u=x,u!==e&&(de=i,u=On(u)),i=u,i===e&&(i=Mn(),i===e&&(i=ln(),i===e&&(i=fn(),i===e&&(i=o,r.length>o?(u=r.charAt(o),o++):(u=e,I===0&&se(_e)),u!==e&&(de=i,u=Wt(u)),i=u))))}}return I--,i===e&&(u=e,I===0&&se(V)),i}function Qi(){var i,u,x,v,P,M,Q,X;for(I++,i=o,u=o,x=[],v=br();v!==e;)x.push(v),v=br();if(v=Qr(),v!==e){for(P=[],M=o,Q=[],X=br();X!==e;)Q.push(X),X=br();if(X=Qr(),X!==e?(Q=[Q,X],M=Q):(o=M,M=e),M!==e)for(;M!==e;){for(P.push(M),M=o,Q=[],X=br();X!==e;)Q.push(X),X=br();X=Qr(),X!==e?(Q=[Q,X],M=Q):(o=M,M=e)}else P=e;if(P!==e){for(M=[],Q=br();Q!==e;)M.push(Q),Q=br();Q=o,I++,X=rt(),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(x=[x,v,P,M,Q],u=x):(o=u,u=e)}else o=u,u=e}else o=u,u=e;if(u===e){for(u=o,x=[],v=br();v!==e;)x.push(v),v=br();if(v=Qr(),v!==e){for(P=[],M=o,Q=[],X=br();X!==e;)Q.push(X),X=br();if(X=Qr(),X!==e?(Q=[Q,X],M=Q):(o=M,M=e),M!==e)for(;M!==e;){for(P.push(M),M=o,Q=[],X=br();X!==e;)Q.push(X),X=br();X=Qr(),X!==e?(Q=[Q,X],M=Q):(o=M,M=e)}else P=e;P!==e?(x=[x,v,P],u=x):(o=u,u=e)}else o=u,u=e}return u!==e&&(de=i,u=Dn()),i=u,I--,i===e&&(u=e,I===0&&se(Ge)),i}function pn(){var i,u,x,v,P;if(I++,i=ra(),i===e&&(i=aa(),i===e&&(i=fa(),i===e))){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=xn(),x!==e){for(v=[],P=Zr();P!==e;)v.push(P),P=Zr();de=i,i=ht(x)}else o=i,i=e;if(i===e){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=Xt(),x!==e){for(v=[],P=Zr();P!==e;)v.push(P),P=Zr();de=i,i=dt(x)}else o=i,i=e;if(i===e&&(i=Vt(),i===e)){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=pl(),x!==e){for(v=[],P=Zr();P!==e;)v.push(P),P=Zr();de=i,i=Tn()}else o=i,i=e;if(i===e){for(i=o,u=[],x=Zr();x!==e;)u.push(x),x=Zr();if(x=ml(),x!==e){for(v=[],P=Zr();P!==e;)v.push(P),P=Zr();de=i,i=Gn()}else o=i,i=e;i===e&&(i=Kt(),i===e&&(i=Zr(),i===e&&(i=o,r.length>o?(u=r.charAt(o),o++):(u=e,I===0&&se(_e)),u!==e&&(de=i,u=m(u)),i=u)))}}}}return I--,i===e&&(u=e,I===0&&se(Fe)),i}function ea(){var i;return I++,i=hn(),i===e&&(r.charCodeAt(o)===37?(i=_,o++):(i=e,I===0&&se(Gr)),i===e&&(i=Mn(),i===e&&(i=ln(),i===e&&(i=fn(),i===e&&(i=Xt(),i===e&&(i=Qr(),i===e&&(i=Vt(),i===e&&(i=Kt(),i===e&&(i=br(),i===e&&(i=la(),i===e&&(i=ca()))))))))))),I--,i===e&&I===0&&se(ae),i}function Zr(){var i,u,x,v,P,M,Q,X;if(I++,i=o,u=o,x=Qr(),x!==e){for(v=[],P=br();P!==e;)v.push(P),P=br();x=[x,v],u=x}else o=u,u=e;if(u===e){if(u=o,x=[],v=br(),v!==e)for(;v!==e;)x.push(v),v=br();else x=e;if(x!==e)if(v=Qr(),v!==e)if(P=o,I++,M=rt(),I--,M===e?P=void 0:(o=P,P=e),P!==e){for(M=[],Q=br();Q!==e;)M.push(Q),Q=br();Q=o,I++,X=Qr(),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(x=[x,v,P,M,Q],u=x):(o=u,u=e)}else o=u,u=e;else o=u,u=e;else o=u,u=e;if(u===e)if(u=[],x=br(),x!==e)for(;x!==e;)u.push(x),x=br();else u=e}return u!==e&&(de=i,u=C()),i=u,I--,i===e&&(u=e,I===0&&se(ar)),i}function il(){var i,u,x,v,P,M;if(I++,i=o,u=o,x=[],v=Nn(),v!==e)for(;v!==e;)x.push(v),v=Nn();else x=e;if(x!==e)if(r.charCodeAt(o)===46?(v=Y,o++):(v=e,I===0&&se(pr)),v!==e){if(P=[],M=Nn(),M!==e)for(;M!==e;)P.push(M),M=Nn();else P=e;P!==e?(de=u,u=j(x,P)):(o=u,u=e)}else o=u,u=e;else o=u,u=e;if(u===e){if(u=o,r.charCodeAt(o)===46?(x=Y,o++):(x=e,I===0&&se(pr)),x!==e){if(v=[],P=Nn(),P!==e)for(;P!==e;)v.push(P),P=Nn();else v=e;v!==e?(de=u,u=K(v)):(o=u,u=e)}else o=u,u=e;if(u===e){if(u=o,x=[],v=Nn(),v!==e)for(;v!==e;)x.push(v),v=Nn();else x=e;x!==e?(r.charCodeAt(o)===46?(v=Y,o++):(v=e,I===0&&se(pr)),v!==e?(de=u,u=ye(x)):(o=u,u=e)):(o=u,u=e)}}return u!==e&&(de=i,u=Me(u)),i=u,I--,i===e&&(u=e,I===0&&se(Yr)),i}function ra(){var i,u,x,v,P,M,Q,X,Re,ve;if(I++,i=o,u=hn(),u!==e)if(r.substr(o,5)===ee?(x=ee,o+=5):(x=e,I===0&&se(w)),x===e&&(r.substr(o,4)===y?(x=y,o+=4):(x=e,I===0&&se(F))),x!==e)if(r.length>o?(v=r.charAt(o),o++):(v=e,I===0&&se(_e)),v!==e){for(P=[],M=o,Q=o,I++,X=o,r.length>o?(Re=r.charAt(o),o++):(Re=e,I===0&&se(_e)),Re!==e?(de=o,ve=$r(x,v,Re),ve?ve=void 0:ve=e,ve!==e?(Re=[Re,ve],X=Re):(o=X,X=e)):(o=X,X=e),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(r.length>o?(X=r.charAt(o),o++):(X=e,I===0&&se(_e)),X!==e?(de=M,M=rn(x,v,X)):(o=M,M=e)):(o=M,M=e);M!==e;)P.push(M),M=o,Q=o,I++,X=o,r.length>o?(Re=r.charAt(o),o++):(Re=e,I===0&&se(_e)),Re!==e?(de=o,ve=$r(x,v,Re),ve?ve=void 0:ve=e,ve!==e?(Re=[Re,ve],X=Re):(o=X,X=e)):(o=X,X=e),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(r.length>o?(X=r.charAt(o),o++):(X=e,I===0&&se(_e)),X!==e?(de=M,M=rn(x,v,X)):(o=M,M=e)):(o=M,M=e);M=o,r.length>o?(Q=r.charAt(o),o++):(Q=e,I===0&&se(_e)),Q!==e?(de=o,X=Bn(x,v,P,Q),X?X=void 0:X=e,X!==e?(Q=[Q,X],M=Q):(o=M,M=e)):(o=M,M=e),M!==e?(de=i,i=Ln(x,v,P)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;if(i===e&&(i=al(),i===e&&(i=sl(),i===e&&(i=ol(),i===e&&(i=ll(),i===e))))){if(i=o,u=cl(),u!==e){for(x=[],v=o,P=o,I++,M=Ht(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Fi(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=Ht(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Fi(M)):(o=v,v=e)):(o=v,v=e);v=Ht(),v!==e?(de=i,i=$o(x)):(o=i,i=e)}else o=i,i=e;if(i===e){if(i=o,u=gl(),u!==e){for(x=[],v=o,P=o,I++,M=Ut(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Ri(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=Ut(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=pn(),M!==e?(de=v,v=Ri(M)):(o=v,v=e)):(o=v,v=e);v=Ut(),v!==e?(de=i,i=bo(x)):(o=i,i=e)}else o=i,i=e;if(i===e){if(i=o,u=fn(),u!==e)if(x=fn(),x!==e){for(v=[],P=o,M=o,I++,Q=o,X=fn(),X!==e?(Re=fn(),Re!==e?(X=[X,Re],Q=X):(o=Q,Q=e)):(o=Q,Q=e),I--,Q===e?M=void 0:(o=M,M=e),M!==e?(Q=pn(),Q!==e?(de=P,P=Oi(Q)):(o=P,P=e)):(o=P,P=e);P!==e;)v.push(P),P=o,M=o,I++,Q=o,X=fn(),X!==e?(Re=fn(),Re!==e?(X=[X,Re],Q=X):(o=Q,Q=e)):(o=Q,Q=e),I--,Q===e?M=void 0:(o=M,M=e),M!==e?(Q=pn(),Q!==e?(de=P,P=Oi(Q)):(o=P,P=e)):(o=P,P=e);P=fn(),P!==e?(M=fn(),M!==e?(de=i,i=Ao(v)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;i===e&&(i=ul(),i===e&&(i=fl()))}}}return I--,i===e&&(u=e,I===0&&se(E)),i}function zt(){var i,u,x,v,P,M,Q,X;if(i=o,r.charCodeAt(o)===91?(u=d,o++):(u=e,I===0&&se(U)),u!==e){for(x=[],v=o,P=o,I++,M=o,Q=Cn(),Q!==e?(de=o,X=Di(Q),X?X=void 0:X=e,X!==e?(Q=[Q,X],M=Q):(o=M,M=e)):(o=M,M=e),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=Cn(),M!==e?(de=v,v=Ti(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=o,Q=Cn(),Q!==e?(de=o,X=Di(Q),X?X=void 0:X=e,X!==e?(Q=[Q,X],M=Q):(o=M,M=e)):(o=M,M=e),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=Cn(),M!==e?(de=v,v=Ti(M)):(o=v,v=e)):(o=v,v=e);r.charCodeAt(o)===93?(v=z,o++):(v=e,I===0&&se(J)),v!==e?(de=i,i=xo(x)):(o=i,i=e)}else o=i,i=e;return i}function na(){var i,u,x,v,P,M;if(i=o,u=Mn(),u!==e){for(x=[],v=o,P=o,I++,M=ln(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Bi(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=ln(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Bi(M)):(o=v,v=e)):(o=v,v=e);v=ln(),v!==e?(de=i,i=wo(x)):(o=i,i=e)}else o=i,i=e;return i}function ta(){var i,u,x,v,P,M,Q,X;if(i=o,re.test(r.charAt(o))?(u=r.charAt(o),o++):(u=e,I===0&&se(Ie)),u!==e){for(x=[],v=o,P=o,I++,M=o,r.length>o?(Q=r.charAt(o),o++):(Q=e,I===0&&se(_e)),Q!==e?(de=o,X=Li(u,Q),X?X=void 0:X=e,X!==e?(Q=[Q,X],M=Q):(o=M,M=e)):(o=M,M=e),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Ni(u,M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=o,r.length>o?(Q=r.charAt(o),o++):(Q=e,I===0&&se(_e)),Q!==e?(de=o,X=Li(u,Q),X?X=void 0:X=e,X!==e?(Q=[Q,X],M=Q):(o=M,M=e)):(o=M,M=e),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Ni(u,M)):(o=v,v=e)):(o=v,v=e);v=o,r.length>o?(P=r.charAt(o),o++):(P=e,I===0&&se(_e)),P!==e?(de=o,M=ko(u,x,P),M?M=void 0:M=e,M!==e?(P=[P,M],v=P):(o=v,v=e)):(o=v,v=e),v!==e?(de=i,i=Co(u,x)):(o=i,i=e)}else o=i,i=e;return i}function al(){var i,u,x,v,P;return I++,i=o,u=hn(),u!==e?(r.substr(o,9)===be?(x=be,o+=9):(x=e,I===0&&se(qe)),x!==e?(v=zt(),v===e&&(v=null),P=na(),P===e&&(P=ta()),P!==e?(de=i,i=Mo(x,v,P)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e),I--,i===e&&(u=e,I===0&&se(Ve)),i}function sl(){var i,u,x,v,P,M;return I++,i=o,u=hn(),u!==e?(r.substr(o,10)===or?(x=or,o+=10):(x=e,I===0&&se(Ke)),x===e&&(r.substr(o,4)===xr?(x=xr,o+=4):(x=e,I===0&&se(rr))),x!==e?(v=zt(),v===e&&(v=null),P=xn(),P!==e?(M=na(),M===e&&(M=ta()),M!==e?(de=i,i=Eo(x,v,P,M)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e),I--,i===e&&(u=e,I===0&&se(Xe)),i}function ol(){var i,u,x,v,P,M,Q,X,Re,ve,Le,Ue,ur,qn,dn;if(I++,i=o,u=bt(),u!==e)if(x=Mn(),x!==e)if(r.substr(o,6)===Ee?(v=Ee,o+=6):(v=e,I===0&&se(sr)),v!==e)if(P=ln(),P!==e)if(M=zt(),M===e&&(M=null),Q=xn(),Q!==e){for(X=o,Re=[],ve=o,Le=o,I++,Ue=o,ur=mn(),ur!==e?(qn=xn(),qn!==e?(de=o,dn=qi(v,M,Q,qn),dn?dn=void 0:dn=e,dn!==e?(ur=[ur,qn,dn],Ue=ur):(o=Ue,Ue=e)):(o=Ue,Ue=e)):(o=Ue,Ue=e),I--,Ue===e?Le=void 0:(o=Le,Le=e),Le!==e?(r.length>o?(Ue=r.charAt(o),o++):(Ue=e,I===0&&se(_e)),Ue!==e?(Le=[Le,Ue],ve=Le):(o=ve,ve=e)):(o=ve,ve=e);ve!==e;)Re.push(ve),ve=o,Le=o,I++,Ue=o,ur=mn(),ur!==e?(qn=xn(),qn!==e?(de=o,dn=qi(v,M,Q,qn),dn?dn=void 0:dn=e,dn!==e?(ur=[ur,qn,dn],Ue=ur):(o=Ue,Ue=e)):(o=Ue,Ue=e)):(o=Ue,Ue=e),I--,Ue===e?Le=void 0:(o=Le,Le=e),Le!==e?(r.length>o?(Ue=r.charAt(o),o++):(Ue=e,I===0&&se(_e)),Ue!==e?(Le=[Le,Ue],ve=Le):(o=ve,ve=e)):(o=ve,ve=e);X=r.substring(X,o),Re=mn(),Re!==e?(ve=Mn(),ve!==e?(r.substr(o,6)===Ee?(Le=Ee,o+=6):(Le=e,I===0&&se(sr)),Le!==e?(Ue=ln(),Ue!==e?(de=i,i=_o(v,M,Q,X)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(je)),i}function ll(){var i,u,x,v,P,M,Q,X,Re,ve,Le,Ue,ur;if(I++,i=o,u=bt(),u!==e)if(x=Mn(),x!==e)if(v=ia(),v!==e)if(P=ln(),P!==e){for(M=o,Q=[],X=o,Re=o,I++,ve=o,Le=mn(),Le!==e?(Ue=xn(),Ue!==e?(de=o,ur=Wi(v,Ue),ur?ur=void 0:ur=e,ur!==e?(Le=[Le,Ue,ur],ve=Le):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),I--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(r.length>o?(ve=r.charAt(o),o++):(ve=e,I===0&&se(_e)),ve!==e?(de=X,X=ji(v,ve)):(o=X,X=e)):(o=X,X=e);X!==e;)Q.push(X),X=o,Re=o,I++,ve=o,Le=mn(),Le!==e?(Ue=xn(),Ue!==e?(de=o,ur=Wi(v,Ue),ur?ur=void 0:ur=e,ur!==e?(Le=[Le,Ue,ur],ve=Le):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),I--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(r.length>o?(ve=r.charAt(o),o++):(ve=e,I===0&&se(_e)),ve!==e?(de=X,X=ji(v,ve)):(o=X,X=e)):(o=X,X=e);M=r.substring(M,o),Q=mn(),Q!==e?(X=Mn(),X!==e?(Re=ia(),Re!==e?(ve=ln(),ve!==e?(de=i,i=Io(v,M)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(D)),i}function ia(){var i;return r.substr(o,9)===vr?(i=vr,o+=9):(i=e,I===0&&se(Z)),i===e&&(r.substr(o,8)===lr?(i=lr,o+=8):(i=e,I===0&&se(Ae)),i===e&&(r.substr(o,13)===yr?(i=yr,o+=13):(i=e,I===0&&se(Te)),i===e&&(r.substr(o,12)===Je?(i=Je,o+=12):(i=e,I===0&&se(ge)),i===e&&(r.substr(o,7)===kr?(i=kr,o+=7):(i=e,I===0&&se(fr)),i===e&&(r.substr(o,10)===Rr?(i=Rr,o+=10):(i=e,I===0&&se(We))))))),i}function aa(){var i,u,x,v,P;if(I++,i=o,u=o,x=hn(),x!==e){if(v=[],P=oa(),P!==e)for(;P!==e;)v.push(P),P=oa();else v=e;v!==e?(de=u,u=Po(v)):(o=u,u=e)}else o=u,u=e;return u===e&&(u=o,x=hn(),x!==e?(r.length>o?(v=r.charAt(o),o++):(v=e,I===0&&se(_e)),v!==e?(de=u,u=So(v)):(o=u,u=e)):(o=u,u=e)),u!==e&&(de=i,u=Fo(u)),i=u,I--,i===e&&(u=e,I===0&&se(b)),i}function xn(){var i,u,x,v,P,M;if(I++,i=o,u=Mn(),u!==e){for(x=[],v=o,P=o,I++,M=ln(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=Cn(),M!==e?(de=v,v=Gi(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=ln(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(M=Cn(),M!==e?(de=v,v=Gi(M)):(o=v,v=e)):(o=v,v=e);v=ln(),v!==e?(de=i,i=Ro(x)):(o=i,i=e)}else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(W)),i}function $t(){var i,u;return i=o,u=xn(),u!==e&&(de=i,u=Oo()),i=u,i}function fl(){var i,u,x,v,P,M,Q,X,Re,ve,Le;if(I++,i=o,u=bt(),u!==e)if(x=$t(),x!==e){for(v=Yt(),v===e&&(v=null),P=[],M=o,Q=o,I++,X=o,Re=mn(),Re!==e?(ve=$t(),ve!==e?(de=o,Le=zi(x,v,ve),Le?Le=void 0:Le=e,Le!==e?(Re=[Re,ve,Le],X=Re):(o=X,X=e)):(o=X,X=e)):(o=X,X=e),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(X=Cn(),X!==e?(de=M,M=Hi(x,v,X)):(o=M,M=e)):(o=M,M=e);M!==e;)P.push(M),M=o,Q=o,I++,X=o,Re=mn(),Re!==e?(ve=$t(),ve!==e?(de=o,Le=zi(x,v,ve),Le?Le=void 0:Le=e,Le!==e?(Re=[Re,ve,Le],X=Re):(o=X,X=e)):(o=X,X=e)):(o=X,X=e),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(X=Cn(),X!==e?(de=M,M=Hi(x,v,X)):(o=M,M=e)):(o=M,M=e);M=mn(),M!==e?(Q=$t(),Q!==e?(de=i,i=Do(x,v,P)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(q)),i}function ul(){var i,u,x,v,P,M,Q,X,Re,ve,Le,Ue,ur;if(I++,i=o,u=bt(),u!==e)if(x=Mn(),x!==e)if(v=sa(),v!==e)if(P=ln(),P!==e){for(M=Yt(),M===e&&(M=null),Q=[],X=o,Re=o,I++,ve=o,Le=mn(),Le!==e?(Ue=xn(),Ue!==e?(de=o,ur=Ui(v,M,Ue),ur?ur=void 0:ur=e,ur!==e?(Le=[Le,Ue,ur],ve=Le):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),I--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(ve=pn(),ve!==e?(de=X,X=Xi(v,M,ve)):(o=X,X=e)):(o=X,X=e);X!==e;)Q.push(X),X=o,Re=o,I++,ve=o,Le=mn(),Le!==e?(Ue=xn(),Ue!==e?(de=o,ur=Ui(v,M,Ue),ur?ur=void 0:ur=e,ur!==e?(Le=[Le,Ue,ur],ve=Le):(o=ve,ve=e)):(o=ve,ve=e)):(o=ve,ve=e),I--,ve===e?Re=void 0:(o=Re,Re=e),Re!==e?(ve=pn(),ve!==e?(de=X,X=Xi(v,M,ve)):(o=X,X=e)):(o=X,X=e);X=mn(),X!==e?(Re=Mn(),Re!==e?(ve=sa(),ve!==e?(Le=ln(),Le!==e?(de=i,i=To(v,M,Q)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)):(o=i,i=e)}else o=i,i=e;else o=i,i=e;else o=i,i=e;else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(Se)),i}function cl(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===91?(x=d,o++):(x=e,I===0&&se(U)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function Ht(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===93?(x=z,o++):(x=e,I===0&&se(J)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function gl(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===40?(x=Cr,o++):(x=e,I===0&&se(Ne)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function Ut(){var i,u,x;return i=o,u=hn(),u!==e?(r.charCodeAt(o)===41?(x=Pr,o++):(x=e,I===0&&se(xe)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function bt(){var i,u,x;return i=o,u=hn(),u!==e?(r.substr(o,5)===Ar?(x=Ar,o+=5):(x=e,I===0&&se(_r)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function mn(){var i,u,x;return i=o,u=hn(),u!==e?(r.substr(o,3)===fe?(x=fe,o+=3):(x=e,I===0&&se(A)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i}function sa(){var i,u;return i=o,r.substr(o,9)===wr?(u=wr,o+=9):(u=e,I===0&&se(f)),u===e&&(r.substr(o,8)===Ze?(u=Ze,o+=8):(u=e,I===0&&se(L)),u===e&&(r.substr(o,6)===he?(u=he,o+=6):(u=e,I===0&&se(Oe)),u===e&&(r.substr(o,5)===Qe?(u=Qe,o+=5):(u=e,I===0&&se(tr)),u===e&&(r.substr(o,8)===cr?(u=cr,o+=8):(u=e,I===0&&se(te)),u===e&&(r.substr(o,7)===Sr?(u=Sr,o+=7):(u=e,I===0&&se(en)),u===e&&(r.substr(o,7)===nr?(u=nr,o+=7):(u=e,I===0&&se(Xr)),u===e&&(r.substr(o,6)===ue?(u=ue,o+=6):(u=e,I===0&&se($n)),u===e&&(r.substr(o,9)===we?(u=we,o+=9):(u=e,I===0&&se(Sn)),u===e&&(r.substr(o,8)===B?(u=B,o+=8):(u=e,I===0&&se(jn)),u===e&&(r.substr(o,8)===Mr?(u=Mr,o+=8):(u=e,I===0&&se(Ir)),u===e&&(r.substr(o,7)===hr?(u=hr,o+=7):(u=e,I===0&&se(Fn)),u===e&&(r.substr(o,5)===dr?(u=dr,o+=5):(u=e,I===0&&se(bn)),u===e&&(r.substr(o,4)===He?(u=He,o+=4):(u=e,I===0&&se(ke)),u===e&&(r.substr(o,11)===Or?(u=Or,o+=11):(u=e,I===0&&se(An)))))))))))))))),u!==e&&(de=i,u=Bo(u)),i=u,i}function hn(){var i,u;return I++,i=o,r.charCodeAt(o)===92?(u=Wr,o++):(u=e,I===0&&se(on)),u!==e&&(de=i,u=Lo()),i=u,I--,i===e&&(u=e,I===0&&se(wn)),i}function Mn(){var i,u;return i=o,r.charCodeAt(o)===123?(u=Hr,o++):(u=e,I===0&&se(tn)),u!==e&&(de=i,u=No(u)),i=u,i}function ln(){var i,u;return i=o,r.charCodeAt(o)===125?(u=Lr,o++):(u=e,I===0&&se(g)),u!==e&&(de=i,u=qo(u)),i=u,i}function fn(){var i,u;return i=o,r.charCodeAt(o)===36?(u=jr,o++):(u=e,I===0&&se(S)),u!==e&&(de=i,u=Wo(u)),i=u,i}function Xt(){var i,u;return i=o,r.charCodeAt(o)===38?(u=gr,o++):(u=e,I===0&&se(R)),u!==e&&(de=i,u=jo(u)),i=u,i}function Qr(){var i,u,x;return I++,i=o,u=o,I++,r.charCodeAt(o)===13?(x=Ur,o++):(x=e,I===0&&se(oe)),I--,x===e?u=void 0:(o=u,u=e),u!==e?(r.charCodeAt(o)===10?(x=Nr,o++):(x=e,I===0&&se(me)),x!==e?(u=[u,x],i=u):(o=i,i=e)):(o=i,i=e),i===e&&(r.charCodeAt(o)===13?(i=Ur,o++):(i=e,I===0&&se(oe)),i===e&&(r.substr(o,2)===H?(i=H,o+=2):(i=e,I===0&&se($)))),I--,i===e&&(u=e,I===0&&se(pe)),i}function Vt(){var i,u;return i=o,r.charCodeAt(o)===35?(u=ie,o++):(u=e,I===0&&se(T)),u!==e&&(de=i,u=Go(u)),i=u,i}function pl(){var i,u;return i=o,r.charCodeAt(o)===94?(u=le,o++):(u=e,I===0&&se(ne)),u!==e&&(de=i,u=zo(u)),i=u,i}function ml(){var i,u;return i=o,r.charCodeAt(o)===95?(u=Be,o++):(u=e,I===0&&se(ce)),u!==e&&(de=i,u=Ho(u)),i=u,i}function Kt(){var i;return r.charCodeAt(o)===0?(i=er,o++):(i=e,I===0&&se(Pe)),i}function br(){var i,u,x;if(I++,i=o,u=[],Dr.test(r.charAt(o))?(x=r.charAt(o),o++):(x=e,I===0&&se(mr)),x!==e)for(;x!==e;)u.push(x),Dr.test(r.charAt(o))?(x=r.charAt(o),o++):(x=e,I===0&&se(mr));else u=e;return u!==e&&(de=i,u=Uo()),i=u,I--,i===e&&(u=e,I===0&&se(ar)),i}function oa(){var i;return I++,Er.test(r.charAt(o))?(i=r.charAt(o),o++):(i=e,I===0&&se(Vr)),I--,i===e&&I===0&&se(Fr),i}function Nn(){var i;return I++,G.test(r.charAt(o))?(i=r.charAt(o),o++):(i=e,I===0&&se(Bt)),I--,i===e&&I===0&&se(gt),i}function la(){var i,u;return I++,i=o,N.test(r.charAt(o))?(u=r.charAt(o),o++):(u=e,I===0&&se(Rn)),u!==e&&(de=i,u=Xo(u)),i=u,I--,i===e&&(u=e,I===0&&se(Lt)),i}function rt(){var i;return r.charCodeAt(o)===37?(i=_,o++):(i=e,I===0&&se(Gr)),i}function fa(){var i;return I++,i=hl(),i===e&&(i=Yt()),I--,i===e&&I===0&&se(Nt),i}function hl(){var i,u,x,v;for(i=o,u=o,x=[],v=br();v!==e;)x.push(v),v=br();return v=Qr(),v!==e?(x=[x,v],u=x):(o=u,u=e),u===e&&(u=null),x=dl(),x!==e?(v=ua(),v!==e?(de=i,i=Vo(x,v)):(o=i,i=e)):(o=i,i=e),i}function Yt(){var i,u,x;for(i=o,u=[],x=br();x!==e;)u.push(x),x=br();return x=ua(),x!==e?(de=i,i=Ko(u,x)):(o=i,i=e),i}function ua(){var i,u,x,v,P,M,Q,X;if(I++,i=o,u=rt(),u!==e){for(x=[],v=o,P=o,I++,M=Qr(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Vi(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=Qr(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Vi(M)):(o=v,v=e)):(o=v,v=e);v=o,I++,P=Qi(),I--,P!==e?(o=v,v=void 0):v=e,v!==e?(de=i,i=Yo(x)):(o=i,i=e)}else o=i,i=e;if(i===e)if(i=o,u=rt(),u!==e){for(x=[],v=o,P=o,I++,M=Qr(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Ki(M)):(o=v,v=e)):(o=v,v=e);v!==e;)x.push(v),v=o,P=o,I++,M=Qr(),I--,M===e?P=void 0:(o=P,P=e),P!==e?(r.length>o?(M=r.charAt(o),o++):(M=e,I===0&&se(_e)),M!==e?(de=v,v=Ki(M)):(o=v,v=e)):(o=v,v=e);if(v=o,P=Qr(),P!==e){for(M=[],Q=br();Q!==e;)M.push(Q),Q=br();Q=o,I++,X=rt(),I--,X===e?Q=void 0:(o=Q,Q=e),Q!==e?(P=[P,M,Q],v=P):(o=v,v=e)}else o=v,v=e;v===e&&(v=Qr(),v===e&&(v=ca())),v!==e?(de=i,i=Zo(x)):(o=i,i=e)}else o=i,i=e;return I--,i===e&&(u=e,I===0&&se(qt)),i}function dl(){var i,u,x,v,P;if(i=o,u=o,x=vl(),x!==e){for(v=[],P=br();P!==e;)v.push(P),P=br();x=[x,v],u=x}else o=u,u=e;return u!==e?i=r.substring(i,o):i=u,i}function vl(){var i;return de=o,i=Jo(),i?i=void 0:i=e,i}function ca(){var i,u;return i=o,I++,r.length>o?(u=r.charAt(o),o++):(u=e,I===0&&se(_e)),I--,u===e?i=void 0:(o=i,i=e),i}function ga(i){return typeof i=="string"?i:typeof i.content=="string"?i.content:i&&i.type==="whitespace"?" ":i}function At(i,u){let x=typeof i=="string"?i:i.content.map(ga).join(""),v=typeof u=="string"?u:u.content.map(ga).join("");return x===v}function Ye(i,u={}){return{type:i,...u,position:Yi()}}if(yt=k(),yt!==e&&o===r.length)return yt;throw yt!==e&&o<r.length&&se(rl()),nl(jt,kn<r.length?r.charAt(kn):null,kn<r.length?Gt(kn,kn+1):Gt(kn,kn))}return{SyntaxError:t,parse:l}}(),yc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Or},k=Or,_=we(),Y=function(){return[]},ee=function(G){return{cells:[],colSeps:[],...G}},y=function(G,N,O){return{...G,rowSep:N,trailingComment:O}},d=function(G,N){return{...G,rowSep:null,trailingComment:N}},z=function(G){return G},be=function(G){return{cells:[],colSeps:[],rowSep:null,trailingComment:G}},or=function(G){return G},xr=function(G,N){return{colSep:G,cell:N}},Ee=function(G){return{colSep:G}},vr=function(G,N){return Er(G,N)},lr=function(G){return Er(null,G)},yr=function(G){return a.isSameLineComment(G)},Je=function(G){return G},kr=function(G){return a.isOwnLineComment(G)},Rr=function(G){return G},Cr=function(G){return a.isWhitespace(G)},Pr=function(G){return G},Ar=function(G){return a.isRowSep(G)},fe=function(G){return G},wr=function(G){return a.isColSep(G)},Ze=function(G){return G},he=0,Qe=[{line:1,column:1}],cr=0,Sr=[],nr=0,ue;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function we(){return{type:"any"}}function B(){return{type:"end"}}function Mr(G){var N=Qe[G],O;if(N)return N;for(O=G-1;!Qe[O];)O--;for(N=Qe[O],N={line:N.line,column:N.column};O<G;)r.charCodeAt(O)===10?(N.line++,N.column=1):N.column++,O++;return Qe[G]=N,N}function hr(G,N,O){var ir=Mr(G),V=Mr(N),_e={source:p,start:{offset:G,line:ir.line,column:ir.column},end:{offset:N,line:V.line,column:V.column}};return _e}function dr(G){he<cr||(he>cr&&(cr=he,Sr=[]),Sr.push(G))}function He(G,N,O){return new t(t.buildMessage(G,N),G,N,O)}function Or(){var G,N;if(G=[],N=jr(),N===e&&(N=Wr(),N===e&&(N=Hr())),N!==e)for(;N!==e;)G.push(N),N=jr(),N===e&&(N=Wr(),N===e&&(N=Hr()));else G=e;return G===e&&(G=he,N=Dr(),N!==e&&(N=Y()),G=N),G}function Wr(){var G,N,O,ir;return G=he,N=he,O=H(),O===e&&(O=null),O=ee(O),N=O,O=er(),O!==e?(ir=Lr(),ir===e&&(ir=null),G=y(N,O,ir)):(he=G,G=e),G}function Hr(){var G,N,O;return G=he,N=H(),N!==e?(O=Lr(),O===e&&(O=null),G=d(N,O)):(he=G,G=e),G}function Lr(){var G,N,O;for(G=he,N=[],O=Be();O!==e;)N.push(O),O=Be();return O=ie(),O!==e?G=z(O):(he=G,G=e),G}function jr(){var G,N,O;for(G=he,N=[],O=Be();O!==e;)N.push(O),O=Be();return O=le(),O!==e?G=be(O):(he=G,G=e),G}function gr(){var G,N,O;return G=he,N=he,nr++,O=er(),O===e&&(O=re(),O===e&&(O=Lr(),O===e&&(O=le()))),nr--,O===e?N=void 0:(he=N,N=e),N!==e?(r.length>he?(O=r.charAt(he),he++):(O=e,nr===0&&dr(_)),O!==e?G=or(O):(he=G,G=e)):(he=G,G=e),G}function Ur(){var G,N,O;if(G=he,N=[],O=gr(),O!==e)for(;O!==e;)N.push(O),O=gr();else N=e;return N!==e?G=r.substring(G,he):G=N,G}function Nr(){var G,N,O;return G=he,N=re(),N!==e?(O=Ur(),O!==e?G=xr(N,O):(he=G,G=e)):(he=G,G=e),G===e&&(G=he,N=re(),N!==e&&(N=Ee(N)),G=N),G}function H(){var G,N,O,ir;if(G=he,N=Ur(),N!==e){for(O=[],ir=Nr();ir!==e;)O.push(ir),ir=Nr();G=vr(N,O)}else he=G,G=e;if(G===e){if(G=he,N=[],O=Nr(),O!==e)for(;O!==e;)N.push(O),O=Nr();else N=e;N!==e&&(N=lr(N)),G=N}return G}function ie(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),N!==e?(O=yr(N),O?O=void 0:O=e,O!==e?G=Je(N):(he=G,G=e)):(he=G,G=e),G}function le(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),N!==e?(O=kr(N),O?O=void 0:O=e,O!==e?G=Rr(N):(he=G,G=e)):(he=G,G=e),G}function Be(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),N!==e?(O=Cr(N),O?O=void 0:O=e,O!==e?G=Pr(N):(he=G,G=e)):(he=G,G=e),G}function er(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),N!==e?(O=Ar(N),O?O=void 0:O=e,O!==e?G=fe(N):(he=G,G=e)):(he=G,G=e),G}function re(){var G,N,O;return G=he,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),N!==e?(O=wr(N),O?O=void 0:O=e,O!==e?G=Ze(N):(he=G,G=e)):(he=G,G=e),G}function Dr(){var G,N;return G=he,nr++,r.length>he?(N=r.charAt(he),he++):(N=e,nr===0&&dr(_)),nr--,N===e?G=void 0:(he=G,G=e),G}function Er(G,N){let O=[G||[]],ir=[];for(let V of N)O.push(V.cell||[]),ir.push(V.colSep);return{cells:O,colSeps:ir}}if(!a.isWhitespace)try{Object.assign(a,createMatchers(["\\","hline","cr"],["&"]))}catch(G){console.warn("Error when initializing parser",G)}if(ue=k(),ue!==e&&he===r.length)return ue;throw ue!==e&&he<r.length&&dr(B()),He(Sr,cr<r.length?r.charAt(cr):null,cr<r.length?hr(cr,cr+1):hr(cr,cr))}return{SyntaxError:t,parse:l}}(),Fl=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={args_spec_list:A},k=A,_="v",Y="b",ee="!",y="D",d="d",z="s",be="O",or="o",xr="e",Ee="E",vr="t",lr="R",yr="r",Je="u",kr="m",Rr="{",Cr="}",Pr=" ",Ar=`
`,fe="\r",wr="\\",Ze=/^[{ ]/,he=/^[a-zA-Z]/,Qe=/^[{}]/,cr=We("+",!1),Sr=We("v",!1),nr=W(),ue=We("b",!1),we=We("!",!1),B=We("D",!1),Mr=We("d",!1),hr=We("s",!1),dr=We("O",!1),He=We("o",!1),Or=We("e",!1),Wr=We("E",!1),Hr=We("t",!1),Lr=We("R",!1),jr=We("r",!1),gr=We("u",!1),Ur=b(["{"," "],!1,!1),Nr=We("m",!1),H=We("{",!1),ie=We("}",!1),le=We(" ",!1),Be=We(`
`,!1),er=We("\r",!1),re=We("\\",!1),Dr=b([["a","z"],["A","Z"]],!1,!1),Er=b(["{","}"],!1,!1),G=function($){return $},N=function($){return $},O=function($){return $},ir=function($){return oe("verbatim",{openBrace:$,closeBrace:$})},V=function(){return oe("body")},_e=function($,T){return $?{...T,noLeadingWhitespace:!0}:T},Ge=function($,T){return oe("optional",{...$,defaultArg:T})},Fe=function($){return oe("optional",$)},ae=function(){return oe("optionalStar")},Gr=function($){return oe("optional",{defaultArg:$})},ar=function(){return oe("optional")},Yr=function($){return oe("embellishment",{embellishmentTokens:$})},pr=function($,T){return oe("embellishment",{embellishmentTokens:$,defaultArg:T})},E=function($){return oe("optionalToken",{token:$})},w=function($,T){return oe("mandatory",{...$,defaultArg:T})},F=function($){return oe("mandatory",$)},U=function($){return oe("until",{stopTokens:$})},J=function($){return[$]},Ie=function($){return $.content},Ve=function(){return oe("mandatory")},qe=function($,T){return{openBrace:$,closeBrace:T}},Xe=function($){return $.content.map(me).join("")},Ke=function($){return[$]},rr=function($){return $.filter(T=>!T.match(/^\s*$/))},je=function($){return{type:"group",content:$}},sr=function(){return""},D=0,Z=[{line:1,column:1}],Ae=0,Te=[],ge=0,fr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function We($,T){return{type:"literal",text:$,ignoreCase:T}}function b($,T,ne){return{type:"class",parts:$,inverted:T,ignoreCase:ne}}function W(){return{type:"any"}}function q(){return{type:"end"}}function Se($){var T=Z[$],ne;if(T)return T;for(ne=$-1;!Z[ne];)ne--;for(T=Z[ne],T={line:T.line,column:T.column};ne<$;)r.charCodeAt(ne)===10?(T.line++,T.column=1):T.column++,ne++;return Z[$]=T,T}function Ne($,T,ne){var ce=Se($),Pe=Se(T),mr={source:p,start:{offset:$,line:ce.line,column:ce.column},end:{offset:T,line:Pe.line,column:Pe.column}};return mr}function xe($){D<Ae||(D>Ae&&(Ae=D,Te=[]),Te.push($))}function _r($,T,ne){return new t(t.buildMessage($,T),$,T,ne)}function A(){var $,T,ne,ce;for($=D,T=[],ne=D,tn(),ce=f(),ce!==e?ne=G(ce):(D=ne,ne=e);ne!==e;)T.push(ne),ne=D,tn(),ce=f(),ce!==e?ne=G(ce):(D=ne,ne=e);return ne=tn(),$=N(T),$}function f(){var $,T;return $=D,r.charCodeAt(D)===43?D++:ge===0&&xe(cr),T=tr(),T===e&&(T=bn(),T===e&&(T=L(),T===e&&(T=jn(),T===e&&(T=Oe(),T===e&&(T=Ir()))))),T!==e?$=O(T):(D=$,$=e),$}function L(){var $,T,ne;return $=D,r.charCodeAt(D)===118?(T=_,D++):(T=e,ge===0&&xe(Sr)),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&xe(nr)),ne!==e?$=ir(ne):(D=$,$=e)):(D=$,$=e),$}function Oe(){var $,T;return $=D,r.charCodeAt(D)===98?(T=Y,D++):(T=e,ge===0&&xe(ue)),T!==e&&(T=V()),$=T,$}function tr(){var $,T,ne;return $=D,r.charCodeAt(D)===33?(T=ee,D++):(T=e,ge===0&&xe(we)),T===e&&(T=null),ne=en(),ne===e&&(ne=Xr(),ne===e&&(ne=te(),ne===e&&(ne=$n(),ne===e&&(ne=Sn())))),ne!==e?$=_e(T,ne):(D=$,$=e),$}function te(){var $,T,ne,ce;return $=D,r.charCodeAt(D)===68?(T=y,D++):(T=e,ge===0&&xe(B)),T!==e?(ne=ke(),ce=An(),ce!==e?$=Ge(ne,ce):(D=$,$=e)):(D=$,$=e),$===e&&($=D,r.charCodeAt(D)===100?(T=d,D++):(T=e,ge===0&&xe(Mr)),T!==e?(ne=ke(),$=Fe(ne)):(D=$,$=e)),$}function en(){var $,T;return $=D,r.charCodeAt(D)===115?(T=z,D++):(T=e,ge===0&&xe(hr)),T!==e&&(T=ae()),$=T,$}function Xr(){var $,T,ne;return $=D,r.charCodeAt(D)===79?(T=be,D++):(T=e,ge===0&&xe(dr)),T!==e?(tn(),ne=An(),ne!==e?$=Gr(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,r.charCodeAt(D)===111?(T=or,D++):(T=e,ge===0&&xe(He)),T!==e&&(T=ar()),$=T),$}function $n(){var $,T,ne,ce;return $=D,r.charCodeAt(D)===101?(T=xr,D++):(T=e,ge===0&&xe(Or)),T!==e?(tn(),ne=wn(),ne!==e?$=Yr(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,r.charCodeAt(D)===69?(T=Ee,D++):(T=e,ge===0&&xe(Wr)),T!==e?(tn(),ne=wn(),ne!==e?(tn(),ce=wn(),ce!==e?$=pr(ne,ce):(D=$,$=e)):(D=$,$=e)):(D=$,$=e)),$}function Sn(){var $,T,ne;return $=D,r.charCodeAt(D)===116?(T=vr,D++):(T=e,ge===0&&xe(Hr)),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&xe(nr)),ne!==e?$=E(ne):(D=$,$=e)):(D=$,$=e),$}function jn(){var $,T,ne,ce;return $=D,r.charCodeAt(D)===82?(T=lr,D++):(T=e,ge===0&&xe(Lr)),T!==e?(ne=ke(),ce=An(),ce!==e?$=w(ne,ce):(D=$,$=e)):(D=$,$=e),$===e&&($=D,r.charCodeAt(D)===114?(T=yr,D++):(T=e,ge===0&&xe(jr)),T!==e?(ne=ke(),$=F(ne)):(D=$,$=e)),$}function Ir(){var $,T,ne;return $=D,r.charCodeAt(D)===117?(T=Je,D++):(T=e,ge===0&&xe(gr)),T!==e?(ne=Fn(),ne!==e?$=U(ne):(D=$,$=e)):(D=$,$=e),$}function Fn(){var $,T,ne;return $=D,T=D,ge++,Ze.test(r.charAt(D))?(ne=r.charAt(D),D++):(ne=e,ge===0&&xe(Ur)),ge--,ne===e?T=void 0:(D=T,T=e),T!==e?(r.length>D?(ne=r.charAt(D),D++):(ne=e,ge===0&&xe(nr)),ne!==e?$=J(ne):(D=$,$=e)):(D=$,$=e),$===e&&($=D,T=on(),T!==e&&(T=Ie(T)),$=T),$}function bn(){var $,T;return $=D,r.charCodeAt(D)===109?(T=kr,D++):(T=e,ge===0&&xe(Nr)),T!==e&&(T=Ve()),$=T,$}function ke(){var $,T,ne,ce,Pe,mr;return $=D,T=D,ne=D,ce=D,ge++,Pe=g(),ge--,Pe===e?ce=void 0:(D=ce,ce=e),ce!==e?(Pe=S(),Pe===e&&(r.length>D?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&xe(nr))),Pe!==e?(ce=[ce,Pe],ne=ce):(D=ne,ne=e)):(D=ne,ne=e),ne===e&&(ne=null),T=r.substring(T,D),ne=D,ce=D,Pe=D,ge++,mr=g(),ge--,mr===e?Pe=void 0:(D=Pe,Pe=e),Pe!==e?(mr=S(),mr===e&&(r.length>D?(mr=r.charAt(D),D++):(mr=e,ge===0&&xe(nr))),mr!==e?(Pe=[Pe,mr],ce=Pe):(D=ce,ce=e)):(D=ce,ce=e),ce===e&&(ce=null),ne=r.substring(ne,D),$=qe(T,ne),$}function An(){var $,T;return $=R(),$===e&&($=D,T=on(),T!==e&&(T=Xe(T)),$=T),$}function wn(){var $,T,ne,ce;if($=D,T=R(),T!==e&&(T=Ke(T)),$=T,$===e)if($=D,r.charCodeAt(D)===123?(T=Rr,D++):(T=e,ge===0&&xe(H)),T!==e){for(ne=[],ce=An(),ce===e&&(ce=g());ce!==e;)ne.push(ce),ce=An(),ce===e&&(ce=g());r.charCodeAt(D)===125?(ce=Cr,D++):(ce=e,ge===0&&xe(ie)),ce!==e?$=rr(ne):(D=$,$=e)}else D=$,$=e;return $}function on(){var $,T,ne,ce,Pe,mr,Fr,Vr;if($=D,r.charCodeAt(D)===123?(T=Rr,D++):(T=e,ge===0&&xe(H)),T!==e){for(ne=[],ce=D,Pe=D,mr=D,ge++,r.charCodeAt(D)===125?(Fr=Cr,D++):(Fr=e,ge===0&&xe(ie)),ge--,Fr===e?mr=void 0:(D=mr,mr=e),mr!==e?(Fr=D,ge++,Vr=on(),ge--,Vr===e?Fr=void 0:(D=Fr,Fr=e),Fr!==e?(Vr=R(),Vr===e&&(Vr=g()),Vr!==e?(mr=[mr,Fr,Vr],Pe=mr):(D=Pe,Pe=e)):(D=Pe,Pe=e)):(D=Pe,Pe=e),Pe!==e?ce=r.substring(ce,D):ce=Pe,ce===e&&(ce=on());ce!==e;)ne.push(ce),ce=D,Pe=D,mr=D,ge++,r.charCodeAt(D)===125?(Fr=Cr,D++):(Fr=e,ge===0&&xe(ie)),ge--,Fr===e?mr=void 0:(D=mr,mr=e),mr!==e?(Fr=D,ge++,Vr=on(),ge--,Vr===e?Fr=void 0:(D=Fr,Fr=e),Fr!==e?(Vr=R(),Vr===e&&(Vr=g()),Vr!==e?(mr=[mr,Fr,Vr],Pe=mr):(D=Pe,Pe=e)):(D=Pe,Pe=e)):(D=Pe,Pe=e),Pe!==e?ce=r.substring(ce,D):ce=Pe,ce===e&&(ce=on());r.charCodeAt(D)===125?(ce=Cr,D++):(ce=e,ge===0&&xe(ie)),ce!==e?$=je(ne):(D=$,$=e)}else D=$,$=e;return $}function tn(){var $,T,ne;for($=D,T=[],ne=g();ne!==e;)T.push(ne),ne=g();return T=sr(),$=T,$}function g(){var $;return r.charCodeAt(D)===32?($=Pr,D++):($=e,ge===0&&xe(le)),$===e&&(r.charCodeAt(D)===10?($=Ar,D++):($=e,ge===0&&xe(Be)),$===e&&(r.charCodeAt(D)===13?($=fe,D++):($=e,ge===0&&xe(er)))),$}function S(){var $,T,ne,ce,Pe;if($=D,T=D,r.charCodeAt(D)===92?(ne=wr,D++):(ne=e,ge===0&&xe(re)),ne!==e){if(ce=[],he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&xe(Dr)),Pe!==e)for(;Pe!==e;)ce.push(Pe),he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&xe(Dr));else ce=e;ce!==e?(ne=[ne,ce],T=ne):(D=T,T=e)}else D=T,T=e;return T!==e?$=r.substring($,D):$=T,$===e&&($=D,T=D,r.charCodeAt(D)===92?(ne=wr,D++):(ne=e,ge===0&&xe(re)),ne!==e?(ce=D,ge++,he.test(r.charAt(D))?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&xe(Dr)),ge--,Pe===e?ce=void 0:(D=ce,ce=e),ce!==e?(r.length>D?(Pe=r.charAt(D),D++):(Pe=e,ge===0&&xe(nr)),Pe!==e?(ne=[ne,ce,Pe],T=ne):(D=T,T=e)):(D=T,T=e)):(D=T,T=e),T!==e?$=r.substring($,D):$=T),$}function R(){var $,T,ne,ce;return $=S(),$===e&&($=D,T=D,ge++,Qe.test(r.charAt(D))?(ne=r.charAt(D),D++):(ne=e,ge===0&&xe(Er)),ge--,ne===e?T=void 0:(D=T,T=e),T!==e?(ne=D,ge++,ce=g(),ge--,ce===e?ne=void 0:(D=ne,ne=e),ne!==e?(r.length>D?(ce=r.charAt(D),D++):(ce=e,ge===0&&xe(nr)),ce!==e?$=ce:(D=$,$=e)):(D=$,$=e)):(D=$,$=e)),$}let pe={optional:{openBrace:"[",closeBrace:"]"},mandatory:{openBrace:"{",closeBrace:"}"}};function oe($,T){let ne=pe[$]||{};return{type:$,...ne,...T}}function me($){return typeof $!="object"||!$?$:$.type==="group"?`{${$.content.map(me).join("")}}`:$}if(fr=k(),fr!==e&&D===r.length)return fr;throw fr!==e&&D<r.length&&xe(q()),_r(Te,Ae<r.length?r.charAt(Ae):null,Ae<r.length?Ne(Ae,Ae+1):Ne(Ae,Ae))}return{SyntaxError:t,parse:l}}(),$c=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Nr},k=Nr,_=Wr(),Y=function(){return[]},ee=function(w,F){return{itemParts:[],...w,trailingComment:F,trailingComma:!0}},y=function(w,F){return{...w,trailingComment:F}},d=function(w,F){return E(w,F)},z=function(w){return E(null,w)},be=function(w){return{cell:w}},or=function(){return{}},xr=function(w){return w},Ee=function(w){return w},vr=function(w,F){return{trailingComment:F,leadingParbreak:w.parbreak>0}},lr=function(w){return{whitespace:w.filter(F=>a.isWhitespace(F)).length,parbreak:w.filter(F=>a.isParbreak(F)).length}},yr=function(){return!a.allowParenGroups},Je=function(w){return a.isSameLineComment(w)},kr=function(w){return w},Rr=function(w){return a.isOwnLineComment(w)},Cr=function(w){return w},Pr=function(w){return a.isWhitespace(w)},Ar=function(w){return w},fe=function(w){return a.isParbreak(w)},wr=function(w){return w},Ze=function(w){return a.isComma(w)},he=function(w){return w},Qe=function(w){return a.isEquals(w)},cr=function(w){return w},Sr=function(w){return a.isChar(w,"(")},nr=function(w){return w},ue=function(w){return a.isChar(w,")")},we=function(w){return w},B=0,Mr=[{line:1,column:1}],hr=0,dr=[],He=0,Or;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Wr(){return{type:"any"}}function Hr(){return{type:"end"}}function Lr(w){var F=Mr[w],U;if(F)return F;for(U=w-1;!Mr[U];)U--;for(F=Mr[U],F={line:F.line,column:F.column};U<w;)r.charCodeAt(U)===10?(F.line++,F.column=1):F.column++,U++;return Mr[w]=F,F}function jr(w,F,U){var J=Lr(w),Ie=Lr(F),Ve={source:p,start:{offset:w,line:J.line,column:J.column},end:{offset:F,line:Ie.line,column:Ie.column}};return Ve}function gr(w){B<hr||(B>hr&&(hr=B,dr=[]),dr.push(w))}function Ur(w,F,U){return new t(t.buildMessage(w,F),w,F,U)}function Nr(){var w,F,U;if(w=[],F=Dr(),F===e&&(F=H(),F===e&&(F=ie())),F!==e)for(;F!==e;)w.push(F),F=Dr(),F===e&&(F=H(),F===e&&(F=ie()));else w=e;if(w===e){for(w=B,F=[],U=Ge();U!==e;)F.push(U),U=Ge();U=pr(),U!==e?w=Y():(B=w,w=e)}return w}function H(){var w,F,U,J,Ie,Ve,qe;if(w=B,O(),F=le(),F===e&&(F=null),O(),U=ae(),U!==e){for(J=[],Ie=Ge();Ie!==e;)J.push(Ie),Ie=Ge();for(Ie=re(),Ie===e&&(Ie=null),Ve=[],qe=Ge();qe!==e;)Ve.push(qe),qe=Ge();w=ee(F,Ie)}else B=w,w=e;return w}function ie(){var w,F,U;return w=B,O(),F=le(),F!==e?(U=re(),U===e&&(U=null),w=y(F,U)):(B=w,w=e),w}function le(){var w,F,U,J;if(w=B,F=er(),F!==e){for(U=[],J=Be();J!==e;)U.push(J),J=Be();w=d(F,U)}else B=w,w=e;if(w===e){if(w=B,F=[],U=Be(),U!==e)for(;U!==e;)F.push(U),U=Be();else F=e;F!==e&&(F=z(F)),w=F}return w}function Be(){var w,F,U,J,Ie;for(w=B,F=[],U=Fe();U!==e;)F.push(U),U=Fe();if(U=Gr(),U!==e){for(J=[],Ie=Fe();Ie!==e;)J.push(Ie),Ie=Fe();Ie=er(),Ie!==e?w=be(Ie):(B=w,w=e)}else B=w,w=e;if(w===e){for(w=B,F=[],U=Fe();U!==e;)F.push(U),U=Fe();U=Gr(),U!==e?w=or():(B=w,w=e)}return w}function er(){var w,F,U,J,Ie,Ve,qe,Xe,Ke,rr;for(w=B,F=[],U=Ge();U!==e;)F.push(U),U=Ge();if(U=B,J=[],Ie=G(),Ie===e)if(Ie=B,Ve=Ge(),Ve===e&&(Ve=Fe()),Ve!==e){for(qe=B,He++,Xe=B,Ke=[],rr=Ge(),rr===e&&(rr=Fe());rr!==e;)Ke.push(rr),rr=Ge(),rr===e&&(rr=Fe());rr=G(),rr!==e?(Ke=[Ke,rr],Xe=Ke):(B=Xe,Xe=e),He--,Xe!==e?(B=qe,qe=void 0):qe=e,qe!==e?(Ve=[Ve,qe],Ie=Ve):(B=Ie,Ie=e)}else B=Ie,Ie=e;if(Ie!==e){for(;Ie!==e;)if(J.push(Ie),Ie=G(),Ie===e)if(Ie=B,Ve=Ge(),Ve===e&&(Ve=Fe()),Ve!==e){for(qe=B,He++,Xe=B,Ke=[],rr=Ge(),rr===e&&(rr=Fe());rr!==e;)Ke.push(rr),rr=Ge(),rr===e&&(rr=Fe());rr=G(),rr!==e?(Ke=[Ke,rr],Xe=Ke):(B=Xe,Xe=e),He--,Xe!==e?(B=qe,qe=void 0):qe=e,qe!==e?(Ve=[Ve,qe],Ie=Ve):(B=Ie,Ie=e)}else B=Ie,Ie=e}else J=e;if(J!==e?U=r.substring(U,B):U=J,U!==e){for(J=[],Ie=Ge();Ie!==e;)J.push(Ie),Ie=Ge();w=xr(U)}else B=w,w=e;return w}function re(){var w,F,U;for(w=B,F=[],U=Ge();U!==e;)F.push(U),U=Ge();return U=V(),U!==e?w=Ee(U):(B=w,w=e),w}function Dr(){var w,F,U;return w=B,F=O(),U=_e(),U!==e?w=vr(F,U):(B=w,w=e),w}function Er(){var w,F,U,J;return w=B,F=B,U=B,He++,J=N(),He--,J===e?U=void 0:(B=U,U=e),U!==e?(r.length>B?(J=r.charAt(B),B++):(J=e,He===0&&gr(_)),J!==e?(U=[U,J],F=U):(B=F,F=e)):(B=F,F=e),F!==e?w=r.substring(w,B):w=F,w}function G(){var w,F,U,J;return w=B,F=B,U=B,He++,J=Ge(),J===e&&(J=Fe()),He--,J===e?U=void 0:(B=U,U=e),U!==e?(J=ir(),J===e&&(J=Er()),J!==e?(U=[U,J],F=U):(B=F,F=e)):(B=F,F=e),F!==e?w=r.substring(w,B):w=F,w}function N(){var w;return w=ae(),w===e&&(w=Gr(),w===e&&(w=re(),w===e&&(w=_e()))),w}function O(){var w,F,U;for(w=B,F=[],U=Ge(),U===e&&(U=Fe());U!==e;)F.push(U),U=Ge(),U===e&&(U=Fe());return F=lr(F),w=F,w}function ir(){var w,F,U,J,Ie,Ve,qe,Xe,Ke;if(w=B,F=yr(),F?F=e:F=void 0,F!==e){if(U=B,J=B,Ie=ar(),Ie!==e){for(Ve=[],qe=B,Xe=B,He++,Ke=Yr(),He--,Ke===e?Xe=void 0:(B=Xe,Xe=e),Xe!==e?(r.length>B?(Ke=r.charAt(B),B++):(Ke=e,He===0&&gr(_)),Ke!==e?(Xe=[Xe,Ke],qe=Xe):(B=qe,qe=e)):(B=qe,qe=e);qe!==e;)Ve.push(qe),qe=B,Xe=B,He++,Ke=Yr(),He--,Ke===e?Xe=void 0:(B=Xe,Xe=e),Xe!==e?(r.length>B?(Ke=r.charAt(B),B++):(Ke=e,He===0&&gr(_)),Ke!==e?(Xe=[Xe,Ke],qe=Xe):(B=qe,qe=e)):(B=qe,qe=e);qe=Yr(),qe!==e?(Ie=[Ie,Ve,qe],J=Ie):(B=J,J=e)}else B=J,J=e;J!==e?U=r.substring(U,B):U=J,U!==e?(F=[F,U],w=F):(B=w,w=e)}else B=w,w=e;return w}function V(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Je(F),U?U=void 0:U=e,U!==e?w=kr(F):(B=w,w=e)):(B=w,w=e),w}function _e(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Rr(F),U?U=void 0:U=e,U!==e?w=Cr(F):(B=w,w=e)):(B=w,w=e),w}function Ge(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Pr(F),U?U=void 0:U=e,U!==e?w=Ar(F):(B=w,w=e)):(B=w,w=e),w}function Fe(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=fe(F),U?U=void 0:U=e,U!==e?w=wr(F):(B=w,w=e)):(B=w,w=e),w}function ae(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Ze(F),U?U=void 0:U=e,U!==e?w=he(F):(B=w,w=e)):(B=w,w=e),w}function Gr(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Qe(F),U?U=void 0:U=e,U!==e?w=cr(F):(B=w,w=e)):(B=w,w=e),w}function ar(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=Sr(F),U?U=void 0:U=e,U!==e?w=nr(F):(B=w,w=e)):(B=w,w=e),w}function Yr(){var w,F,U;return w=B,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),F!==e?(U=ue(F),U?U=void 0:U=e,U!==e?w=we(F):(B=w,w=e)):(B=w,w=e),w}function pr(){var w,F;return w=B,He++,r.length>B?(F=r.charAt(B),B++):(F=e,He===0&&gr(_)),He--,F===e?w=void 0:(B=w,w=e),w}function E(w,F){let U=[w||[]];for(let J of F)U.push(J.cell||[]);return{itemParts:U}}if(!a.isWhitespace)try{Object.assign(a,{isChar:(w,F)=>w.type==="string"&&w.content===F,isComma(w){return w.type==="string"&&w.content===","},isEquals(w){return w.type==="string"&&w.content==="="},isParbreak(w){return w.type==="parbreak"},isWhitespace(w){return w.type==="whitespace"},isSameLineComment:w=>w.type==="comment"&&w.sameline,isOwnLineComment:w=>w.type==="comment"&&!w.sameline,isComment:w=>w.type==="comment",allowParenGroups:!0})}catch(w){console.warn("Error when initializing parser",w)}if(Or=k(),Or!==e&&B===r.length)return Or;throw Or!==e&&B<r.length&&gr(Hr()),Ur(dr,hr<r.length?r.charAt(hr):null,hr<r.length?jr(hr,hr+1):jr(hr,hr))}return{SyntaxError:t,parse:l}}(),bc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:Ze},k=Ze,_=Rr(),Y=function(ue){return[].concat(...ue).filter(we=>!!we)},ee=function(){return[]},y=function(ue){return a.isHash(ue)},d=function(ue){return ue},z=function(ue){return a.isNumber(ue)},be=function(ue){return ue},or=function(){return{type:"string",content:"#"}},xr=function(ue){let we=a.splitNumber(ue);return[{type:"hash_number",number:we.number},we.rest]},Ee=0,vr=[{line:1,column:1}],lr=0,yr=[],Je=0,kr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Rr(){return{type:"any"}}function Cr(){return{type:"end"}}function Pr(ue){var we=vr[ue],B;if(we)return we;for(B=ue-1;!vr[B];)B--;for(we=vr[B],we={line:we.line,column:we.column};B<ue;)r.charCodeAt(B)===10?(we.line++,we.column=1):we.column++,B++;return vr[ue]=we,we}function Ar(ue,we,B){var Mr=Pr(ue),hr=Pr(we),dr={source:p,start:{offset:ue,line:Mr.line,column:Mr.column},end:{offset:we,line:hr.line,column:hr.column}};return dr}function fe(ue){Ee<lr||(Ee>lr&&(lr=Ee,yr=[]),yr.push(ue))}function wr(ue,we,B){return new t(t.buildMessage(ue,we),ue,we,B)}function Ze(){var ue,we,B;if(ue=Ee,we=[],B=cr(),B===e&&(B=Sr(),B===e&&(r.length>Ee?(B=r.charAt(Ee),Ee++):(B=e,Je===0&&fe(_)))),B!==e)for(;B!==e;)we.push(B),B=cr(),B===e&&(B=Sr(),B===e&&(r.length>Ee?(B=r.charAt(Ee),Ee++):(B=e,Je===0&&fe(_))));else we=e;return we!==e&&(we=Y(we)),ue=we,ue===e&&(ue=Ee,we=nr(),we!==e&&(we=ee()),ue=we),ue}function he(){var ue,we,B;return ue=Ee,r.length>Ee?(we=r.charAt(Ee),Ee++):(we=e,Je===0&&fe(_)),we!==e?(B=y(we),B?B=void 0:B=e,B!==e?ue=d(we):(Ee=ue,ue=e)):(Ee=ue,ue=e),ue}function Qe(){var ue,we,B;return ue=Ee,r.length>Ee?(we=r.charAt(Ee),Ee++):(we=e,Je===0&&fe(_)),we!==e?(B=z(we),B?B=void 0:B=e,B!==e?ue=be(we):(Ee=ue,ue=e)):(Ee=ue,ue=e),ue}function cr(){var ue,we,B;return ue=Ee,we=he(),we!==e?(B=he(),B!==e?ue=or():(Ee=ue,ue=e)):(Ee=ue,ue=e),ue}function Sr(){var ue,we,B;return ue=Ee,we=he(),we!==e?(B=Qe(),B!==e?ue=xr(B):(Ee=ue,ue=e)):(Ee=ue,ue=e),ue}function nr(){var ue,we;return ue=Ee,Je++,r.length>Ee?(we=r.charAt(Ee),Ee++):(we=e,Je===0&&fe(_)),Je--,we===e?ue=void 0:(Ee=ue,ue=e),ue}if(!a.isHash)try{Object.assign(a,{isHash:ue=>ue.type==="string"&&ue.content==="#",isNumber:ue=>ue.type==="string"&&0<+ue.content.charAt(0),splitNumber:ue=>{let we=+ue.content.charAt(0);return ue.content.length>1?{number:we,rest:{type:"string",content:ue.content.slice(1)}}:{number:we}}})}catch(ue){console.warn("Error when initializing parser",ue)}if(kr=k(),kr!==e&&Ee===r.length)return kr;throw kr!==e&&Ee<r.length&&fe(Cr()),wr(yr,lr<r.length?r.charAt(lr):null,lr<r.length?Ar(lr,lr+1):Ar(lr,lr))}return{SyntaxError:t,parse:l}}(),Ac=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:hr},k=hr,_=Sr(),Y=function(H){return[].concat(...H).filter(ie=>!!ie)},ee=function(){return[]},y=function(H){return a.isRecognized(H)},d=function(H){return a.isRecognized(H)},z=function(H,ie){let le=a.split(ie);return a.isRecognized([H,le[0]])},be=function(H,ie){let le=a.split(ie);return[a.isRecognized([H,le[0]]),le[1]]},or=function(H,ie){return a.isRecognized([H,ie])},xr=function(H,ie){return a.isRecognized([H,ie])},Ee=function(H){return a.isRecognized(H)},vr=function(H){return a.isRecognized(H)},lr=function(H){return a.isRecognized([H])},yr=function(H){return a.isRecognized([H])},Je=function(H){return a.isMacro(H)},kr=function(H){return H},Rr=function(H){return a.isWhitespace(H)},Cr=function(H){return H},Pr=function(H){return a.isSplitable(H)},Ar=function(H){return H},fe=0,wr=[{line:1,column:1}],Ze=0,he=[],Qe=0,cr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Sr(){return{type:"any"}}function nr(){return{type:"end"}}function ue(H){var ie=wr[H],le;if(ie)return ie;for(le=H-1;!wr[le];)le--;for(ie=wr[le],ie={line:ie.line,column:ie.column};le<H;)r.charCodeAt(le)===10?(ie.line++,ie.column=1):ie.column++,le++;return wr[H]=ie,ie}function we(H,ie,le){var Be=ue(H),er=ue(ie),re={source:p,start:{offset:H,line:Be.line,column:Be.column},end:{offset:ie,line:er.line,column:er.column}};return re}function B(H){fe<Ze||(fe>Ze&&(Ze=fe,he=[]),he.push(H))}function Mr(H,ie,le){return new t(t.buildMessage(H,ie),H,ie,le)}function hr(){var H,ie,le;if(H=fe,ie=[],le=dr(),le===e&&(le=He(),le===e&&(le=Lr(),le===e&&(r.length>fe?(le=r.charAt(fe),fe++):(le=e,Qe===0&&B(_))))),le!==e)for(;le!==e;)ie.push(le),le=dr(),le===e&&(le=He(),le===e&&(le=Lr(),le===e&&(r.length>fe?(le=r.charAt(fe),fe++):(le=e,Qe===0&&B(_)))));else ie=e;return ie!==e&&(ie=Y(ie)),H=ie,H===e&&(H=fe,ie=Nr(),ie!==e&&(ie=ee()),H=ie),H}function dr(){var H,ie,le,Be,er;return H=fe,ie=fe,r.length>fe?(le=r.charAt(fe),fe++):(le=e,Qe===0&&B(_)),le!==e?(r.length>fe?(Be=r.charAt(fe),fe++):(Be=e,Qe===0&&B(_)),Be!==e?(r.length>fe?(er=r.charAt(fe),fe++):(er=e,Qe===0&&B(_)),er!==e?(le=[le,Be,er],ie=le):(fe=ie,ie=e)):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(le=y(ie),le?le=void 0:le=e,le!==e?H=d(ie):(fe=H,H=e)):(fe=H,H=e),H}function He(){var H;return H=Wr(),H===e&&(H=Or(),H===e&&(H=Hr())),H}function Or(){var H,ie,le,Be,er;if(H=fe,ie=jr(),ie!==e){for(le=[],Be=gr();Be!==e;)le.push(Be),Be=gr();Be=Ur(),Be!==e?(er=z(ie,Be),er?er=void 0:er=e,er!==e?H=be(ie,Be):(fe=H,H=e)):(fe=H,H=e)}else fe=H,H=e;return H}function Wr(){var H,ie,le,Be,er;if(H=fe,ie=jr(),ie!==e){for(le=[],Be=gr();Be!==e;)le.push(Be),Be=gr();r.length>fe?(Be=r.charAt(fe),fe++):(Be=e,Qe===0&&B(_)),Be!==e?(er=or(ie,Be),er?er=void 0:er=e,er!==e?H=xr(ie,Be):(fe=H,H=e)):(fe=H,H=e)}else fe=H,H=e;return H}function Hr(){var H,ie,le,Be;return H=fe,ie=fe,r.length>fe?(le=r.charAt(fe),fe++):(le=e,Qe===0&&B(_)),le!==e?(r.length>fe?(Be=r.charAt(fe),fe++):(Be=e,Qe===0&&B(_)),Be!==e?(le=[le,Be],ie=le):(fe=ie,ie=e)):(fe=ie,ie=e),ie!==e?(le=Ee(ie),le?le=void 0:le=e,le!==e?H=vr(ie):(fe=H,H=e)):(fe=H,H=e),H}function Lr(){var H,ie,le;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&B(_)),ie!==e?(le=lr(ie),le?le=void 0:le=e,le!==e?H=yr(ie):(fe=H,H=e)):(fe=H,H=e),H}function jr(){var H,ie,le;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&B(_)),ie!==e?(le=Je(ie),le?le=void 0:le=e,le!==e?H=kr(ie):(fe=H,H=e)):(fe=H,H=e),H}function gr(){var H,ie,le;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&B(_)),ie!==e?(le=Rr(ie),le?le=void 0:le=e,le!==e?H=Cr(ie):(fe=H,H=e)):(fe=H,H=e),H}function Ur(){var H,ie,le;return H=fe,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&B(_)),ie!==e?(le=Pr(ie),le?le=void 0:le=e,le!==e?H=Ar(ie):(fe=H,H=e)):(fe=H,H=e),H}function Nr(){var H,ie;return H=fe,Qe++,r.length>fe?(ie=r.charAt(fe),fe++):(ie=e,Qe===0&&B(_)),Qe--,ie===e?H=void 0:(fe=H,H=e),H}if(!a.isWhitespace)try{Object.assign(a,{isMacro:H=>H.type==="macro",isWhitespace:H=>H.type==="whitespace",isRecognized:H=>H.length==2&&H[0].content==="^"&&H[1].content==="o"?{type:"string",content:"\xF4"}:null,isSplitable:H=>H.type==="string"&&H.content.length>1,split:H=>[{type:"string",content:H.content.charAt(0)},{type:"string",content:H.content.slice(1)}]})}catch(H){console.warn("Error when initializing parser",H)}if(cr=k(),cr!==e&&fe===r.length)return cr;throw cr!==e&&fe<r.length&&B(nr()),Mr(he,Ze<r.length?r.charAt(Ze):null,Ze<r.length?we(Ze,Ze+1):we(Ze,Ze))}return{SyntaxError:t,parse:l}}(),xc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={start:wn},k=wn,_=";",Y=",",ee=":",y="/",d=">",z="!",be=".",or="!![",xr="]",Ee="!!",vr="+",lr="-",yr=/^[a-zA-Z0-9]/,Je=/^[0-9]/,kr=/^[ \t\n\r]/,Rr=/^[0-9a-fA-F]/,Cr=Sn(),Pr=Xr(";",!1),Ar=Xr(",",!1),fe=Ir("model list"),wr=Xr(":",!1),Ze=Xr("/",!1),he=Ir("model"),Qe=Ir("color spec list"),cr=Ir("color spec"),Sr=Ir("color"),nr=Ir("function expression"),ue=Xr(">",!1),we=Ir("function"),B=Ir("extended expression"),Mr=Ir("core model"),hr=Ir("expr"),dr=Xr("!",!1),He=Ir("mix expr"),Or=Ir("name"),Wr=Xr(".",!1),Hr=$n([["a","z"],["A","Z"],["0","9"]],!1,!1),Lr=Ir("postfix"),jr=Xr("!![",!1),gr=Xr("]",!1),Ur=Xr("!!",!1),Nr=Ir("prefix"),H=Ir("plus"),ie=Xr("+",!1),le=Ir("minus"),Be=Xr("-",!1),er=Ir("num"),re=$n([["0","9"]],!1,!1),Dr=Ir("positive float"),Er=Ir("divisor"),G=Ir("int"),N=$n([" ","	",`
`,"\r"],!1,!1),O=$n([["0","9"],["a","f"],["A","F"]],!1,!1),ir=function(m){return m},V=function(m){return m},_e=function(m){return m},Ge=function(m){return m},Fe=function(m){return m},ae=function(m){return{type:"invalid_spec",content:m}},Gr=function(m,C){return C},ar=function(m,C){return{type:"color_set",content:[m].concat(C)}},Yr=function(m,C){return{type:"color_set_item",name:m,spec_list:C}},pr=function(m,C){return{type:"model_list",contents:C,core_model:m}},E=function(m){return{type:"model_list",contents:m,core_model:null}},w=function(m,C){return C},F=function(m,C){return[m].concat(C)},U=function(m,C){return C},J=function(m,C){return{type:"spec_list",content:[m].concat(C)}},Ie=function(m){return{type:"hex_spec",content:[m]}},Ve=function(m,C){return C},qe=function(m,C){return C},Xe=function(m,C){return{type:"num_spec",content:C?[m].concat(C):[m]}},Ke=function(m,C){return{type:"color",color:m,functions:C}},rr=function(m,C){return C},je=function(m,C){return{type:"function",name:m,args:C}},sr=function(m,C,j,K){return{type:"extended_expr",core_model:m,div:C,expressions:[j].concat(K)}},D=function(m,C,j){return{type:"extended_expr",core_model:m,div:null,expressions:[C].concat(j)}},Z=function(m,C){return{type:"weighted_expr",color:m,weight:C}},Ae=function(m){return m},Te=function(m,C,j,K){return{type:"expr",prefix:m,name:C,mix_expr:j,postfix:K}},ge=function(m,C){return{type:"complete_mix",mix_percent:m,name:C}},fr=function(m){return{type:"partial_mix",mix_percent:m}},We=function(m,C){return m.concat(C||[])},b=function(m){return{type:"postfix",num:m}},W=function(m){return{type:"postfix",plusses:m}},q=function(m){return parseInt(m,10)},Se=function(m){return parseFloat(m)},Ne=function(m){return m},xe=function(m){return-m},_r=function(m,C){return m?-C:C},A=function(m){return m.toUpperCase()},f=0,L=[{line:1,column:1}],Oe=0,tr=[],te=0,en;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Xr(m,C){return{type:"literal",text:m,ignoreCase:C}}function $n(m,C,j){return{type:"class",parts:m,inverted:C,ignoreCase:j}}function Sn(){return{type:"any"}}function jn(){return{type:"end"}}function Ir(m){return{type:"other",description:m}}function Fn(m){var C=L[m],j;if(C)return C;for(j=m-1;!L[j];)j--;for(C=L[j],C={line:C.line,column:C.column};j<m;)r.charCodeAt(j)===10?(C.line++,C.column=1):C.column++,j++;return L[m]=C,C}function bn(m,C,j){var K=Fn(m),ye=Fn(C),Me={source:p,start:{offset:m,line:K.line,column:K.column},end:{offset:C,line:ye.line,column:ye.column}};return Me}function ke(m){f<Oe||(f>Oe&&(Oe=f,tr=[]),tr.push(m))}function An(m,C,j){return new t(t.buildMessage(m,C),m,C,j)}function wn(){var m,C,j,K;if(m=f,C=oe(),C!==e?(j=Gn(),j!==e?m=ir(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=pe(),C!==e?(j=Gn(),j!==e?m=V(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=me(),C!==e?(j=Gn(),j!==e?m=_e(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=g(),C!==e?(j=Gn(),j!==e?m=Ge(C):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=on(),C!==e?(j=Gn(),j!==e?m=Fe(C):(f=m,m=e)):(f=m,m=e),m===e))))){for(m=f,C=f,j=[],r.length>f?(K=r.charAt(f),f++):(K=e,te===0&&ke(Cr));K!==e;)j.push(K),r.length>f?(K=r.charAt(f),f++):(K=e,te===0&&ke(Cr));C=r.substring(C,f),C=ae(C),m=C}return m}function on(){var m,C,j,K,ye,Me;if(m=f,C=tn(),C!==e){for(j=[],K=f,r.charCodeAt(f)===59?(ye=_,f++):(ye=e,te===0&&ke(Pr)),ye!==e?(Me=tn(),Me!==e?K=Gr(C,Me):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===59?(ye=_,f++):(ye=e,te===0&&ke(Pr)),ye!==e?(Me=tn(),Me!==e?K=Gr(C,Me):(f=K,K=e)):(f=K,K=e);m=ar(C,j)}else f=m,m=e;return m}function tn(){var m,C,j,K;return m=f,C=Rn(),C!==e?(r.charCodeAt(f)===44?(j=Y,f++):(j=e,te===0&&ke(Ar)),j!==e?(K=pe(),K!==e?m=Yr(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function g(){var m,C,j,K;return te++,m=f,C=Fr(),C!==e?(r.charCodeAt(f)===58?(j=ee,f++):(j=e,te===0&&ke(wr)),j!==e?(K=S(),K!==e?m=pr(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,C=S(),C!==e&&(C=E(C)),m=C),te--,m===e&&(C=e,te===0&&ke(fe)),m}function S(){var m,C,j,K,ye,Me;if(m=f,C=R(),C!==e){for(j=[],K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,te===0&&ke(Ze)),ye!==e?(Me=R(),Me!==e?K=w(C,Me):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,te===0&&ke(Ze)),ye!==e?(Me=R(),Me!==e?K=w(C,Me):(f=K,K=e)):(f=K,K=e);m=F(C,j)}else f=m,m=e;return m}function R(){var m;return te++,m=Fr(),te--,m===e&&te===0&&ke(he),m}function pe(){var m,C,j,K,ye,Me;if(te++,m=f,C=oe(),C!==e){for(j=[],K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,te===0&&ke(Ze)),ye!==e?(Me=oe(),Me!==e?K=U(C,Me):(f=K,K=e)):(f=K,K=e);K!==e;)j.push(K),K=f,r.charCodeAt(f)===47?(ye=y,f++):(ye=e,te===0&&ke(Ze)),ye!==e?(Me=oe(),Me!==e?K=U(C,Me):(f=K,K=e)):(f=K,K=e);m=J(C,j)}else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(Qe)),m}function oe(){var m,C,j,K,ye,Me,$r,rn,Bn;if(te++,m=f,C=f,j=f,K=Tn(),K!==e?(ye=Tn(),ye!==e?(Me=Tn(),Me!==e?($r=Tn(),$r!==e?(rn=Tn(),rn!==e?(Bn=Tn(),Bn!==e?(K=[K,ye,Me,$r,rn,Bn],j=K):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e)):(f=j,j=e),j!==e?C=r.substring(C,f):C=j,C!==e&&(C=Ie(C)),m=C,m===e)if(m=f,C=Dn(),C!==e){if(j=[],K=f,r.charCodeAt(f)===44?(ye=Y,f++):(ye=e,te===0&&ke(Ar)),ye!==e?(Me=Dn(),Me!==e?K=Ve(C,Me):(f=K,K=e)):(f=K,K=e),K!==e)for(;K!==e;)j.push(K),K=f,r.charCodeAt(f)===44?(ye=Y,f++):(ye=e,te===0&&ke(Ar)),ye!==e?(Me=Dn(),Me!==e?K=Ve(C,Me):(f=K,K=e)):(f=K,K=e);else j=e;if(j===e)if(j=[],K=f,ye=dt(),ye!==e?(Me=Dn(),Me!==e?K=qe(C,Me):(f=K,K=e)):(f=K,K=e),K!==e)for(;K!==e;)j.push(K),K=f,ye=dt(),ye!==e?(Me=Dn(),Me!==e?K=qe(C,Me):(f=K,K=e)):(f=K,K=e);else j=e;j===e&&(j=null),m=Xe(C,j)}else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(cr)),m}function me(){var m,C,j,K;if(te++,m=f,C=$(),C!==e){for(j=[],K=T();K!==e;)j.push(K),K=T();m=Ke(C,j)}else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(Sr)),m}function $(){var m;return m=ce(),m===e&&(m=Vr(),m===e&&(m=Rn())),m}function T(){var m,C,j,K,ye,Me,$r;if(te++,m=f,r.charCodeAt(f)===62?(C=d,f++):(C=e,te===0&&ke(ue)),C!==e)if(j=ne(),j!==e){for(K=[],ye=f,r.charCodeAt(f)===44?(Me=Y,f++):(Me=e,te===0&&ke(Ar)),Me!==e?($r=ht(),$r!==e?ye=rr(j,$r):(f=ye,ye=e)):(f=ye,ye=e);ye!==e;)K.push(ye),ye=f,r.charCodeAt(f)===44?(Me=Y,f++):(Me=e,te===0&&ke(Ar)),Me!==e?($r=ht(),$r!==e?ye=rr(j,$r):(f=ye,ye=e)):(f=ye,ye=e);m=je(j,K)}else f=m,m=e;else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(nr)),m}function ne(){var m;return te++,m=Rn(),te--,m===e&&te===0&&ke(we),m}function ce(){var m,C,j,K,ye,Me,$r,rn;if(te++,m=f,C=Fr(),C!==e)if(r.charCodeAt(f)===44?(j=Y,f++):(j=e,te===0&&ke(Ar)),j!==e)if(K=Wt(),K!==e)if(r.charCodeAt(f)===58?(ye=ee,f++):(ye=e,te===0&&ke(wr)),ye!==e)if(Me=Pe(),Me!==e){for($r=[],rn=mr();rn!==e;)$r.push(rn),rn=mr();m=sr(C,K,Me,$r)}else f=m,m=e;else f=m,m=e;else f=m,m=e;else f=m,m=e;else f=m,m=e;if(m===e)if(m=f,C=Fr(),C!==e)if(r.charCodeAt(f)===58?(j=ee,f++):(j=e,te===0&&ke(wr)),j!==e)if(K=Pe(),K!==e){for(ye=[],Me=mr();Me!==e;)ye.push(Me),Me=mr();m=D(C,K,ye)}else f=m,m=e;else f=m,m=e;else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(B)),m}function Pe(){var m,C,j,K;return m=f,C=Vr(),C!==e?(r.charCodeAt(f)===44?(j=Y,f++):(j=e,te===0&&ke(Ar)),j!==e?(K=Dn(),K!==e?m=Z(C,K):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function mr(){var m,C,j;return m=f,r.charCodeAt(f)===59?(C=_,f++):(C=e,te===0&&ke(Pr)),C!==e?(j=Pe(),j!==e?m=Ae(j):(f=m,m=e)):(f=m,m=e),m}function Fr(){var m;return te++,m=Rn(),te--,m===e&&te===0&&ke(Mr),m}function Vr(){var m,C,j,K,ye;return te++,m=f,C=qt(),j=Rn(),j!==e?(K=Lt(),ye=Nt(),ye===e&&(ye=null),m=Te(C,j,K,ye)):(f=m,m=e),te--,m===e&&(C=e,te===0&&ke(hr)),m}function gt(){var m,C,j,K,ye;return m=f,r.charCodeAt(f)===33?(C=z,f++):(C=e,te===0&&ke(dr)),C!==e?(j=On(),j!==e?(r.charCodeAt(f)===33?(K=z,f++):(K=e,te===0&&ke(dr)),K!==e?(ye=Rn(),ye!==e?m=ge(j,ye):(f=m,m=e)):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m}function Bt(){var m,C,j;return m=f,r.charCodeAt(f)===33?(C=z,f++):(C=e,te===0&&ke(dr)),C!==e?(j=On(),j!==e?m=fr(j):(f=m,m=e)):(f=m,m=e),m}function Lt(){var m,C,j;for(te++,m=f,C=[],j=gt();j!==e;)C.push(j),j=gt();return j=Bt(),j===e&&(j=null),m=We(C,j),te--,C=e,te===0&&ke(He),m}function Rn(){var m,C,j;if(te++,r.charCodeAt(f)===46?(m=be,f++):(m=e,te===0&&ke(Wr)),m===e){if(m=f,C=[],yr.test(r.charAt(f))?(j=r.charAt(f),f++):(j=e,te===0&&ke(Hr)),j!==e)for(;j!==e;)C.push(j),yr.test(r.charAt(f))?(j=r.charAt(f),f++):(j=e,te===0&&ke(Hr));else C=e;C!==e?m=r.substring(m,f):m=C}return te--,m===e&&(C=e,te===0&&ke(Or)),m}function Nt(){var m,C,j,K,ye;if(te++,m=f,r.substr(f,3)===or?(C=or,f+=3):(C=e,te===0&&ke(jr)),C!==e?(j=mt(),j!==e?(r.charCodeAt(f)===93?(K=xr,f++):(K=e,te===0&&ke(gr)),K!==e?m=b(j):(f=m,m=e)):(f=m,m=e)):(f=m,m=e),m===e)if(m=f,r.substr(f,2)===Ee?(C=Ee,f+=2):(C=e,te===0&&ke(Ur)),C!==e){if(j=f,K=[],ye=pt(),ye!==e)for(;ye!==e;)K.push(ye),ye=pt();else K=e;K!==e?j=r.substring(j,f):j=K,j!==e?m=W(j):(f=m,m=e)}else f=m,m=e;return te--,m===e&&(C=e,te===0&&ke(Lr)),m}function qt(){var m;return te++,m=Qn(),m===e&&(m=null),te--,te===0&&ke(Nr),m}function pt(){var m,C,j;if(te++,m=f,C=[],r.charCodeAt(f)===43?(j=vr,f++):(j=e,te===0&&ke(ie)),j!==e)for(;j!==e;)C.push(j),r.charCodeAt(f)===43?(j=vr,f++):(j=e,te===0&&ke(ie));else C=e;return C!==e?m=r.substring(m,f):m=C,te--,m===e&&(C=e,te===0&&ke(H)),m}function Qn(){var m,C,j;if(te++,m=f,C=[],r.charCodeAt(f)===45?(j=lr,f++):(j=e,te===0&&ke(Be)),j!==e)for(;j!==e;)C.push(j),r.charCodeAt(f)===45?(j=lr,f++):(j=e,te===0&&ke(Be));else C=e;return C!==e?m=r.substring(m,f):m=C,te--,m===e&&(C=e,te===0&&ke(le)),m}function mt(){var m,C,j,K;if(te++,m=f,C=f,j=[],Je.test(r.charAt(f))?(K=r.charAt(f),f++):(K=e,te===0&&ke(re)),K!==e)for(;K!==e;)j.push(K),Je.test(r.charAt(f))?(K=r.charAt(f),f++):(K=e,te===0&&ke(re));else j=e;return j!==e?C=r.substring(C,f):C=j,C!==e&&(C=q(C)),m=C,te--,m===e&&(C=e,te===0&&ke(er)),m}function On(){var m,C,j,K,ye,Me,$r,rn,Bn,Ln;if(te++,m=f,C=f,j=f,K=f,ye=[],Je.test(r.charAt(f))?(Me=r.charAt(f),f++):(Me=e,te===0&&ke(re)),Me!==e)for(;Me!==e;)ye.push(Me),Je.test(r.charAt(f))?(Me=r.charAt(f),f++):(Me=e,te===0&&ke(re));else ye=e;if(ye!==e?K=r.substring(K,f):K=ye,K!==e){if(ye=f,Me=f,r.charCodeAt(f)===46?($r=be,f++):($r=e,te===0&&ke(Wr)),$r!==e){for(rn=f,Bn=[],Je.test(r.charAt(f))?(Ln=r.charAt(f),f++):(Ln=e,te===0&&ke(re));Ln!==e;)Bn.push(Ln),Je.test(r.charAt(f))?(Ln=r.charAt(f),f++):(Ln=e,te===0&&ke(re));rn=r.substring(rn,f),$r=[$r,rn],Me=$r}else f=Me,Me=e;Me===e&&(Me=null),ye=r.substring(ye,f),K=[K,ye],j=K}else f=j,j=e;if(j!==e?C=r.substring(C,f):C=j,C===e){if(C=f,j=f,r.charCodeAt(f)===46?(K=be,f++):(K=e,te===0&&ke(Wr)),K!==e){if(ye=f,Me=[],Je.test(r.charAt(f))?($r=r.charAt(f),f++):($r=e,te===0&&ke(re)),$r!==e)for(;$r!==e;)Me.push($r),Je.test(r.charAt(f))?($r=r.charAt(f),f++):($r=e,te===0&&ke(re));else Me=e;Me!==e?ye=r.substring(ye,f):ye=Me,ye!==e?(K=[K,ye],j=K):(f=j,j=e)}else f=j,j=e;j!==e?C=r.substring(C,f):C=j}return C!==e&&(C=Se(C)),m=C,te--,m===e&&(C=e,te===0&&ke(Dr)),m}function Wt(){var m;return te++,m=On(),te--,m===e&&te===0&&ke(Er),m}function Dn(){var m,C,j;return m=On(),m===e&&(m=f,r.charCodeAt(f)===43?(C=vr,f++):(C=e,te===0&&ke(ie)),C!==e?(j=On(),j!==e?m=Ne(j):(f=m,m=e)):(f=m,m=e),m===e&&(m=f,r.charCodeAt(f)===45?(C=lr,f++):(C=e,te===0&&ke(Be)),C!==e?(j=On(),j!==e?m=xe(j):(f=m,m=e)):(f=m,m=e))),m}function ht(){var m,C,j;return te++,m=f,C=Qn(),C===e&&(C=null),j=mt(),j!==e?m=_r(C,j):(f=m,m=e),te--,m===e&&(C=e,te===0&&ke(G)),m}function dt(){var m,C;if(m=[],kr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,te===0&&ke(N)),C!==e)for(;C!==e;)m.push(C),kr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,te===0&&ke(N));else m=e;return m}function Tn(){var m,C;return m=f,Rr.test(r.charAt(f))?(C=r.charAt(f),f++):(C=e,te===0&&ke(O)),C!==e&&(C=A(C)),m=C,m}function Gn(){var m,C;return m=f,te++,r.length>f?(C=r.charAt(f),f++):(C=e,te===0&&ke(Cr)),te--,C===e?m=void 0:(f=m,m=e),m}if(en=k(),en!==e&&f===r.length)return en;throw en!==e&&f<r.length&&ke(jn()),An(tr,Oe<r.length?r.charAt(Oe):null,Oe<r.length?bn(Oe,Oe+1):bn(Oe,Oe))}return{SyntaxError:t,parse:l}}(),wc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:J},k=J,_=pr("decl_start"),Y=pr("decl_end"),ee=pr("vert"),y=ar(),d=pr("l"),z=pr("r"),be=pr("c"),or=pr("p"),xr=pr("m"),Ee=pr("b"),vr=pr("w"),lr=pr("W"),yr=pr("X"),Je=pr("!"),kr=pr("@"),Rr=pr("<"),Cr=pr(">"),Pr=pr("group"),Ar=pr("whitespace"),fe=function(A){return A},wr=function(A){return A},Ze=function(){return[]},he=function(A,f,L,Oe,tr){return{type:"column",pre_dividers:A,post_dividers:tr,before_start_code:f,before_end_code:Oe,alignment:L}},Qe=function(){return{type:"vert_divider"}},cr=function(A,f){return{type:"bang_divider",content:f[0].content}},Sr=function(A){return{type:"at_divider",content:A[0].content}},nr=function(A){return A},ue=function(A){return{type:"decl_code",code:A[0].content}},we=function(A){return{type:"decl_code",code:A[0].content}},B=function(){return{type:"alignment",alignment:"left"}},Mr=function(){return{type:"alignment",alignment:"center"}},hr=function(){return{type:"alignment",alignment:"right"}},dr=function(){return{type:"alignment",alignment:"X"}},He=function(){return"top"},Or=function(){return"default"},Wr=function(){return"bottom"},Hr=function(A,f){return{type:"alignment",alignment:"parbox",baseline:A,size:f[0].content}},Lr=function(A,f){return{type:"alignment",alignment:"parbox",baseline:A[0].content,size:f[0].content}},jr=function(A){return a.matchChar(A,"|")},gr=function(A){return a.matchChar(A,"l")},Ur=function(A){return a.matchChar(A,"r")},Nr=function(A){return a.matchChar(A,"c")},H=function(A){return a.matchChar(A,"p")},ie=function(A){return a.matchChar(A,"m")},le=function(A){return a.matchChar(A,"b")},Be=function(A){return a.matchChar(A,"w")},er=function(A){return a.matchChar(A,"W")},re=function(A){return a.matchChar(A,"X")},Dr=function(A){return a.matchChar(A,"!")},Er=function(A){return a.matchChar(A,"@")},G=function(A){return a.matchChar(A,"<")},N=function(A){return a.matchChar(A,">")},O=function(A){return a.isGroup(A)},ir=function(A){return a.isWhitespace(A)},V=0,_e=[{line:1,column:1}],Ge=0,Fe=[],ae=0,Gr;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function ar(){return{type:"any"}}function Yr(){return{type:"end"}}function pr(A){return{type:"other",description:A}}function E(A){var f=_e[A],L;if(f)return f;for(L=A-1;!_e[L];)L--;for(f=_e[L],f={line:f.line,column:f.column};L<A;)r.charCodeAt(L)===10?(f.line++,f.column=1):f.column++,L++;return _e[A]=f,f}function w(A,f,L){var Oe=E(A),tr=E(f),te={source:p,start:{offset:A,line:Oe.line,column:Oe.column},end:{offset:f,line:tr.line,column:tr.column}};return te}function F(A){V<Ge||(V>Ge&&(Ge=V,Fe=[]),Fe.push(A))}function U(A,f,L){return new t(t.buildMessage(A,f),A,f,L)}function J(){var A,f,L,Oe,tr,te;if(A=V,f=[],L=V,Oe=Ie(),Oe!==e){for(tr=[],te=xe();te!==e;)tr.push(te),te=xe();L=fe(Oe)}else V=L,L=e;if(L!==e)for(;L!==e;)if(f.push(L),L=V,Oe=Ie(),Oe!==e){for(tr=[],te=xe();te!==e;)tr.push(te),te=xe();L=fe(Oe)}else V=L,L=e;else f=e;return f!==e&&(f=wr(f)),A=f,A===e&&(A=V,f=_r(),f!==e&&(f=Ze()),A=f),A}function Ie(){var A,f,L,Oe,tr,te,en;for(A=V,f=[],L=Ve();L!==e;)f.push(L),L=Ve();if(L=qe(),L===e&&(L=null),Oe=Ke(),Oe!==e){for(tr=Xe(),tr===e&&(tr=null),te=[],en=Ve();en!==e;)te.push(en),en=Ve();A=he(f,L,Oe,tr,te)}else V=A,A=e;return A}function Ve(){var A,f,L,Oe,tr;for(A=V,f=[],L=xe();L!==e;)f.push(L),L=xe();if(L=V,Oe=rr(),Oe!==e&&(Oe=Qe()),L=Oe,L===e&&(L=V,Oe=b(),Oe!==e?(tr=Ne(),tr!==e?L=cr(Oe,tr):(V=L,L=e)):(V=L,L=e),L===e&&(L=V,Oe=W(),Oe!==e?(tr=Ne(),tr!==e?L=Sr(tr):(V=L,L=e)):(V=L,L=e))),L!==e){for(Oe=[],tr=xe();tr!==e;)Oe.push(tr),tr=xe();A=nr(L)}else V=A,A=e;return A}function qe(){var A,f,L;return ae++,A=V,f=Se(),f!==e?(L=Ne(),L!==e?A=ue(L):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(_)),A}function Xe(){var A,f,L;return ae++,A=V,f=q(),f!==e?(L=Ne(),L!==e?A=we(L):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Y)),A}function Ke(){var A,f,L,Oe,tr,te;if(A=V,f=je(),f!==e&&(f=B()),A=f,A===e&&(A=V,f=D(),f!==e&&(f=Mr()),A=f,A===e&&(A=V,f=sr(),f!==e&&(f=hr()),A=f,A===e&&(A=V,f=We(),f!==e&&(f=dr()),A=f,A===e)))){if(A=V,f=V,L=Z(),L!==e&&(L=He()),f=L,f===e&&(f=V,L=Ae(),L!==e&&(L=Or()),f=L,f===e&&(f=V,L=Te(),L!==e&&(L=Wr()),f=L)),f!==e){for(L=[],Oe=xe();Oe!==e;)L.push(Oe),Oe=xe();Oe=Ne(),Oe!==e?A=Hr(f,Oe):(V=A,A=e)}else V=A,A=e;if(A===e)if(A=V,f=ge(),f===e&&(f=fr()),f!==e){for(L=[],Oe=xe();Oe!==e;)L.push(Oe),Oe=xe();if(Oe=Ne(),Oe!==e){for(tr=[],te=xe();te!==e;)tr.push(te),te=xe();te=Ne(),te!==e?A=Lr(Oe,te):(V=A,A=e)}else V=A,A=e}else V=A,A=e}return A}function rr(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=jr(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(ee)),A}function je(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=gr(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(d)),A}function sr(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=Ur(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(z)),A}function D(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=Nr(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(be)),A}function Z(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=H(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(or)),A}function Ae(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=ie(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(xr)),A}function Te(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=le(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Ee)),A}function ge(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=Be(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(vr)),A}function fr(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=er(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(lr)),A}function We(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=re(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(yr)),A}function b(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=Dr(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Je)),A}function W(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=Er(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(kr)),A}function q(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=G(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Rr)),A}function Se(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=N(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Cr)),A}function Ne(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=O(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Pr)),A}function xe(){var A,f,L;return ae++,A=V,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),f!==e?(L=ir(f),L?L=void 0:L=e,L!==e?(f=[f,L],A=f):(V=A,A=e)):(V=A,A=e),ae--,A===e&&(f=e,ae===0&&F(Ar)),A}function _r(){var A,f;return A=V,ae++,r.length>V?(f=r.charAt(V),V++):(f=e,ae===0&&F(y)),ae--,f===e?A=void 0:(V=A,A=e),A}if(!a.isHash)try{Object.assign(a,{matchChar:(A,f)=>A.type==="string"&&A.content===f,isGroup:A=>A.type==="group",isWhitespace:A=>A.type==="whitespace"})}catch(A){console.warn("Error when initializing parser",A)}if(Gr=k(),Gr!==e&&V===r.length)return Gr;throw Gr!==e&&V<r.length&&F(Yr()),U(Fe,Ge<r.length?r.charAt(Ge):null,Ge<r.length?w(Ge,Ge+1):w(Ge,Ge))}return{SyntaxError:t,parse:l}}(),kc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={body:ar},k=ar,_=_e("item"),Y=ir(),ee=_e("equation"),y=_e("trailing comment"),d=_e("comment only line"),z=_e("non-var token"),be=_e("token"),or=_e("same line comment"),xr=_e("own line comment"),Ee=_e(","),vr=_e("@"),lr=_e("variable token"),yr=_e("+/-"),Je=_e("="),kr=function(b,W){return b.concat(W||[])},Rr=function(){return[]},Cr=function(b,W,q,Se){return{type:"item",op:b,variable:q,content:W.concat(q,Se)}},Pr=function(b,W){return{type:"item",op:b,variable:null,content:W}},Ar=function(b,W,q){return{...b,sep:[].concat(W),trailingComment:q}},fe=function(b,W){return{...b,trailingComment:W}},wr=function(b,W){return{type:"line",equation:b,annotation:W,sep:null}},Ze=function(b,W){return b?{type:"annotation",marker:b,content:W}:null},he=function(b,W,q){return{type:"equation",left:b,right:q,equals:W}},Qe=function(b){return b},cr=function(b){return{type:"line",trailingComment:b}},Sr=function(b,W){return[b].concat(W||[])},nr=function(b){return b},ue=function(b){return b},we=function(b){return b},B=function(b){return a.isSameLineComment(b)},Mr=function(b){return b},hr=function(b){return a.isOwnLineComment(b)},dr=function(b){return b},He=function(b){return a.isWhitespace(b)},Or=function(b){return b},Wr=function(b){return a.isSep(b)},Hr=function(b){return b},Lr=function(b){return a.isAt(b)},jr=function(b){return b},gr=function(b){return a.isVar(b)},Ur=function(b){return b},Nr=function(b){return a.isOperation(b)},H=function(b){return b},ie=function(b){return a.isEquals(b)},le=function(b){return b},Be=function(b){return a.isSubscript(b)},er=function(b){return b},re=0,Dr=[{line:1,column:1}],Er=0,G=[],N=0,O;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function ir(){return{type:"any"}}function V(){return{type:"end"}}function _e(b){return{type:"other",description:b}}function Ge(b){var W=Dr[b],q;if(W)return W;for(q=b-1;!Dr[q];)q--;for(W=Dr[q],W={line:W.line,column:W.column};q<b;)r.charCodeAt(q)===10?(W.line++,W.column=1):W.column++,q++;return Dr[b]=W,W}function Fe(b,W,q){var Se=Ge(b),Ne=Ge(W),xe={source:p,start:{offset:b,line:Se.line,column:Se.column},end:{offset:W,line:Ne.line,column:Ne.column}};return xe}function ae(b){re<Er||(re>Er&&(Er=re,G=[]),G.push(b))}function Gr(b,W,q){return new t(t.buildMessage(b,W),b,W,q)}function ar(){var b,W,q;for(b=re,W=[],q=Ie(),q===e&&(q=pr(),q===e&&(q=E()));q!==e;)W.push(q),q=Ie(),q===e&&(q=pr(),q===e&&(q=E()));return q=w(),q===e&&(q=We()),q!==e?b=kr(W,q):(re=b,b=e),b===e&&(b=re,W=We(),W!==e&&(W=Rr()),b=W),b}function Yr(){var b,W,q,Se,Ne,xe,_r,A,f,L;for(N++,b=re,W=Te(),W===e&&(W=null),q=[],Se=sr();Se!==e;)q.push(Se),Se=sr();for(Se=[],Ne=qe();Ne!==e;)Se.push(Ne),Ne=qe();for(Ne=[],xe=sr();xe!==e;)Ne.push(xe),xe=sr();if(xe=Ve(),xe!==e){for(_r=[],A=sr();A!==e;)_r.push(A),A=sr();for(A=[],f=Ke();f!==e;)A.push(f),f=Ke();for(f=[],L=sr();L!==e;)f.push(L),L=sr();b=Cr(W,Se,xe,A)}else re=b,b=e;if(b===e){for(b=re,W=Te(),W===e&&(W=null),q=[],Se=sr();Se!==e;)q.push(Se),Se=sr();if(Se=[],Ne=qe(),Ne!==e)for(;Ne!==e;)Se.push(Ne),Ne=qe();else Se=e;if(Se!==e){for(Ne=[],xe=sr();xe!==e;)Ne.push(xe),xe=sr();b=Pr(W,Se)}else re=b,b=e}return N--,b===e&&(W=e,N===0&&ae(_)),b}function pr(){var b,W,q,Se;return b=re,W=w(),W!==e?(q=D(),q!==e?(Se=J(),Se===e&&(Se=null),b=Ar(W,q,Se)):(re=b,b=e)):(re=b,b=e),b}function E(){var b,W,q;return b=re,W=w(),W!==e?(q=J(),q!==e?b=fe(W,q):(re=b,b=e)):(re=b,b=e),b}function w(){var b,W,q,Se;return b=re,W=re,N++,r.length>re?(q=r.charAt(re),re++):(q=e,N===0&&ae(Y)),N--,q!==e?(re=W,W=void 0):W=e,W!==e?(q=U(),Se=F(),Se===e&&(Se=null),b=wr(q,Se)):(re=b,b=e),b}function F(){var b,W,q,Se;if(b=re,W=Z(),W!==e){for(q=[],Se=Xe();Se!==e;)q.push(Se),Se=Xe();b=Ze(W,q)}else re=b,b=e;return b}function U(){var b,W,q,Se,Ne;for(N++,b=re,W=[],q=Yr();q!==e;)W.push(q),q=Yr();for(q=ge(),q===e&&(q=null),Se=[],Ne=Ke(),Ne===e&&(Ne=Te());Ne!==e;)Se.push(Ne),Ne=Ke(),Ne===e&&(Ne=Te());return b=he(W,q,Se),N--,W=e,N===0&&ae(ee),b}function J(){var b,W,q;for(N++,b=re,W=[],q=sr();q!==e;)W.push(q),q=sr();return q=rr(),q!==e?b=Qe(q):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(y)),b}function Ie(){var b,W,q;for(N++,b=re,W=[],q=sr();q!==e;)W.push(q),q=sr();return q=je(),q!==e?b=cr(q):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(d)),b}function Ve(){var b,W,q,Se;if(b=re,W=Ae(),W!==e){for(q=[],Se=sr();Se!==e;)q.push(Se),Se=sr();Se=fr(),Se===e&&(Se=null),b=Sr(W,Se)}else re=b,b=e;return b}function qe(){var b,W,q;return N++,b=re,W=re,N++,q=Ve(),N--,q===e?W=void 0:(re=W,W=e),W!==e?(q=Ke(),q!==e?b=nr(q):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(z)),b}function Xe(){var b,W,q;return b=re,W=re,N++,q=D(),q===e&&(q=J(),q===e&&(q=je())),N--,q===e?W=void 0:(re=W,W=e),W!==e?(r.length>re?(q=r.charAt(re),re++):(q=e,N===0&&ae(Y)),q!==e?b=ue(q):(re=b,b=e)):(re=b,b=e),b}function Ke(){var b,W,q;return N++,b=re,W=re,N++,q=D(),q===e&&(q=Z(),q===e&&(q=Te(),q===e&&(q=ge(),q===e&&(q=J(),q===e&&(q=je()))))),N--,q===e?W=void 0:(re=W,W=e),W!==e?(r.length>re?(q=r.charAt(re),re++):(q=e,N===0&&ae(Y)),q!==e?b=we(q):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(be)),b}function rr(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=B(W),q?q=void 0:q=e,q!==e?b=Mr(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(or)),b}function je(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=hr(W),q?q=void 0:q=e,q!==e?b=dr(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(xr)),b}function sr(){var b,W,q;return b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=He(W),q?q=void 0:q=e,q!==e?b=Or(W):(re=b,b=e)):(re=b,b=e),b}function D(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=Wr(W),q?q=void 0:q=e,q!==e?b=Hr(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(Ee)),b}function Z(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=Lr(W),q?q=void 0:q=e,q!==e?b=jr(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(vr)),b}function Ae(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=gr(W),q?q=void 0:q=e,q!==e?b=Ur(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(lr)),b}function Te(){var b,W,q,Se,Ne;for(N++,b=re,W=[],q=sr();q!==e;)W.push(q),q=sr();if(r.length>re?(q=r.charAt(re),re++):(q=e,N===0&&ae(Y)),q!==e){for(Se=[],Ne=sr();Ne!==e;)Se.push(Ne),Ne=sr();Ne=Nr(q),Ne?Ne=void 0:Ne=e,Ne!==e?b=H(q):(re=b,b=e)}else re=b,b=e;return N--,b===e&&(W=e,N===0&&ae(yr)),b}function ge(){var b,W,q;return N++,b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=ie(W),q?q=void 0:q=e,q!==e?b=le(W):(re=b,b=e)):(re=b,b=e),N--,b===e&&(W=e,N===0&&ae(Je)),b}function fr(){var b,W,q;return b=re,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),W!==e?(q=Be(W),q?q=void 0:q=e,q!==e?b=er(W):(re=b,b=e)):(re=b,b=e),b}function We(){var b,W;return b=re,N++,r.length>re?(W=r.charAt(re),re++):(W=e,N===0&&ae(Y)),N--,W===e?b=void 0:(re=b,b=e),b}if(!a.isWhitespace)try{Object.assign(a,{isSep:b=>b.type==="string"&&b.content===",",isVar:b=>b.type==="string"&&b.content.match(/[a-zA-Z]/),isOperation:b=>b.type==="string"&&b.content.match(/[+-]/),isEquals:b=>b.type==="string"&&b.content==="=",isAt:b=>b.type==="string"&&b.content==="@",isSubscript:b=>b.content==="_",isWhitespace:b=>b.type==="whitespace",isSameLineComment:b=>b.type==="comment"&&b.sameline,isOwnLineComment:b=>b.type==="comment"&&!b.sameline})}catch(b){console.warn("Error when initializing parser",b)}if(O=k(),O!==e&&re===r.length)return O;throw O!==e&&re<r.length&&ae(V()),Gr(G,Er<r.length?r.charAt(Er):null,Er<r.length?Fe(Er,Er+1):Fe(Er,Er))}return{SyntaxError:t,parse:l}}(),Cc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={root:Ve},k=Ve,_="plus",Y="minus",ee="pt",y="mm",d="cm",z="in",be="ex",or="em",xr="bp",Ee="pc",vr="dd",lr="cc",yr="nd",Je="nc",kr="sp",Rr="filll",Cr="fill",Pr="fil",Ar=".",fe="+",wr="-",Ze=/^[0-9]/,he=pr(),Qe=ar("plus",!1),cr=ar("minus",!1),Sr=ar("pt",!1),nr=ar("mm",!1),ue=ar("cm",!1),we=ar("in",!1),B=ar("ex",!1),Mr=ar("em",!1),hr=ar("bp",!1),dr=ar("pc",!1),He=ar("dd",!1),Or=ar("cc",!1),Wr=ar("nd",!1),Hr=ar("nc",!1),Lr=ar("sp",!1),jr=ar("filll",!1),gr=ar("fill",!1),Ur=ar("fil",!1),Nr=w("number"),H=Yr([["0","9"]],!1,!1),ie=ar(".",!1),le=ar("+",!1),Be=ar("-",!1),er=function(Z,Ae,Te){return{type:"glue",fixed:Z,stretchable:Ae,shrinkable:Te,position:Gr()}},re=function(Z){return Z},Dr=function(Z,Ae){return{type:"dim",value:Z,unit:Ae}},Er=function(Z,Ae){return{type:"dim",value:Z,unit:Ae}},G=function(Z,Ae){return{type:"dim",value:Z,unit:Ae}},N=function(Z){return parseFloat(Z)},O=0,ir=0,V=[{line:1,column:1}],_e=0,Ge=[],Fe=0,ae;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Gr(){return U(ir,O)}function ar(Z,Ae){return{type:"literal",text:Z,ignoreCase:Ae}}function Yr(Z,Ae,Te){return{type:"class",parts:Z,inverted:Ae,ignoreCase:Te}}function pr(){return{type:"any"}}function E(){return{type:"end"}}function w(Z){return{type:"other",description:Z}}function F(Z){var Ae=V[Z],Te;if(Ae)return Ae;for(Te=Z-1;!V[Te];)Te--;for(Ae=V[Te],Ae={line:Ae.line,column:Ae.column};Te<Z;)r.charCodeAt(Te)===10?(Ae.line++,Ae.column=1):Ae.column++,Te++;return V[Z]=Ae,Ae}function U(Z,Ae,Te){var ge=F(Z),fr=F(Ae),We={source:p,start:{offset:Z,line:ge.line,column:ge.column},end:{offset:Ae,line:fr.line,column:fr.column}};return We}function J(Z){O<_e||(O>_e&&(_e=O,Ge=[]),Ge.push(Z))}function Ie(Z,Ae,Te){return new t(t.buildMessage(Z,Ae),Z,Ae,Te)}function Ve(){var Z,Ae,Te,ge,fr;if(Z=O,Ae=O,Te=qe(),Te!==e?(ge=Xe(),ge===e&&(ge=null),fr=Ke(),fr===e&&(fr=null),ir=Ae,Ae=er(Te,ge,fr)):(O=Ae,Ae=e),Ae!==e){for(Te=[],r.length>O?(ge=r.charAt(O),O++):(ge=e,Fe===0&&J(he));ge!==e;)Te.push(ge),r.length>O?(ge=r.charAt(O),O++):(ge=e,Fe===0&&J(he));ir=Z,Z=re(Ae)}else O=Z,Z=e;return Z}function qe(){var Z,Ae,Te;return Z=O,Ae=sr(),Ae!==e?(Te=rr(),Te!==e?(ir=Z,Z=Dr(Ae,Te)):(O=Z,Z=e)):(O=Z,Z=e),Z}function Xe(){var Z,Ae,Te,ge;return Z=O,r.substr(O,4)===_?(Ae=_,O+=4):(Ae=e,Fe===0&&J(Qe)),Ae!==e?(Te=sr(),Te!==e?(ge=je(),ge!==e?(ir=Z,Z=Er(Te,ge)):(O=Z,Z=e)):(O=Z,Z=e)):(O=Z,Z=e),Z}function Ke(){var Z,Ae,Te,ge;return Z=O,r.substr(O,5)===Y?(Ae=Y,O+=5):(Ae=e,Fe===0&&J(cr)),Ae!==e?(Te=sr(),Te!==e?(ge=je(),ge!==e?(ir=Z,Z=G(Te,ge)):(O=Z,Z=e)):(O=Z,Z=e)):(O=Z,Z=e),Z}function rr(){var Z;return r.substr(O,2)===ee?(Z=ee,O+=2):(Z=e,Fe===0&&J(Sr)),Z===e&&(r.substr(O,2)===y?(Z=y,O+=2):(Z=e,Fe===0&&J(nr)),Z===e&&(r.substr(O,2)===d?(Z=d,O+=2):(Z=e,Fe===0&&J(ue)),Z===e&&(r.substr(O,2)===z?(Z=z,O+=2):(Z=e,Fe===0&&J(we)),Z===e&&(r.substr(O,2)===be?(Z=be,O+=2):(Z=e,Fe===0&&J(B)),Z===e&&(r.substr(O,2)===or?(Z=or,O+=2):(Z=e,Fe===0&&J(Mr)),Z===e&&(r.substr(O,2)===xr?(Z=xr,O+=2):(Z=e,Fe===0&&J(hr)),Z===e&&(r.substr(O,2)===Ee?(Z=Ee,O+=2):(Z=e,Fe===0&&J(dr)),Z===e&&(r.substr(O,2)===vr?(Z=vr,O+=2):(Z=e,Fe===0&&J(He)),Z===e&&(r.substr(O,2)===lr?(Z=lr,O+=2):(Z=e,Fe===0&&J(Or)),Z===e&&(r.substr(O,2)===yr?(Z=yr,O+=2):(Z=e,Fe===0&&J(Wr)),Z===e&&(r.substr(O,2)===Je?(Z=Je,O+=2):(Z=e,Fe===0&&J(Hr)),Z===e&&(r.substr(O,2)===kr?(Z=kr,O+=2):(Z=e,Fe===0&&J(Lr)))))))))))))),Z}function je(){var Z;return Z=rr(),Z===e&&(r.substr(O,5)===Rr?(Z=Rr,O+=5):(Z=e,Fe===0&&J(jr)),Z===e&&(r.substr(O,4)===Cr?(Z=Cr,O+=4):(Z=e,Fe===0&&J(gr)),Z===e&&(r.substr(O,3)===Pr?(Z=Pr,O+=3):(Z=e,Fe===0&&J(Ur))))),Z}function sr(){var Z,Ae,Te,ge,fr,We,b,W,q;for(Fe++,Z=O,Ae=O,Te=O,ge=D(),ge===e&&(ge=null),fr=O,We=[],Ze.test(r.charAt(O))?(b=r.charAt(O),O++):(b=e,Fe===0&&J(H));b!==e;)We.push(b),Ze.test(r.charAt(O))?(b=r.charAt(O),O++):(b=e,Fe===0&&J(H));if(r.charCodeAt(O)===46?(b=Ar,O++):(b=e,Fe===0&&J(ie)),b!==e){if(W=[],Ze.test(r.charAt(O))?(q=r.charAt(O),O++):(q=e,Fe===0&&J(H)),q!==e)for(;q!==e;)W.push(q),Ze.test(r.charAt(O))?(q=r.charAt(O),O++):(q=e,Fe===0&&J(H));else W=e;W!==e?(We=[We,b,W],fr=We):(O=fr,fr=e)}else O=fr,fr=e;if(fr===e)if(fr=[],Ze.test(r.charAt(O))?(We=r.charAt(O),O++):(We=e,Fe===0&&J(H)),We!==e)for(;We!==e;)fr.push(We),Ze.test(r.charAt(O))?(We=r.charAt(O),O++):(We=e,Fe===0&&J(H));else fr=e;return fr!==e?(ge=[ge,fr],Te=ge):(O=Te,Te=e),Te!==e?Ae=r.substring(Ae,O):Ae=Te,Ae!==e&&(ir=Z,Ae=N(Ae)),Z=Ae,Fe--,Z===e&&(Ae=e,Fe===0&&J(Nr)),Z}function D(){var Z;return r.charCodeAt(O)===43?(Z=fe,O++):(Z=e,Fe===0&&J(le)),Z===e&&(r.charCodeAt(O)===45?(Z=wr,O++):(Z=e,Fe===0&&J(Be))),Z}if(ae=k(),ae!==e&&O===r.length)return ae;throw ae!==e&&O<r.length&&J(E()),Ie(Ge,_e<r.length?r.charAt(_e):null,_e<r.length?U(_e,_e+1):U(_e,_e))}return{SyntaxError:t,parse:l}}(),Mc=function(){function n(r,a){function e(){this.constructor=r}e.prototype=a.prototype,r.prototype=new e}function t(r,a,e,p){var h=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(h,t.prototype),h.expected=a,h.found=e,h.location=p,h.name="SyntaxError",h}n(t,Error);function s(r,a,e){return e=e||" ",r.length>a?r:(a-=r.length,e+=e.repeat(a),r+e.slice(0,a))}t.prototype.format=function(r){var a="Error: "+this.message;if(this.location){var e=null,p;for(p=0;p<r.length;p++)if(r[p].source===this.location.source){e=r[p].text.split(/\r\n|\n|\r/g);break}var h=this.location.start,k=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(h):h,_=this.location.source+":"+k.line+":"+k.column;if(e){var Y=this.location.end,ee=s("",k.line.toString().length," "),y=e[h.line-1],d=h.line===Y.line?Y.column:y.length+1,z=d-h.column||1;a+=`
 --> `+_+`
`+ee+` |
`+k.line+" | "+y+`
`+ee+" | "+s("",h.column-1," ")+s("",z,"^")}else a+=`
 at `+_}return a},t.buildMessage=function(r,a){var e={literal:function(y){return'"'+h(y.text)+'"'},class:function(y){var d=y.parts.map(function(z){return Array.isArray(z)?k(z[0])+"-"+k(z[1]):k(z)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};function p(y){return y.charCodeAt(0).toString(16).toUpperCase()}function h(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function k(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+p(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+p(d)})}function _(y){return e[y.type](y)}function Y(y){var d=y.map(_),z,be;if(d.sort(),d.length>0){for(z=1,be=1;z<d.length;z++)d[z-1]!==d[z]&&(d[be]=d[z],be++);d.length=be}switch(d.length){case 1:return d[0];case 2:return d[0]+" or "+d[1];default:return d.slice(0,-1).join(", ")+", or "+d[d.length-1]}}function ee(y){return y?'"'+h(y)+'"':"end of input"}return"Expected "+Y(r)+" but "+ee(a)+" found."};function l(r,a){a=a!==void 0?a:{};var e={},p=a.grammarSource,h={path_spec:D,foreach_body:Te},k=D,_=Ve(),Y=Xe("comment"),ee=Xe("floating comment"),y=Xe("operation"),d=Xe("="),z=function(g){return g},be=function(g){return{type:"path_spec",content:g}},or=function(g,S,R){return{op:S,comment:R}},xr=function(g,S,R,pe){let oe=[g,...S.map($=>$.comment),R].filter($=>$),me=S.map($=>$.op.content.content).join(" ");return{type:"animation",comments:oe,attribute:me,content:pe.content}},Ee=function(g,S){return{...S,start:g,type:"foreach"}},vr=function(g,S,R,pe,oe,me,$,T){let ne=[g,pe,oe,$].filter(ce=>ce);return{type:"foreach_body",variables:S,options:R&&R.content,list:me,command:T,comments:ne}},lr=function(g,S,R,pe){let oe=[g,R].filter(me=>me);return{type:"svg_operation",options:S&&S.content,content:pe,comments:oe}},yr=function(g,S,R,pe,oe,me){return{coord:me,comment:oe}},Je=function(g,S,R,pe,oe,me){let $=[g,S,pe,oe&&oe.comment,me].filter(T=>T);return{type:"curve_to",controls:oe?[R,oe.coord]:[R],comments:$}},kr=function(){return{type:"line_to",command:"|-"}},Rr=function(){return{type:"line_to",command:"-|"}},Cr=function(){return{type:"line_to",command:"--"}},Pr=function(g,S){return{type:"coordinate",content:S,prefix:g}},Ar=function(g){return{type:"square_brace_group",content:g}},fe=function(g){return{type:"unknown",content:g}},wr=function(g){return a.isComment(g)},Ze=function(g){return g},he=function(g){return a.isWhitespace(g)},Qe=function(g){return g},cr=function(g){return g},Sr=function(g){return a.isOperation(g)},nr=function(g){return{type:"operation",content:g}},ue=function(g){return a.isChar(g,"=")},we=function(g){return g},B=function(g){return a.isChar(g,"[")},Mr=function(g){return g},hr=function(g){return a.isChar(g,"]")},dr=function(g){return g},He=function(g){return a.isChar(g,"(")},Or=function(g){return g},Wr=function(g){return a.isChar(g,")")},Hr=function(g){return g},Lr=function(g){return a.isChar(g,"+")},jr=function(g){return g},gr=function(g){return a.isChar(g,"-")},Ur=function(g){return g},Nr=function(g){return a.isChar(g,"|")},H=function(g){return g},ie=function(g){return a.isChar(g,".")},le=function(g){return g},Be=function(g){return a.isChar(g,"controls")},er=function(g){return g},re=function(g){return a.isChar(g,"and")},Dr=function(g){return g},Er=function(g){return a.isChar(g,"svg")},G=function(g){return g},N=function(g){return a.isGroup(g)},O=function(g){return g},ir=function(g){return a.isAnyMacro(g)},V=function(g){return g},_e=function(g){return a.isChar(g,"foreach")},Ge=function(g){return g},Fe=function(g){return a.isMacro(g,"foreach")},ae=function(g){return g},Gr=function(g){return a.isChar(g,"in")},ar=function(g){return g},Yr=function(g){return a.isChar(g,":")},pr=function(g){return g},E=0,w=[{line:1,column:1}],F=0,U=[],J=0,Ie;if("startRule"in a){if(!(a.startRule in h))throw new Error(`Can't start parsing from rule "`+a.startRule+'".');k=h[a.startRule]}function Ve(){return{type:"any"}}function qe(){return{type:"end"}}function Xe(g){return{type:"other",description:g}}function Ke(g){var S=w[g],R;if(S)return S;for(R=g-1;!w[R];)R--;for(S=w[R],S={line:S.line,column:S.column};R<g;)r.charCodeAt(R)===10?(S.line++,S.column=1):S.column++,R++;return w[g]=S,S}function rr(g,S,R){var pe=Ke(g),oe=Ke(S),me={source:p,start:{offset:g,line:pe.line,column:pe.column},end:{offset:S,line:oe.line,column:oe.column}};return me}function je(g){E<F||(E>F&&(F=E,U=[]),U.push(g))}function sr(g,S,R){return new t(t.buildMessage(g,S),g,S,R)}function D(){var g,S,R,pe,oe,me;if(g=E,S=[],R=E,pe=W(),pe===e&&(pe=b(),pe===e&&(pe=fr(),pe===e&&(pe=We(),pe===e&&(pe=ge(),pe===e&&(pe=Ae(),pe===e&&(pe=A(),pe===e&&(pe=Ne(),pe===e&&(pe=Z(),pe===e&&(pe=Se()))))))))),pe!==e){for(oe=[],me=xe();me!==e;)oe.push(me),me=xe();R=z(pe)}else E=R,R=e;if(R!==e)for(;R!==e;)if(S.push(R),R=E,pe=W(),pe===e&&(pe=b(),pe===e&&(pe=fr(),pe===e&&(pe=We(),pe===e&&(pe=ge(),pe===e&&(pe=Ae(),pe===e&&(pe=A(),pe===e&&(pe=Ne(),pe===e&&(pe=Z(),pe===e&&(pe=Se()))))))))),pe!==e){for(oe=[],me=xe();me!==e;)oe.push(me),me=xe();R=z(pe)}else E=R,R=e;else S=e;return S!==e&&(S=be(S)),g=S,g}function Z(){var g,S,R,pe,oe,me,$;if(g=E,S=tn(),S!==e){if(R=_r(),pe=[],oe=E,me=A(),me!==e?($=_r(),oe=or(R,me,$)):(E=oe,oe=e),oe!==e)for(;oe!==e;)pe.push(oe),oe=E,me=A(),me!==e?($=_r(),oe=or(R,me,$)):(E=oe,oe=e);else pe=e;pe!==e?(oe=f(),oe!==e?(me=_r(),$=bn(),$!==e?g=xr(R,pe,me,$):(E=g,g=e)):(E=g,g=e)):(E=g,g=e)}else E=g,g=e;return g}function Ae(){var g,S,R;return g=E,S=An(),S===e&&(S=wn()),S!==e?(R=Te(),R!==e?g=Ee(S,R):(E=g,g=e)):(E=g,g=e),g}function Te(){var g,S,R,pe,oe,me,$,T,ne,ce;for(g=E,S=_r(),R=E,pe=[],oe=E,me=E,J++,$=on(),$===e&&($=W()),J--,$===e?me=void 0:(E=me,me=e),me!==e?(r.length>E?($=r.charAt(E),E++):($=e,J===0&&je(_)),$!==e?(me=[me,$],oe=me):(E=oe,oe=e)):(E=oe,oe=e);oe!==e;)pe.push(oe),oe=E,me=E,J++,$=on(),$===e&&($=W()),J--,$===e?me=void 0:(E=me,me=e),me!==e?(r.length>E?($=r.charAt(E),E++):($=e,J===0&&je(_)),$!==e?(me=[me,$],oe=me):(E=oe,oe=e)):(E=oe,oe=e);return R=r.substring(R,E),pe=W(),pe===e&&(pe=null),oe=_r(),me=on(),me!==e?($=_r(),T=bn(),T===e&&(T=ke()),T!==e?(ne=_r(),ce=Ae(),ce===e&&(ce=bn(),ce===e&&(ce=ke())),ce!==e?g=vr(S,R,pe,oe,$,T,ne,ce):(E=g,g=e)):(E=g,g=e)):(E=g,g=e),g}function ge(){var g,S,R,pe,oe,me;return g=E,S=Fn(),S!==e?(R=_r(),pe=W(),pe===e&&(pe=null),oe=_r(),me=bn(),me!==e?g=lr(R,pe,oe,me):(E=g,g=e)):(E=g,g=e),g}function fr(){var g,S,R,pe,oe,me,$,T,ne,ce,Pe;return g=E,S=q(),S!==e?(R=_r(),pe=jn(),pe!==e?(oe=_r(),me=b(),me!==e?($=_r(),T=E,ne=Ir(),ne!==e?(ce=_r(),Pe=b(),Pe!==e?T=yr(R,oe,me,$,ce,Pe):(E=T,T=e)):(E=T,T=e),T===e&&(T=null),ne=_r(),ce=q(),ce!==e?g=Je(R,oe,me,$,T,ne):(E=g,g=e)):(E=g,g=e)):(E=g,g=e)):(E=g,g=e),g}function We(){var g,S,R;return g=E,S=$n(),S!==e?(R=Xr(),R!==e?g=kr():(E=g,g=e)):(E=g,g=e),g===e&&(g=E,S=Xr(),S!==e?(R=$n(),R!==e?g=Rr():(E=g,g=e)):(E=g,g=e),g===e&&(g=E,S=Xr(),S!==e?(R=Xr(),R!==e?g=Cr():(E=g,g=e)):(E=g,g=e))),g}function b(){var g,S,R,pe,oe,me,$,T;if(g=E,S=E,R=E,pe=en(),pe!==e?(oe=en(),oe===e&&(oe=null),pe=[pe,oe],R=pe):(E=R,R=e),R===e&&(R=null),S=r.substring(S,E),R=tr(),R!==e){for(pe=E,oe=[],me=E,$=E,J++,T=te(),J--,T===e?$=void 0:(E=$,$=e),$!==e?(r.length>E?(T=r.charAt(E),E++):(T=e,J===0&&je(_)),T!==e?($=[$,T],me=$):(E=me,me=e)):(E=me,me=e);me!==e;)oe.push(me),me=E,$=E,J++,T=te(),J--,T===e?$=void 0:(E=$,$=e),$!==e?(r.length>E?(T=r.charAt(E),E++):(T=e,J===0&&je(_)),T!==e?($=[$,T],me=$):(E=me,me=e)):(E=me,me=e);pe=r.substring(pe,E),oe=te(),oe!==e?g=Pr(S,pe):(E=g,g=e)}else E=g,g=e;return g}function W(){var g,S,R,pe,oe,me,$;if(g=E,S=L(),S!==e){for(R=E,pe=[],oe=E,me=E,J++,$=Oe(),J--,$===e?me=void 0:(E=me,me=e),me!==e?(r.length>E?($=r.charAt(E),E++):($=e,J===0&&je(_)),$!==e?(me=[me,$],oe=me):(E=oe,oe=e)):(E=oe,oe=e);oe!==e;)pe.push(oe),oe=E,me=E,J++,$=Oe(),J--,$===e?me=void 0:(E=me,me=e),me!==e?(r.length>E?($=r.charAt(E),E++):($=e,J===0&&je(_)),$!==e?(me=[me,$],oe=me):(E=oe,oe=e)):(E=oe,oe=e);R=r.substring(R,E),pe=Oe(),pe!==e?g=Ar(R):(E=g,g=e)}else E=g,g=e;return g}function q(){var g,S,R;return g=E,S=Sn(),S!==e?(R=Sn(),R!==e?(S=[S,R],g=S):(E=g,g=e)):(E=g,g=e),g}function Se(){var g,S;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e&&(S=fe(S)),g=S,g}function Ne(){var g,S,R;return J++,g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=wr(S),R?R=void 0:R=e,R!==e?g=Ze(S):(E=g,g=e)):(E=g,g=e),J--,g===e&&(S=e,J===0&&je(Y)),g}function xe(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=he(S),R?R=void 0:R=e,R!==e?g=Qe(S):(E=g,g=e)):(E=g,g=e),g}function _r(){var g,S,R,pe,oe;for(J++,g=E,S=[],R=xe();R!==e;)S.push(R),R=xe();for(R=Ne(),R===e&&(R=null),pe=[],oe=xe();oe!==e;)pe.push(oe),oe=xe();return g=cr(R),J--,S=e,J===0&&je(ee),g}function A(){var g,S,R;return J++,g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Sr(S),R?R=void 0:R=e,R!==e?g=nr(S):(E=g,g=e)):(E=g,g=e),J--,g===e&&(S=e,J===0&&je(y)),g}function f(){var g,S,R;return J++,g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=ue(S),R?R=void 0:R=e,R!==e?g=we(S):(E=g,g=e)):(E=g,g=e),J--,g===e&&(S=e,J===0&&je(d)),g}function L(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=B(S),R?R=void 0:R=e,R!==e?g=Mr(S):(E=g,g=e)):(E=g,g=e),g}function Oe(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=hr(S),R?R=void 0:R=e,R!==e?g=dr(S):(E=g,g=e)):(E=g,g=e),g}function tr(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=He(S),R?R=void 0:R=e,R!==e?g=Or(S):(E=g,g=e)):(E=g,g=e),g}function te(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Wr(S),R?R=void 0:R=e,R!==e?g=Hr(S):(E=g,g=e)):(E=g,g=e),g}function en(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Lr(S),R?R=void 0:R=e,R!==e?g=jr(S):(E=g,g=e)):(E=g,g=e),g}function Xr(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=gr(S),R?R=void 0:R=e,R!==e?g=Ur(S):(E=g,g=e)):(E=g,g=e),g}function $n(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Nr(S),R?R=void 0:R=e,R!==e?g=H(S):(E=g,g=e)):(E=g,g=e),g}function Sn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=ie(S),R?R=void 0:R=e,R!==e?g=le(S):(E=g,g=e)):(E=g,g=e),g}function jn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Be(S),R?R=void 0:R=e,R!==e?g=er(S):(E=g,g=e)):(E=g,g=e),g}function Ir(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=re(S),R?R=void 0:R=e,R!==e?g=Dr(S):(E=g,g=e)):(E=g,g=e),g}function Fn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Er(S),R?R=void 0:R=e,R!==e?g=G(S):(E=g,g=e)):(E=g,g=e),g}function bn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=N(S),R?R=void 0:R=e,R!==e?g=O(S):(E=g,g=e)):(E=g,g=e),g}function ke(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=ir(S),R?R=void 0:R=e,R!==e?g=V(S):(E=g,g=e)):(E=g,g=e),g}function An(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=_e(S),R?R=void 0:R=e,R!==e?g=Ge(S):(E=g,g=e)):(E=g,g=e),g}function wn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Fe(S),R?R=void 0:R=e,R!==e?g=ae(S):(E=g,g=e)):(E=g,g=e),g}function on(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Gr(S),R?R=void 0:R=e,R!==e?g=ar(S):(E=g,g=e)):(E=g,g=e),g}function tn(){var g,S,R;return g=E,r.length>E?(S=r.charAt(E),E++):(S=e,J===0&&je(_)),S!==e?(R=Yr(S),R?R=void 0:R=e,R!==e?g=pr(S):(E=g,g=e)):(E=g,g=e),g}if(!a.isWhitespace)try{Object.assign(a,{isChar:(g,S)=>g.type==="string"&&g.content===S,isOperation:g=>g.type==="string"&&g.content.match(/[a-zA-Z]/),isWhitespace:g=>g.type==="whitespace"||g.type==="parbreak",isSameLineComment:g=>g.type==="comment"&&g.sameline,isOwnLineComment:g=>g.type==="comment"&&!g.sameline,isComment:g=>g.type==="comment",isGroup:g=>g.type==="group",isMacro:(g,S)=>g.type==="macro"&&g.content===S,isAnyMacro:g=>g.type==="macro"})}catch(g){console.warn("Error when initializing parser",g)}if(Ie=k(),Ie!==e&&E===r.length)return Ie;throw Ie!==e&&E<r.length&&je(qe()),sr(U,F<r.length?r.charAt(F):null,F<r.length?rr(F,F+1):rr(F,F))}return{SyntaxError:t,parse:l}}(),oi=Sl;var Ja=Fl;var li={};function yn(n=""){return li[n]=li[n]||Ja.parse(n),li[n]}var df=Zt(pi(),1),vf=Zt(pi(),1);function Vn(n,t,s){let{startIndex:l,onlySkipWhitespaceAndComments:r,allowSubstringMatches:a}=s||{};typeof t=="string"&&(t={type:"string",content:t});for(let e=l||0;e<n.length;e++){let p=n[e];if(p.type===t.type)switch(p.type){case"comment":case"displaymath":case"inlinemath":case"root":case"parbreak":case"whitespace":case"verb":case"verbatim":case"group":return e;case"macro":if(p.content===t.content)return e;break;case"environment":case"mathenv":if(vn(p.env)===vn(t.env))return e;break;case"string":if(p.content===t.content||a&&p.content.indexOf(t.content)>=0)return e;break}if(r&&!$e.whitespace(p)&&!$e.comment(p))return null}return null}function un(n,t,s=0){if(typeof t=="string"||!t.type)throw new Error(`argSpec must be an already-parsed argument specification, not "${JSON.stringify(t)}"`);let l=null,r=s,a=t.noLeadingWhitespace?()=>{}:()=>{for(;r<n.length&&$e.whitespace(n[r]);)r++},e=t.openBrace||"",p=t.closeBrace||"",h=(t.type==="mandatory"||t.type==="optional")&&e==="{"&&p==="}";a();let k=n[r];if(k==null||$e.comment(k)||$e.parbreak(k))return{argument:l,nodesRemoved:0};switch(t.type){case"mandatory":if(h){let ee=[k];$e.group(k)&&(ee=k.content),l=qr(ee,{openMark:e,closeMark:p}),r++;break}else{let ee=lt(n,r,e,p);if(ee){l=qr(n.slice(ee[0]+1,ee[1]),{openMark:e,closeMark:p}),r=ee[1]+1;break}}case"optional":if(h&&$e.group(k)){l=qr(k.content,{openMark:e,closeMark:p}),r++;break}let Y=lt(n,r,e,p);if(Y){l=qr(n.slice(Y[0]+1,Y[1]),{openMark:e,closeMark:p}),r=Y[1]+1;break}break;case"optionalStar":case"optionalToken":{let ee=lt(n,r,t.type==="optionalStar"?"*":t.token);ee&&(l=qr(k,{openMark:"",closeMark:""}),r=ee[0]+1);break}case"until":{if(t.stopTokens.length>1){console.warn('"until" matches with multi-token stop conditions are not yet implemented');break}let ee=t.stopTokens[0],d=lt(n,s,void 0,ee===" "?{type:"whitespace"}:ee);if(!d)break;l=qr(n.slice(s,d[1]),{openMark:"",closeMark:ee}),r=d[1],r<n.length&&r++;break}case"embellishment":{for(let ee of t.embellishmentTokens){let y=lt(n,r,ee);if(!y)continue;let d=n[y[0]+1];l=qr($e.group(d)?d.content:d,{openMark:ee,closeMark:""}),r=y[1]+1;break}break}default:console.warn(`Don't know how to find an argument of argspec type "${t.type}"`)}let _=l?r-s:0;return n.splice(s,_),{argument:l,nodesRemoved:_}}function Rt(n,t){return Object.assign({},n,{content:t})}function lt(n,t,s,l){let r=n[t],a=t,e=t;if(s){if(!$e.anyString(r)||!r.content.startsWith(s))return;if(a=t,r.content.length>s.length){let k=r.content;r.content=s,n.splice(a+1,0,Rt(r,k.slice(s.length)))}e=a+1}if(!l){let h=n[e];if(!h)return;if($e.anyString(h)&&h.content.length>1){let k=h.content;h.content=k[0],n.splice(e+1,0,Rt(h,k.slice(1)))}return[a,e]}if(e=Vn(n,l,{startIndex:e,allowSubstringMatches:!0}),e===null)return;let p=n[e];if($e.anyString(p)&&typeof l=="string"){let h=p.content,k=h.indexOf(l);if(h.length>l.length){p.content=l;let _=h.slice(0,k),Y=h.slice(k+l.length);_&&(n.splice(e,0,Rt(p,_)),e++),Y&&n.splice(e+1,0,Rt(p,Y))}}return[a,e]}function Kn(n,t,s=0){if(typeof t=="function")return t(n,s);typeof t=="string"&&(t=yn(t));let l=[],r=0;for(let a of t)if(a.type==="embellishment"){let e=new Set(a.embellishmentTokens),p=Object.fromEntries(a.embellishmentTokens.map((_,Y)=>{var ee;let y="defaultArg"in a?(ee=a.defaultArg)==null?void 0:ee[Y]:void 0;return[_,vs(y)]})),{argument:h,nodesRemoved:k}=un(n,ds(e),s);for(;h;){let _=h.openMark;e.delete(_),p[_]=h,r+=k;let Y=ds(e);({argument:h,nodesRemoved:k}=un(n,Y,s))}l.push(...a.embellishmentTokens.map(_=>p[_]))}else{let{argument:e,nodesRemoved:p}=un(n,a,s),h="defaultArg"in a?a.defaultArg:void 0;l.push(e||vs(h)),r+=p}return{args:l,nodesRemoved:r}}function ds(n){return{type:"embellishment",embellishmentTokens:[...n]}}function vs(n){let t=qr([],{openMark:"",closeMark:""});return n!=null&&zn(t,{defaultArg:n}),t}function Yn(n,t){let s,l=$e.createMacroMatcher(t);function r(){for(;s>=0&&!l(n[s]);)s--}for(s=n.length-1;s>=0;){if(r(),s<0)return;let a=s,e=n[a],p=e.content,h=t[p];zn(e,h.renderInfo);let k=h.argumentParser||h.signature;if(k==null){s--;continue}if(e.args!=null){s=a-1;continue}s++;let{args:_}=Kn(n,k,s);e.args=_,s=a-1}}var ys=function(t){return s=>{let{macros:l={}}=t||{};Object.keys(l).length===0&&console.warn("Attempting to attach macro arguments but no macros are specified."),sn(s,r=>{Yn(r,l)},{includeArrays:!0,test:Array.isArray})}};var yf=yn("m")[0],$f=yn("o")[0],mi={},bf=(n,t)=>{let{argument:s,nodesRemoved:l}=un(n,$f,t),r=null,a=0,e=n[t];if($e.group(e)){let p=un(n,yf,t);r=p.argument,a=p.nodesRemoved}else if($e.string(e)&&e.content.length===1){let p=e.content;mi[p]=mi[p]||yn(`r${p}${p}`)[0];let h=un(n,mi[p],t);r=h.argument,a=h.nodesRemoved}return{args:[s||qr(null),r||qr(null)],nodesRemoved:l+a}},$s={lstset:{signature:"m"},lstinline:{argumentParser:bf},lstinputlisting:{signature:"o m"},lstdefinestyle:{signature:"m m"},lstnewenvironment:{signature:"m o o m m"},lstMakeShortInline:{signature:"o m"},lstDeleteShortInline:{signature:"m"},lstdefineformat:{signature:"m m"},lstdefinelanguage:{signature:"o m o m o"},lstalias:{signature:"o m o m"},lstloadlanguages:{signature:"m"}},bs={};var As={see:{signature:"m m"},seealso:{signature:"m m"},seename:{signature:"m"},alsoname:{signature:"m"},index:{signature:"m"}},xs={};var ws={mathtoolsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},mathllap:{signature:"o m"},mathrlap:{signature:"o m"},mathclap:{signature:"o m"},clap:{signature:"m"},mathmbox:{signature:"m"},mathmakebox:{signature:"o o m"},cramped:{signature:"o m"},crampedllap:{signature:"o m"},crampedrlap:{signature:"o m"},crampedclap:{signature:"o m"},crampedsubstack:{signature:"o m"},smashoperator:{signature:"o m"},newtagform:{signature:"m o m m"},renewtagform:{signature:"m o m m"},usetagform:{signature:"m"},xleftrightarrow:{signature:"o m"},xLeftarrow:{signature:"o m"},xhookleftarrow:{signature:"o m"},xmapsto:{signature:"o m"},xRightarrow:{signature:"o m"},xLeftrightarrow:{signature:"o m"},xhookrightarrow:{signature:"o m"},underbracket:{signature:"o o m"},overbracket:{signature:"o o m"},underbrace:{signature:"m"},overbrace:{signature:"m"},shoveleft:{signature:"o m"},shoveright:{signature:"o m"},ArrowBetweenLines:{signature:"s o"},vdotswithin:{signature:"m"},shortdotswithin:{signature:"s m"},DeclarePairedDelimiter:{signature:"m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterX:{signature:"m o m m m",renderInfo:{breakAround:!0}},DeclarePairedDelimiterXPP:{signature:"m o m m m m m",renderInfo:{breakAround:!0}},prescript:{signature:"m m m"},DeclareMathSizes:{signature:"m m m m"},newgathered:{signature:"m m m m"},renewgathered:{signature:"m m m m"},splitfrac:{signature:"m m"},splitdfrac:{signature:"m m"},xmathstrut:{signature:"o m"},newtheorem:{signature:"s m o m o",renderInfo:{breakAround:!0}},theoremstyle:{signature:"m",renderInfo:{breakAround:!0}},newtheoremstyle:{signature:"m m m m m m m m m",renderInfo:{breakAround:!0}},text:{signature:"m",renderInfo:{inMathMode:!1}},mathbb:{signature:"m"},mathscr:{signature:"m"},mathfrak:{signature:"m"},frak:{signature:"m"},Bdd:{signature:"m"},bold:{signature:"m"},operatorname:{signature:"s m"},DeclareMathOperator:{signature:"s m m",renderInfo:{breakAround:!0}}},ks={crampedsubarray:{signature:"m",renderInfo:{alignContent:!0,inMathMode:!0}},matrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},pmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},smallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},psmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Bsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},Vsmallmatrix:{renderInfo:{alignContent:!0,inMathMode:!0}},"matrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"pmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"smallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"psmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Bsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},"Vsmallmatrix*":{signature:"o",renderInfo:{alignContent:!0,inMathMode:!0}},multilined:{signature:"o o",renderInfo:{inMathMode:!0}},cases:{renderInfo:{alignContent:!0,inMathMode:!0}},"cases*":{renderInfo:{alignContent:!0,inMathMode:!0}},dcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"dcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},rcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"rcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},drcases:{renderInfo:{alignContent:!0,inMathMode:!0}},"drcases*":{renderInfo:{alignContent:!0,inMathMode:!0}},spreadlines:{signature:"m",renderInfo:{inMathMode:!0}},lgathered:{signature:"o",renderInfo:{inMathMode:!0}},rgathered:{signature:"o",renderInfo:{inMathMode:!0}},"align*":{renderInfo:{inMathMode:!0,alignContent:!0}},align:{renderInfo:{inMathMode:!0,alignContent:!0}},aligned:{renderInfo:{inMathMode:!0,alignContent:!0}},"alignat*":{renderInfo:{inMathMode:!0,alignContent:!0}},alignat:{renderInfo:{inMathMode:!0,alignContent:!0}},"equation*":{renderInfo:{inMathMode:!0}},equation:{renderInfo:{inMathMode:!0}},"gather*":{renderInfo:{inMathMode:!0}},gather:{renderInfo:{inMathMode:!0}},"multline*":{renderInfo:{inMathMode:!0}},multline:{renderInfo:{inMathMode:!0}},"flalign*":{renderInfo:{inMathMode:!0,alignContent:!0}},flalign:{renderInfo:{inMathMode:!0,alignContent:!0}},split:{renderInfo:{inMathMode:!0}},displaymath:{renderInfo:{inMathMode:!0}},theorem:{signature:"o"},lemma:{signature:"o"},definition:{signature:"o"},proposition:{signature:"o"},corollary:{signature:"o"},remark:{signature:"!o"},example:{signature:"!o"},proof:{signature:"o"}};var Cs=yn("m")[0],Af=yn("o")[0],hi={},di=(n,t)=>{let{argument:s,nodesRemoved:l}=un(n,Af,t),{argument:r,nodesRemoved:a}=un(n,Cs,t),e=null,p=0,h=n[t];if($e.group(h)){let k=un(n,Cs,t);e=k.argument,p=k.nodesRemoved}else if($e.string(h)&&h.content.length===1){let k=h.content;hi[k]=hi[k]||yn(`r${k}${k}`)[0];let _=un(n,hi[k],t);e=_.argument,p=_.nodesRemoved}return{args:[s||qr(null),r||qr(null),e||qr(null)],nodesRemoved:l+a+p}},Ms={mint:{argumentParser:di},mintinline:{argumentParser:di},inputminted:{argumentParser:di},usemintedstyle:{signature:"m"},setminted:{signature:"o m"},setmintedinline:{signature:"o m"},newmint:{signature:"o m m"},newminted:{signature:"o m m"},newmintinline:{signature:"o m m"},newmintedfile:{signature:"o m m"}},Es={minted:{signature:"o m"}};var _s={NiceMatrixOptions:{signature:"m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}}},Is={NiceTabular:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrixBlock:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArrayWithDelims:{signature:"m m o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceArray:{signature:"o m !o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},NiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},pNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},bNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},BNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},vNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}},VNiceMatrix:{signature:"!o",renderInfo:{pgfkeysArgs:!0,alignContent:!0}}};var Ps={systeme:{signature:"s o o m",renderInfo:{inMathMode:!0}},sysdelim:{signature:"m m"},syseqsep:{signature:"m"},sysalign:{signature:"m"},syssignspace:{signature:"m"},syseqspace:{signature:"m"},syslineskipcoeff:{signature:"m"},syseqivsign:{signature:"m"},sysaddeqsign:{signature:"m"},sysremoveeqsign:{signature:"m"},sysextracolonsign:{signature:"m"},syscodeextracol:{signature:"m"},sysautonum:{signature:"m"},syssubstitute:{signature:"m"}},Ss={};(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var rg=typeof globalThis.structuredClone=="function"?globalThis.structuredClone:n=>JSON.parse(JSON.stringify(n));var xf=yn("o")[0];function Ot(){return qr([],{openMark:"",closeMark:""})}var Fs=(n,t)=>{let s=t,l=t,r=0,a=wf(n,l),e=Ot();if(a!==l){let ee=n.splice(l,a-l);En(ee),e=qr(ee,{openMark:" ",closeMark:" "})}r+=a-l;let{argument:p,nodesRemoved:h}=un(n,xf,l);r+=h;let k=p||Ot();for(;$e.whitespace(n[l]);)l++;let _=n[l];if(!_)return{args:[e,k,Ot()],nodesRemoved:0};if($e.group(_)){let ee=[e,k,qr(_.content)];return n.splice(s,l-s+1),{args:ee,nodesRemoved:l-s+1+r}}let Y=Vn(n,";",{startIndex:l});if(Y!=null){let ee=n.splice(s,Y-s+1);return En(ee),{args:[e,k,qr(ee)],nodesRemoved:s-Y+1+r}}return{args:[e,k,Ot()],nodesRemoved:0}};function wf(n,t){let s=Vn(n,":",{startIndex:t,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(!s)return t;let l=t,r=s+1;for(;r<n.length;r++){let a=n[r];if($e.string(a,"["))break;if($e.string(a,"=")){for(r++;$e.whitespace(n[r])||$e.comment(n[r]);)r++;if(!$e.group(n[r]))break;l=r+1;let e=Vn(n,":",{startIndex:l,allowSubstringMatches:!0,onlySkipWhitespaceAndComments:!0});if(e==null)break;r=e+1}}return l}var Rs={pgfkeys:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzoption:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikzstyle:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usetikzlibrary:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},usepgfmodule:{signature:"m",renderInfo:{pgfkeysArgs:!0}},usepgflibrary:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfplotsset:{signature:"m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},pgfplotstabletypeset:{signature:"o m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},tikz:{signature:"o o m",argumentParser:Fs,renderInfo:{namedArguments:["animation","options","command"]}}},Os={tikzpicture:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},axis:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},scope:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},pgfonlayer:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgflowlevelscope:{signature:"m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgfviewboxscope:{signature:"m m m m m",renderInfo:{tikzEnvironment:!0},processContent:Pn},pgftransparencygroup:{signature:"o",renderInfo:{pgfkeysArgs:!0,tikzEnvironment:!0},processContent:Pn},behindforegroundpath:{signature:"m",processContent:Pn},pgfmetadecoration:{signature:"m",processContent:Pn},colormixin:{signature:"m",renderInfo:{pgfkeysArgs:!0}}};function Pn(n){return Yn(n,kf),n}var kf={pgfextra:{signature:"m"},beginpgfgraphicnamed:{signature:"m"},pgfrealjobname:{signature:"m"},pgfplotstreampoint:{signature:"m"},pgfplotstreampointoutlier:{signature:"m"},pgfplotstreamspecial:{signature:"m"},pgfplotxyfile:{signature:"m"},pgfplotxyzfile:{signature:"m"},pgfplotfunction:{signature:"mmm"},pgfplotgnuplot:{signature:"o m"},pgfplothandlerrecord:{signature:"m"},pgfdeclareplothandler:{signature:"m m m"},pgfdeclarelayer:{signature:"m"},pgfsetlayers:{signature:"m",renderInfo:{pgfkeysArgs:!0}},pgfonlayer:{signature:"m"},startpgfonlayer:{signature:"m"},pgfdeclarehorizontalshading:{signature:"o m m m "},pgfdeclareradialshading:{signature:"o m m m"},pgfdeclarefunctionalshading:{signature:"o m m m m m"},pgfshadecolortorgb:{signature:"m m"},pgfshadecolortocmyk:{signature:"m m"},pgfshadecolortogray:{signature:"m m"},pgfuseshading:{signature:"m"},pgfshadepath:{signature:"m m"},pgfsetadditionalshadetransform:{signature:"m"},pgfsetstrokeopacity:{signature:"m"},pgfsetfillopacity:{signature:"m"},pgfsetblendmode:{signature:"m"},pgfdeclarefading:{signature:"m m"},pgfsetfading:{signature:"m m"},pgfsetfadingforcurrentpath:{signature:"m m"},pgfsetfadingforcurrentpathstroked:{signature:"m m"},pgfanimateattribute:{signature:"m m"},pgfsnapshot:{signature:"m"},pgfqpoint:{signature:"m m"},pgfqpointxy:{signature:"m m"},pgfqpointxyz:{signature:"m m m"},pgfqpointscale:{signature:"m m"},pgfpathqmoveto:{signature:"m m"},pgfpathqlineto:{signature:"m m"},pgfpathqcurveto:{signature:"m m m m m m"},pgfpathqcircle:{signature:"m"},pgfqbox:{signature:"m"},pgfqboxsynced:{signature:"m"},pgfaliasimage:{signature:"m m"},pgfuseimage:{signature:"m"},pgfimage:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfdeclaremask:{signature:"o m m",renderInfo:{pgfkeysArgs:!0}},pgfdeclarepatternformonly:{signature:"o m m m m m"},pgfdeclarepatterninherentlycolored:{signature:"o m m m m m"},pgfsetfillpattern:{signature:"m m"},pgftransformshift:{signature:"m"},pgftransformxshift:{signature:"m"},pgftransformyshift:{signature:"m"},pgftransformscale:{signature:"m"},pgftransformxscale:{signature:"m"},pgftransformyscale:{signature:"m"},pgftransformxslant:{signature:"m"},pgftransformyslant:{signature:"m"},pgftransformrotate:{signature:"m"},pgftransformtriangle:{signature:"m m m"},pgftransformcm:{signature:"m m m m m"},pgftransformarrow:{signature:"m m"},pgftransformlineattime:{signature:"m m m"},pgftransformcurveattime:{signature:"m m m m m"},pgftransformarcaxesattime:{signature:"m m m m m m"},pgfgettransform:{signature:"m"},pgfsettransform:{signature:"m"},pgfgettransformentries:{signature:"m m m m m m"},pgfsettransformentries:{signature:"m m m m m m"},pgfpointtransformed:{signature:"m"},pgflowlevel:{signature:"m"},pgflowlevelobj:{signature:"m m"},pgflowlevelscope:{signature:"m"},startpgflowlevelscope:{signature:"m"},pgfviewboxscope:{signature:"m m m m m"},startpgfviewboxscope:{signature:"m m m m m"},pgftransformnonlinear:{signature:"m"},pgfpointtransformednonlinear:{signature:"m"},pgfsetcurvilinearbeziercurve:{signature:"m m m m"},pgfcurvilineardistancetotime:{signature:"m"},pgfpointcurvilinearbezierorthogonal:{signature:"m m"},pgfpointcurvilinearbezierpolar:{signature:"m m"},pgfmatrix:{signature:"m m m m m m m"},pgfsetmatrixcolumnsep:{signature:"m"},pgfmatrixnextcell:{signature:"o"},pgfsetmatrixrowsep:{signature:"m"},pgfmatrixendrow:{signature:"o"},pgfnode:{signature:"m m m m m"},pgfmultipartnode:{signature:"m m m m"},pgfcoordinate:{signature:"m m"},pgfnodealias:{signature:"m m"},pgfnoderename:{signature:"m m"},pgfpositionnodelater:{signature:"m"},pgfpositionnodenow:{signature:"m"},pgfnodepostsetupcode:{signature:"m m"},pgfpointanchor:{signature:"m m"},pgfpointshapeborder:{signature:"m m"},pgfdeclareshape:{signature:"m m"},saveddimen:{signature:"m m"},savedmacro:{signature:" m"},anchor:{signature:"m m"},deferredanchor:{signature:"m m"},anchorborder:{signature:"m"},backgroundpath:{signature:"m"},foregroundpath:{signature:"m"},behindbackgroundpath:{signature:"m"},beforebackgroundpath:{signature:"m"},beforeforegroundpath:{signature:"m"},behindforegroundpath:{signature:"m"},pgfdeclarearrow:{signature:"m"},pgfarrowssettipend:{signature:"m"},pgfarrowssetbackend:{signature:"m"},pgfarrowssetlineend:{signature:"m"},pgfarrowssetvisualbackend:{signature:"m"},pgfarrowssetvisualtipend:{signature:"m"},pgfarrowshullpoint:{signature:"m m"},pgfarrowsupperhullpoint:{signature:"m m"},pgfarrowssave:{signature:"m"},pgfarrowssavethe:{signature:"m"},pgfarrowsaddtooptions:{signature:"m"},pgfarrowsaddtolateoptions:{signature:"m"},pgfarrowsaddtolengthscalelist:{signature:"m"},pgfarrowsaddtowidthscalelist:{signature:"m"},pgfarrowsthreeparameters:{signature:"m"},pgfarrowslinewidthdependent:{signature:"m m m"},pgfarrowslengthdependent:{signature:"m"},pgfusepath:{signature:"m"},pgfsetlinewidth:{signature:"m"},pgfsetmiterlimit:{signature:"m"},pgfsetdash:{signature:"m m"},pgfsetstrokecolor:{signature:"m"},pgfsetcolor:{signature:"m"},pgfsetinnerlinewidth:{signature:"m"},pgfsetinnerstrokecolor:{signature:"m"},pgfsetarrowsstart:{signature:"m"},pgfsetarrowsend:{signature:"m"},pgfsetarrows:{signature:"m"},pgfsetshortenstart:{signature:"m"},pgfsetshortenend:{signature:"m"},pgfsetfillcolor:{signature:"m"},pgfdeclaredecoration:{signature:"m m m"},state:{signature:"m o m"},pgfdecoratepath:{signature:"m m"},startpgfdecoration:{signature:"m"},pgfdecoration:{signature:"m"},pgfdecoratecurrentpath:{signature:"m"},pgfsetdecorationsegmenttransformation:{signature:"m"},pgfdeclaremetadecorate:{signature:"m m m"},pgfmetadecoration:{signature:"m"},startpgfmetadecoration:{signature:"m"},pgfpathmoveto:{signature:"m"},pgfpathlineto:{signature:"m"},pgfpathcurveto:{signature:"m m m"},pgfpathquadraticcurveto:{signature:"m m"},pgfpathcurvebetweentime:{signature:"m m m m m m"},pgfpathcurvebetweentimecontinue:{signature:"m m m m m m"},pgfpatharc:{signature:"m m m"},pgfpatharcaxes:{signature:"m m m m"},pgfpatharcto:{signature:"m m m m m m"},pgfpatharctoprecomputed:{signature:"m m m m m m m m"},pgfpathellipse:{signature:"m m m"},pgfpathcircle:{signature:"m m"},pgfpathrectangle:{signature:"m m"},pgfpathrectanglecorners:{signature:"m m"},pgfpathgrid:{signature:" o m m"},pgfpathparabola:{signature:"m m"},pgfpathsine:{signature:"m"},pgfpathcosine:{signature:"m"},pgfsetcornersarced:{signature:"m"},"pgf@protocolsizes":{signature:"m m"},pgfpoint:{signature:"m m"},pgfpointpolar:{signature:"m m m"},pgfpointxy:{signature:"m m"},pgfsetxvec:{signature:"m"},pgfsetyvec:{signature:"m"},pgfpointpolarxy:{signature:"m m"},pgfpointxyz:{signature:"m m m"},pgfsetzvec:{signature:"m"},pgfpointcylindrical:{signature:"m m m"},pgfpointspherical:{signature:"m m m"},pgfpointadd:{signature:"m m"},pgfpointscale:{signature:"m m"},pgfpointdiff:{signature:"m m"},pgfpointnormalised:{signature:"m"},pgfpointlineattime:{signature:"m m m"},pgfpointlineatdistance:{signature:"m m m"},pgfpointarcaxesattime:{signature:"m m m m m m"},pgfpointcurveattime:{signature:"m m m m m"},pgfpointborderrectangle:{signature:"m m"},pgfpointborderellipse:{signature:"m m"},pgfpointintersectionoflines:{signature:"m m m m"},pgfpointintersectionofcircles:{signature:"m m m m m"},pgfintersectionofpaths:{signature:"m m"},pgfpointintersectionsolution:{signature:"m"},pgfextractx:{signature:"m m"},pgfextracty:{signature:"m m"},pgfgetlastxy:{signature:"m m"},"pgf@process":{signature:"m"},pgfsetbaseline:{signature:"m"},pgfsetbaselinepointnow:{signature:"m"},pgfsetbaselinepointlater:{signature:"m"},pgftext:{signature:"o m",renderInfo:{pgfkeysArgs:!0}},pgfuseid:{signature:"m"},pgfusetype:{signature:"m"},pgfidrefnextuse:{signature:"m m"},pgfidrefprevuse:{signature:"m m"},pgfaliasid:{signature:"m m"},pgfgaliasid:{signature:"m m"},pgfifidreferenced:{signature:"m m m"},pgfrdfabout:{signature:"m"},pgfrdfcontent:{signature:"m"},pgfrdfdatatype:{signature:"m"},pgfrdfhref:{signature:"m"},pgfrdfprefix:{signature:"m"},pgfrdfproperty:{signature:"m"},pgfrdfrel:{signature:"m"},pgfrdfresource:{signature:"m"},pgfrdfrev:{signature:"m"},pgfrdfsrc:{signature:"m"},pgfrdftypeof:{signature:"m"},pgfrdfvocab:{signature:"m"},pgferror:{signature:"m"},pgfwarning:{signature:"m"},path:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},draw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},fill:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},filldraw:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},pattern:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},shade:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},clip:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},useasboundingbox:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},node:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},coordinate:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},graph:{signature:"u;",renderInfo:{breakAround:!0,tikzPathCommand:!0}},scoped:{signature:"o o m",argumentParser:Fs,renderInfo:{namedArguments:["animation","options","command"],breakAround:!0}}};function Cf(){return{isChar:$e.string,isTerminal:n=>$e.string(n,";"),isOperation:n=>$e.anyString(n)&&n.content.match(/[a-zA-Z]/),isWhitespace:n=>$e.whitespace(n)||$e.parbreak(n),isComment:$e.comment,isGroup:$e.group,isMacro:$e.macro,isAnyMacro:$e.anyMacro}}var dg=Cf();var Ce=Zt(Gs(),1);var zs={substitutecolormodel:{signature:"m m",renderInfo:{breakAround:!0}},selectcolormodel:{signature:"m",renderInfo:{breakAround:!0}},definecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},colorlet:{signature:"o m o m",renderInfo:{breakAround:!0}},definecolorset:{signature:"o m m m",renderInfo:{breakAround:!0}},providecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},preparecolor:{signature:"o m m m",renderInfo:{breakAround:!0}},preparecolorset:{signature:"o m m m m",renderInfo:{breakAround:!0}},DefineNamedColor:{signature:"m m m m",renderInfo:{breakAround:!0}},definecolors:{signature:"m",renderInfo:{breakAround:!0}},providecolors:{signature:"m",renderInfo:{breakAround:!0}},color:{signature:"o m",renderInfo:{breakAround:!0}},textcolor:{signature:"o m m",renderInfo:{inParMode:!0}},pagecolor:{signature:"o m"},colorbox:{signature:"o m m"},fcolorbox:{signature:"o m o m m"},boxframe:{signature:"o m"},testcolor:{signature:"o m"},blendcolors:{signature:"s m"},maskcolors:{signature:"o m"},definecolorseries:{signature:"m m m o m o m",renderInfo:{breakAround:!0}},resetcolorseries:{signature:"o m",renderInfo:{breakAround:!0}},rowcolors:{signature:"s o m m m"},extractcolorspec:{signature:"m m"},extractcolorspecs:{signature:"m m m"},convertcolorspec:{signature:"m m m m"}},Hs={testcolors:{signature:"o",renderInfo:{pgfkeysArgs:!0}}},c=([n,t,s])=>(0,Ce.default)([n*255,t*255,s*255],"rgb"),Lf={Apricot:(0,Ce.default)("#FBB982"),Aquamarine:(0,Ce.default)("#00B5BE"),Bittersweet:(0,Ce.default)("#C04F17"),Black:(0,Ce.default)("#221E1F"),Blue:(0,Ce.default)("#2D2F92"),BlueGreen:(0,Ce.default)("#00B3B8"),BlueViolet:(0,Ce.default)("#473992"),BrickRed:(0,Ce.default)("#B6321C"),Brown:(0,Ce.default)("#792500"),BurntOrange:(0,Ce.default)("#F7921D"),CadetBlue:(0,Ce.default)("#74729A"),CarnationPink:(0,Ce.default)("#F282B4"),Cerulean:(0,Ce.default)("#00A2E3"),CornflowerBlue:(0,Ce.default)("#41B0E4"),Cyan:(0,Ce.default)("#00AEEF"),Dandelion:(0,Ce.default)("#FDBC42"),DarkOrchid:(0,Ce.default)("#A4538A"),Emerald:(0,Ce.default)("#00A99D"),ForestGreen:(0,Ce.default)("#009B55"),Fuchsia:(0,Ce.default)("#8C368C"),Goldenrod:(0,Ce.default)("#FFDF42"),Gray:(0,Ce.default)("#949698"),Green:(0,Ce.default)("#00A64F"),GreenYellow:(0,Ce.default)("#DFE674"),JungleGreen:(0,Ce.default)("#00A99A"),Lavender:(0,Ce.default)("#F49EC4"),LimeGreen:(0,Ce.default)("#8DC73E"),Magenta:(0,Ce.default)("#EC008C"),Mahogany:(0,Ce.default)("#A9341F"),Maroon:(0,Ce.default)("#AF3235"),Melon:(0,Ce.default)("#F89E7B"),MidnightBlue:(0,Ce.default)("#006795"),Mulberry:(0,Ce.default)("#A93C93"),NavyBlue:(0,Ce.default)("#006EB8"),OliveGreen:(0,Ce.default)("#3C8031"),Orange:(0,Ce.default)("#F58137"),OrangeRed:(0,Ce.default)("#ED135A"),Orchid:(0,Ce.default)("#AF72B0"),Peach:(0,Ce.default)("#F7965A"),Periwinkle:(0,Ce.default)("#7977B8"),PineGreen:(0,Ce.default)("#008B72"),Plum:(0,Ce.default)("#92268F"),ProcessBlue:(0,Ce.default)("#00B0F0"),Purple:(0,Ce.default)("#99479B"),RawSienna:(0,Ce.default)("#974006"),Red:(0,Ce.default)("#ED1B23"),RedOrange:(0,Ce.default)("#F26035"),RedViolet:(0,Ce.default)("#A1246B"),Rhodamine:(0,Ce.default)("#EF559F"),RoyalBlue:(0,Ce.default)("#0071BC"),RoyalPurple:(0,Ce.default)("#613F99"),RubineRed:(0,Ce.default)("#ED017D"),Salmon:(0,Ce.default)("#F69289"),SeaGreen:(0,Ce.default)("#3FBC9D"),Sepia:(0,Ce.default)("#671800"),SkyBlue:(0,Ce.default)("#46C5DD"),SpringGreen:(0,Ce.default)("#C6DC67"),Tan:(0,Ce.default)("#DA9D76"),TealBlue:(0,Ce.default)("#00AEB3"),Thistle:(0,Ce.default)("#D883B7"),Turquoise:(0,Ce.default)("#00B4CE"),Violet:(0,Ce.default)("#58429B"),VioletRed:(0,Ce.default)("#EF58A0"),White:(0,Ce.default)("#FFFFFF"),WildStrawberry:(0,Ce.default)("#EE2967"),Yellow:(0,Ce.default)("#FFF200"),YellowGreen:(0,Ce.default)("#98CC70"),YellowOrange:(0,Ce.default)("#FAA21A")},Nf={AliceBlue:c([.94,.972,1]),AntiqueWhite:c([.98,.92,.844]),Aqua:c([0,1,1]),Aquamarine:c([.498,1,.83]),Azure:c([.94,1,1]),Beige:c([.96,.96,.864]),Bisque:c([1,.894,.77]),Black:c([0,0,0]),BlanchedAlmond:c([1,.92,.804]),Blue:c([0,0,1]),BlueViolet:c([.54,.17,.888]),Brown:c([.648,.165,.165]),BurlyWood:c([.87,.72,.53]),CadetBlue:c([.372,.62,.628]),Chartreuse:c([.498,1,0]),Chocolate:c([.824,.41,.116]),Coral:c([1,.498,.312]),CornflowerBlue:c([.392,.585,.93]),Cornsilk:c([1,.972,.864]),Crimson:c([.864,.08,.235]),Cyan:c([0,1,1]),DarkBlue:c([0,0,.545]),DarkCyan:c([0,.545,.545]),DarkGoldenrod:c([.72,.525,.044]),DarkGray:c([.664,.664,.664]),DarkGreen:c([0,.392,0]),DarkGrey:c([.664,.664,.664]),DarkKhaki:c([.74,.716,.42]),DarkMagenta:c([.545,0,.545]),DarkOliveGreen:c([.332,.42,.185]),DarkOrange:c([1,.55,0]),DarkOrchid:c([.6,.196,.8]),DarkRed:c([.545,0,0]),DarkSalmon:c([.912,.59,.48]),DarkSeaGreen:c([.56,.736,.56]),DarkSlateBlue:c([.284,.24,.545]),DarkSlateGray:c([.185,.31,.31]),DarkSlateGrey:c([.185,.31,.31]),DarkTurquoise:c([0,.808,.82]),DarkViolet:c([.58,0,.828]),DeepPink:c([1,.08,.576]),DeepSkyBlue:c([0,.75,1]),DimGray:c([.41,.41,.41]),DimGrey:c([.41,.41,.41]),DodgerBlue:c([.116,.565,1]),FireBrick:c([.698,.132,.132]),FloralWhite:c([1,.98,.94]),ForestGreen:c([.132,.545,.132]),Fuchsia:c([1,0,1]),Gainsboro:c([.864,.864,.864]),GhostWhite:c([.972,.972,1]),Gold:c([1,.844,0]),Goldenrod:c([.855,.648,.125]),Gray:c([.5,.5,.5]),Green:c([0,.5,0]),GreenYellow:c([.68,1,.185]),Grey:c([.5,.5,.5]),Honeydew:c([.94,1,.94]),HotPink:c([1,.41,.705]),IndianRed:c([.804,.36,.36]),Indigo:c([.294,0,.51]),Ivory:c([1,1,.94]),Khaki:c([.94,.9,.55]),Lavender:c([.9,.9,.98]),LavenderBlush:c([1,.94,.96]),LawnGreen:c([.488,.99,0]),LemonChiffon:c([1,.98,.804]),LightBlue:c([.68,.848,.9]),LightCoral:c([.94,.5,.5]),LightCyan:c([.88,1,1]),LightGoldenrod:c([.933,.867,.51]),LightGoldenrodYellow:c([.98,.98,.824]),LightGray:c([.828,.828,.828]),LightGreen:c([.565,.932,.565]),LightGrey:c([.828,.828,.828]),LightPink:c([1,.712,.756]),LightSalmon:c([1,.628,.48]),LightSeaGreen:c([.125,.698,.668]),LightSkyBlue:c([.53,.808,.98]),LightSlateBlue:c([.518,.44,1]),LightSlateGray:c([.468,.532,.6]),LightSlateGrey:c([.468,.532,.6]),LightSteelBlue:c([.69,.77,.87]),LightYellow:c([1,1,.88]),Lime:c([0,1,0]),LimeGreen:c([.196,.804,.196]),Linen:c([.98,.94,.9]),Magenta:c([1,0,1]),Maroon:c([.5,0,0]),MediumAquamarine:c([.4,.804,.668]),MediumBlue:c([0,0,.804]),MediumOrchid:c([.73,.332,.828]),MediumPurple:c([.576,.44,.86]),MediumSeaGreen:c([.235,.7,.444]),MediumSlateBlue:c([.484,.408,.932]),MediumSpringGreen:c([0,.98,.604]),MediumTurquoise:c([.284,.82,.8]),MediumVioletRed:c([.78,.084,.52]),MidnightBlue:c([.098,.098,.44]),MintCream:c([.96,1,.98]),MistyRose:c([1,.894,.884]),Moccasin:c([1,.894,.71]),NavajoWhite:c([1,.87,.68]),Navy:c([0,0,.5]),NavyBlue:c([0,0,.5]),OldLace:c([.992,.96,.9]),Olive:c([.5,.5,0]),OliveDrab:c([.42,.556,.136]),Orange:c([1,.648,0]),OrangeRed:c([1,.27,0]),Orchid:c([.855,.44,.84]),PaleGoldenrod:c([.932,.91,.668]),PaleGreen:c([.596,.985,.596]),PaleTurquoise:c([.688,.932,.932]),PaleVioletRed:c([.86,.44,.576]),PapayaWhip:c([1,.936,.835]),PeachPuff:c([1,.855,.725]),Peru:c([.804,.52,.248]),Pink:c([1,.752,.796]),Plum:c([.868,.628,.868]),PowderBlue:c([.69,.88,.9]),Purple:c([.5,0,.5]),Red:c([1,0,0]),RosyBrown:c([.736,.56,.56]),RoyalBlue:c([.255,.41,.884]),SaddleBrown:c([.545,.27,.075]),Salmon:c([.98,.5,.448]),SandyBrown:c([.956,.644,.376]),SeaGreen:c([.18,.545,.34]),Seashell:c([1,.96,.932]),Sienna:c([.628,.32,.176]),Silver:c([.752,.752,.752]),SkyBlue:c([.53,.808,.92]),SlateBlue:c([.415,.352,.804]),SlateGray:c([.44,.5,.565]),SlateGrey:c([.44,.5,.565]),Snow:c([1,.98,.98]),SpringGreen:c([0,1,.498]),SteelBlue:c([.275,.51,.705]),Tan:c([.824,.705,.55]),Teal:c([0,.5,.5]),Thistle:c([.848,.75,.848]),Tomato:c([1,.39,.28]),Turquoise:c([.25,.88,.815]),Violet:c([.932,.51,.932]),VioletRed:c([.816,.125,.565]),Wheat:c([.96,.87,.7]),White:c([1,1,1]),WhiteSmoke:c([.96,.96,.96]),Yellow:c([1,1,0]),YellowGreen:c([.604,.804,.196])},qf={AntiqueWhite1:c([1,.936,.86]),AntiqueWhite2:c([.932,.875,.8]),AntiqueWhite3:c([.804,.752,.69]),AntiqueWhite4:c([.545,.512,.47]),Aquamarine1:c([.498,1,.83]),Aquamarine2:c([.464,.932,.776]),Aquamarine3:c([.4,.804,.668]),Aquamarine4:c([.27,.545,.455]),Azure1:c([.94,1,1]),Azure2:c([.88,.932,.932]),Azure3:c([.756,.804,.804]),Azure4:c([.512,.545,.545]),Bisque1:c([1,.894,.77]),Bisque2:c([.932,.835,.716]),Bisque3:c([.804,.716,.62]),Bisque4:c([.545,.49,.42]),Blue1:c([0,0,1]),Blue2:c([0,0,.932]),Blue3:c([0,0,.804]),Blue4:c([0,0,.545]),Brown1:c([1,.25,.25]),Brown2:c([.932,.23,.23]),Brown3:c([.804,.2,.2]),Brown4:c([.545,.136,.136]),Burlywood1:c([1,.828,.608]),Burlywood2:c([.932,.772,.57]),Burlywood3:c([.804,.668,.49]),Burlywood4:c([.545,.45,.332]),CadetBlue1:c([.596,.96,1]),CadetBlue2:c([.556,.898,.932]),CadetBlue3:c([.48,.772,.804]),CadetBlue4:c([.325,.525,.545]),Chartreuse1:c([.498,1,0]),Chartreuse2:c([.464,.932,0]),Chartreuse3:c([.4,.804,0]),Chartreuse4:c([.27,.545,0]),Chocolate1:c([1,.498,.14]),Chocolate2:c([.932,.464,.13]),Chocolate3:c([.804,.4,.112]),Chocolate4:c([.545,.27,.075]),Coral1:c([1,.448,.336]),Coral2:c([.932,.415,.312]),Coral3:c([.804,.356,.27]),Coral4:c([.545,.244,.185]),Cornsilk1:c([1,.972,.864]),Cornsilk2:c([.932,.91,.804]),Cornsilk3:c([.804,.785,.694]),Cornsilk4:c([.545,.532,.47]),Cyan1:c([0,1,1]),Cyan2:c([0,.932,.932]),Cyan3:c([0,.804,.804]),Cyan4:c([0,.545,.545]),DarkGoldenrod1:c([1,.725,.06]),DarkGoldenrod2:c([.932,.68,.055]),DarkGoldenrod3:c([.804,.585,.048]),DarkGoldenrod4:c([.545,.396,.03]),DarkOliveGreen1:c([.792,1,.44]),DarkOliveGreen2:c([.736,.932,.408]),DarkOliveGreen3:c([.635,.804,.352]),DarkOliveGreen4:c([.43,.545,.24]),DarkOrange1:c([1,.498,0]),DarkOrange2:c([.932,.464,0]),DarkOrange3:c([.804,.4,0]),DarkOrange4:c([.545,.27,0]),DarkOrchid1:c([.75,.244,1]),DarkOrchid2:c([.698,.228,.932]),DarkOrchid3:c([.604,.196,.804]),DarkOrchid4:c([.408,.132,.545]),DarkSeaGreen1:c([.756,1,.756]),DarkSeaGreen2:c([.705,.932,.705]),DarkSeaGreen3:c([.608,.804,.608]),DarkSeaGreen4:c([.41,.545,.41]),DarkSlateGray1:c([.592,1,1]),DarkSlateGray2:c([.552,.932,.932]),DarkSlateGray3:c([.475,.804,.804]),DarkSlateGray4:c([.32,.545,.545]),DeepPink1:c([1,.08,.576]),DeepPink2:c([.932,.07,.536]),DeepPink3:c([.804,.064,.464]),DeepPink4:c([.545,.04,.312]),DeepSkyBlue1:c([0,.75,1]),DeepSkyBlue2:c([0,.698,.932]),DeepSkyBlue3:c([0,.604,.804]),DeepSkyBlue4:c([0,.408,.545]),DodgerBlue1:c([.116,.565,1]),DodgerBlue2:c([.11,.525,.932]),DodgerBlue3:c([.094,.455,.804]),DodgerBlue4:c([.064,.305,.545]),Firebrick1:c([1,.19,.19]),Firebrick2:c([.932,.172,.172]),Firebrick3:c([.804,.15,.15]),Firebrick4:c([.545,.1,.1]),Gold1:c([1,.844,0]),Gold2:c([.932,.79,0]),Gold3:c([.804,.68,0]),Gold4:c([.545,.46,0]),Goldenrod1:c([1,.756,.145]),Goldenrod2:c([.932,.705,.132]),Goldenrod3:c([.804,.608,.112]),Goldenrod4:c([.545,.41,.08]),Green1:c([0,1,0]),Green2:c([0,.932,0]),Green3:c([0,.804,0]),Green4:c([0,.545,0]),Honeydew1:c([.94,1,.94]),Honeydew2:c([.88,.932,.88]),Honeydew3:c([.756,.804,.756]),Honeydew4:c([.512,.545,.512]),HotPink1:c([1,.43,.705]),HotPink2:c([.932,.415,.655]),HotPink3:c([.804,.376,.565]),HotPink4:c([.545,.228,.385]),IndianRed1:c([1,.415,.415]),IndianRed2:c([.932,.39,.39]),IndianRed3:c([.804,.332,.332]),IndianRed4:c([.545,.228,.228]),Ivory1:c([1,1,.94]),Ivory2:c([.932,.932,.88]),Ivory3:c([.804,.804,.756]),Ivory4:c([.545,.545,.512]),Khaki1:c([1,.965,.56]),Khaki2:c([.932,.9,.52]),Khaki3:c([.804,.776,.45]),Khaki4:c([.545,.525,.305]),LavenderBlush1:c([1,.94,.96]),LavenderBlush2:c([.932,.88,.898]),LavenderBlush3:c([.804,.756,.772]),LavenderBlush4:c([.545,.512,.525]),LemonChiffon1:c([1,.98,.804]),LemonChiffon2:c([.932,.912,.75]),LemonChiffon3:c([.804,.79,.648]),LemonChiffon4:c([.545,.536,.44]),LightBlue1:c([.75,.936,1]),LightBlue2:c([.698,.875,.932]),LightBlue3:c([.604,.752,.804]),LightBlue4:c([.408,.512,.545]),LightCyan1:c([.88,1,1]),LightCyan2:c([.82,.932,.932]),LightCyan3:c([.705,.804,.804]),LightCyan4:c([.48,.545,.545]),LightGoldenrod1:c([1,.925,.545]),LightGoldenrod2:c([.932,.864,.51]),LightGoldenrod3:c([.804,.745,.44]),LightGoldenrod4:c([.545,.505,.298]),LightPink1:c([1,.684,.725]),LightPink2:c([.932,.635,.68]),LightPink3:c([.804,.55,.585]),LightPink4:c([.545,.372,.396]),LightSalmon1:c([1,.628,.48]),LightSalmon2:c([.932,.585,.448]),LightSalmon3:c([.804,.505,.385]),LightSalmon4:c([.545,.34,.26]),LightSkyBlue1:c([.69,.888,1]),LightSkyBlue2:c([.644,.828,.932]),LightSkyBlue3:c([.552,.712,.804]),LightSkyBlue4:c([.376,.484,.545]),LightSteelBlue1:c([.792,.884,1]),LightSteelBlue2:c([.736,.824,.932]),LightSteelBlue3:c([.635,.71,.804]),LightSteelBlue4:c([.43,.484,.545]),LightYellow1:c([1,1,.88]),LightYellow2:c([.932,.932,.82]),LightYellow3:c([.804,.804,.705]),LightYellow4:c([.545,.545,.48]),Magenta1:c([1,0,1]),Magenta2:c([.932,0,.932]),Magenta3:c([.804,0,.804]),Magenta4:c([.545,0,.545]),Maroon1:c([1,.204,.7]),Maroon2:c([.932,.19,.655]),Maroon3:c([.804,.16,.565]),Maroon4:c([.545,.11,.385]),MediumOrchid1:c([.88,.4,1]),MediumOrchid2:c([.82,.372,.932]),MediumOrchid3:c([.705,.32,.804]),MediumOrchid4:c([.48,.215,.545]),MediumPurple1:c([.67,.51,1]),MediumPurple2:c([.624,.475,.932]),MediumPurple3:c([.536,.408,.804]),MediumPurple4:c([.365,.28,.545]),MistyRose1:c([1,.894,.884]),MistyRose2:c([.932,.835,.824]),MistyRose3:c([.804,.716,.71]),MistyRose4:c([.545,.49,.484]),NavajoWhite1:c([1,.87,.68]),NavajoWhite2:c([.932,.81,.63]),NavajoWhite3:c([.804,.7,.545]),NavajoWhite4:c([.545,.475,.37]),OliveDrab1:c([.752,1,.244]),OliveDrab2:c([.7,.932,.228]),OliveDrab3:c([.604,.804,.196]),OliveDrab4:c([.41,.545,.132]),Orange1:c([1,.648,0]),Orange2:c([.932,.604,0]),Orange3:c([.804,.52,0]),Orange4:c([.545,.352,0]),OrangeRed1:c([1,.27,0]),OrangeRed2:c([.932,.25,0]),OrangeRed3:c([.804,.215,0]),OrangeRed4:c([.545,.145,0]),Orchid1:c([1,.512,.98]),Orchid2:c([.932,.48,.912]),Orchid3:c([.804,.41,.79]),Orchid4:c([.545,.28,.536]),PaleGreen1:c([.604,1,.604]),PaleGreen2:c([.565,.932,.565]),PaleGreen3:c([.488,.804,.488]),PaleGreen4:c([.33,.545,.33]),PaleTurquoise1:c([.732,1,1]),PaleTurquoise2:c([.684,.932,.932]),PaleTurquoise3:c([.59,.804,.804]),PaleTurquoise4:c([.4,.545,.545]),PaleVioletRed1:c([1,.51,.67]),PaleVioletRed2:c([.932,.475,.624]),PaleVioletRed3:c([.804,.408,.536]),PaleVioletRed4:c([.545,.28,.365]),PeachPuff1:c([1,.855,.725]),PeachPuff2:c([.932,.796,.68]),PeachPuff3:c([.804,.688,.585]),PeachPuff4:c([.545,.468,.396]),Pink1:c([1,.71,.772]),Pink2:c([.932,.664,.72]),Pink3:c([.804,.57,.62]),Pink4:c([.545,.39,.424]),Plum1:c([1,.732,1]),Plum2:c([.932,.684,.932]),Plum3:c([.804,.59,.804]),Plum4:c([.545,.4,.545]),Purple1:c([.608,.19,1]),Purple2:c([.57,.172,.932]),Purple3:c([.49,.15,.804]),Purple4:c([.332,.1,.545]),Red1:c([1,0,0]),Red2:c([.932,0,0]),Red3:c([.804,0,0]),Red4:c([.545,0,0]),RosyBrown1:c([1,.756,.756]),RosyBrown2:c([.932,.705,.705]),RosyBrown3:c([.804,.608,.608]),RosyBrown4:c([.545,.41,.41]),RoyalBlue1:c([.284,.464,1]),RoyalBlue2:c([.264,.43,.932]),RoyalBlue3:c([.228,.372,.804]),RoyalBlue4:c([.152,.25,.545]),Salmon1:c([1,.55,.41]),Salmon2:c([.932,.51,.385]),Salmon3:c([.804,.44,.33]),Salmon4:c([.545,.298,.224]),SeaGreen1:c([.33,1,.624]),SeaGreen2:c([.305,.932,.58]),SeaGreen3:c([.264,.804,.5]),SeaGreen4:c([.18,.545,.34]),Seashell1:c([1,.96,.932]),Seashell2:c([.932,.898,.87]),Seashell3:c([.804,.772,.75]),Seashell4:c([.545,.525,.51]),Sienna1:c([1,.51,.28]),Sienna2:c([.932,.475,.26]),Sienna3:c([.804,.408,.224]),Sienna4:c([.545,.28,.15]),SkyBlue1:c([.53,.808,1]),SkyBlue2:c([.494,.752,.932]),SkyBlue3:c([.424,.65,.804]),SkyBlue4:c([.29,.44,.545]),SlateBlue1:c([.512,.435,1]),SlateBlue2:c([.48,.404,.932]),SlateBlue3:c([.41,.35,.804]),SlateBlue4:c([.28,.235,.545]),SlateGray1:c([.776,.888,1]),SlateGray2:c([.725,.828,.932]),SlateGray3:c([.624,.712,.804]),SlateGray4:c([.424,.484,.545]),Snow1:c([1,.98,.98]),Snow2:c([.932,.912,.912]),Snow3:c([.804,.79,.79]),Snow4:c([.545,.536,.536]),SpringGreen1:c([0,1,.498]),SpringGreen2:c([0,.932,.464]),SpringGreen3:c([0,.804,.4]),SpringGreen4:c([0,.545,.27]),SteelBlue1:c([.39,.72,1]),SteelBlue2:c([.36,.675,.932]),SteelBlue3:c([.31,.58,.804]),SteelBlue4:c([.21,.392,.545]),Tan1:c([1,.648,.31]),Tan2:c([.932,.604,.288]),Tan3:c([.804,.52,.248]),Tan4:c([.545,.352,.17]),Thistle1:c([1,.884,1]),Thistle2:c([.932,.824,.932]),Thistle3:c([.804,.71,.804]),Thistle4:c([.545,.484,.545]),Tomato1:c([1,.39,.28]),Tomato2:c([.932,.36,.26]),Tomato3:c([.804,.31,.224]),Tomato4:c([.545,.21,.15]),Turquoise1:c([0,.96,1]),Turquoise2:c([0,.898,.932]),Turquoise3:c([0,.772,.804]),Turquoise4:c([0,.525,.545]),VioletRed1:c([1,.244,.59]),VioletRed2:c([.932,.228,.55]),VioletRed3:c([.804,.196,.47]),VioletRed4:c([.545,.132,.32]),Wheat1:c([1,.905,.73]),Wheat2:c([.932,.848,.684]),Wheat3:c([.804,.73,.59]),Wheat4:c([.545,.494,.4]),Yellow1:c([1,1,0]),Yellow2:c([.932,.932,0]),Yellow3:c([.804,.804,0]),Yellow4:c([.545,.545,0]),Gray0:c([.745,.745,.745]),Green0:c([0,1,0]),Grey0:c([.745,.745,.745]),Maroon0:c([.69,.19,.376]),Purple0:c([.628,.125,.94])};var Br={rgb:([n,t,s])=>(0,Ce.default)([n*255,t*255,s*255],"rgb"),cmy:([n,t,s])=>Br.rgb([1-n,1-t,1-s]),cmyk:([n,t,s,l])=>(0,Ce.default)([n*255,t*255,s*255,l*100],"cmyk"),hsb:([n,t,s])=>(0,Ce.default)([n*360,t*100,s*100],"hsv"),gray:([n])=>(0,Ce.default)([n*255,n*255,n*255],"rgb")},kg={wave:([n])=>{let s=[0,0,0];380<=n&&n<440&&(s=[(440-n)/(440-380),0,1]),440<=n&&n<490&&(s=[0,(n-440)/(490-440),1]),490<=n&&n<510&&(s=[0,1,(510-n)/(510-490)]),510<=n&&n<580&&(s=[(n-510)/(580-510),1,0]),580<=n&&n<6450&&(s=[1,(645-n)/(645-580),0]),645<=n&&n<=780&&(s=[1,0,0]);let l=1;380<=n&&420<n&&(l=.3+.7*(n-380)/(420-380)),700<n&&n<=780&&(l=.3+.7*(780-n)/(780-700));let r=[Math.pow(s[0]*l,.8),Math.pow(s[1]*l,.8),Math.pow(s[2]*l,.8)];return(0,Ce.default)([r[0]*255,r[1]*255,r[2]*255],"rgb")},Hsb:([n,t,s])=>Br.hsb([n/360,t,s]),HSB:([n,t,s])=>Br.hsb([n/240,t/240,s/240]),HTML:([n])=>n.startsWith("#")?(0,Ce.default)(n):(0,Ce.default)(`#${n}`),RGB:([n,t,s])=>(0,Ce.default)([n,t,s],"rgb"),Gray:([n])=>Br.gray([n/15]),...Br};var Cg={red:Br.rgb([1,0,0]),green:Br.rgb([0,1,0]),blue:Br.rgb([0,0,1]),brown:Br.rgb([.75,.5,.25]),lime:Br.rgb([.75,1,0]),orange:Br.rgb([1,.5,0]),pink:Br.rgb([1,.75,.75]),purple:Br.rgb([.75,0,.25]),teal:Br.rgb([0,.5,.5]),violet:Br.rgb([.5,0,.5]),cyan:Br.rgb([0,1,1]),magenta:Br.rgb([1,0,1]),yellow:Br.rgb([1,1,0]),olive:Br.rgb([.5,.5,0]),black:Br.rgb([0,0,0]),darkgray:Br.rgb([.25,.25,.25]),gray:Br.rgb([.5,.5,.5]),lightgray:Br.rgb([.75,.75,.75]),white:Br.rgb([1,1,1]),...Lf,...Nf,...qf};var Us={NewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},NewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},RenewDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},ProvideDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},DeclareDocumentEnvironment:{signature:"m m m m",renderInfo:{breakAround:!0}},NewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RenewExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},ProvideExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},DeclareExpandableDocumentCommand:{signature:"m m m",renderInfo:{breakAround:!0}},RequirePackage:{signature:"o m",renderInfo:{pgfkeysArgs:!0,breakAround:!0}},DeclareOption:{signature:"m m",renderInfo:{breakAround:!0}}},Xs={};var Vs={mode:{signature:"s d<> d{}",renderInfo:{breakAround:!0}},insertnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortauthor:{signature:"o",renderInfo:{breakAround:!0}},insertshortdate:{signature:"o",renderInfo:{breakAround:!0}},insertshortinstitute:{signature:"o",renderInfo:{breakAround:!0}},insertshortpart:{signature:"o",renderInfo:{breakAround:!0}},insertshorttitle:{signature:"o",renderInfo:{breakAround:!0}},insertsubsectionnavigation:{signature:"m",renderInfo:{breakAround:!0}},insertsubsectionnavigationhorizontal:{signature:"m m m",renderInfo:{breakAround:!0}},insertverticalnavigation:{signature:"m",renderInfo:{breakAround:!0}},usebeamercolor:{signature:"s m",renderInfo:{breakAround:!0}},usebeamertemplate:{signature:"s m",renderInfo:{breakAround:!0}},setbeamercolor:{signature:"m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamersize:{signature:"m o o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},setbeamertemplate:{signature:"m o o d{}",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},newcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},renewcommand:{signature:"s d<> +m o +o +m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"name","numArgs","default","body"]}},newenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},renewenvironment:{signature:"s d<> m o o m m",renderInfo:{breakAround:!0}},resetcounteronoverlays:{signature:"m",renderInfo:{breakAround:!0}},resetcountonoverlays:{signature:"m",renderInfo:{breakAround:!0}},logo:{signature:"m",renderInfo:{breakAround:!0}},frametitle:{signature:"d<> o m",renderInfo:{breakAround:!0}},framesubtitle:{signature:"d<> m",renderInfo:{breakAround:!0}},pause:{signature:"o"},onslide:{signature:"t+ t* d<> d{}"},only:{signature:"d<> m d<>"},uncover:{signature:"d<> m"},visible:{signature:"d<> m"},invisible:{signature:"d<> m"},alt:{signature:"d<> m m d<>"},temporal:{signature:"r<> m m m"},item:{signature:"d<> o d<>",renderInfo:{hangingIndent:!0,namedArguments:[null,"label",null]}},label:{signature:"d<> o m"},action:{signature:"d<> m"},beamerdefaultoverlayspecification:{signature:"m"},titlegraphic:{signature:"m",renderInfo:{breakAround:!0}},subject:{signature:"m",renderInfo:{breakAround:!0}},keywords:{signature:"m",renderInfo:{breakAround:!0}},lecture:{signature:"o m m",renderInfo:{breakAround:!0}},partpage:{renderInfo:{breakAround:!0}},sectionpage:{renderInfo:{breakAround:!0}},subsectionpage:{renderInfo:{breakAround:!0}},AtBeginLecture:{signature:"m",renderInfo:{breakAround:!0}},AtBeginPart:{signature:"m",renderInfo:{breakAround:!0}},tableofcontents:{signature:"o",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},againframe:{signature:"d<> o o m",renderInfo:{breakAround:!0}},framezoom:{signature:"r<> r<> o r() r()",renderInfo:{breakAround:!0}},column:{signature:"d<> o m",renderInfo:{breakAround:!0}},animate:{signature:"r<>",renderInfo:{breakAround:!0}},animatevalue:{signature:"r<> m m m",renderInfo:{breakAround:!0}},sound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinksound:{signature:"o m m",renderInfo:{breakAround:!0,pgfkeysArgs:!0}},hyperlinkmute:{signature:"m",renderInfo:{breakAround:!0}},section:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},subsubsection:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},part:{signature:"s d<> o m",renderInfo:{breakAround:!0,namedArguments:["starred",null,"tocTitle","title"]}},bibitem:{signature:"s d<> o m",renderInfo:{hangingIndent:!0,namedArguments:["starred",null,"tocTitle","title"]}}},Ks={frame:{signature:"!d<> !o !o !d{} !d{}"},block:{signature:"!d<> !d{} !d<>"},alertblock:{signature:"!d<> !d{} !d<>"},exampleblock:{signature:"!d<> !d{} !d<>"},onlyenv:{signature:"!d<>"},altenv:{signature:"!d<> m m m m !d<>"},overlayarea:{signature:"m m"},overprint:{signature:"o"},actionenv:{signature:"!d<>"},columns:{signature:"d<> o"},column:{signature:"d<> o m"}};var Ys={columnbreak:{renderInfo:{breakAround:!0}}},Zs={multicols:{signature:"m o o"},"multicols*":{signature:"m o o"}};var Js={amsart:Ra,cleveref:Da,exam:za,geometry:Ua,hyperref:Va,latex2e:Ya,listings:$s,makeidx:As,mathtools:ws,minted:Ms,nicematrix:_s,systeme:Ps,tikz:Rs,xcolor:zs,xparse:Us,beamer:Vs,multicol:Ys},Qs={amsart:Oa,cleveref:Ta,exam:Ha,geometry:Xa,hyperref:Ka,latex2e:Za,listings:bs,makeidx:xs,mathtools:ks,minted:Es,nicematrix:Is,systeme:Ss,tikz:Os,xcolor:Hs,xparse:Xs,beamer:Ks,multicol:Zs};function Ai(n,t){if(t.signature&&n.args==null){let{args:s}=Kn(n.content,t.signature);n.args=s}zn(n,t.renderInfo),typeof t.processContent=="function"&&(n.content=t.processContent(n.content))}function eo(n,t,s){let l=[],r={start:void 0,end:n.length};for(let a=0;a<n.length;a++){let e=n[a];t(e)&&(r.start=a),s(e)&&(r.end=a+1,l.push(r),r={start:void 0,end:n.length})}return r.start!=null&&l.push(r),l}function Wf(n){let t=[...n];t.sort((p,h)=>p.start-h.start);let s=new Set(t.flatMap(p=>[p.start,p.end])),l=Array.from(s);l.sort((p,h)=>p-h);let r=[],a=[],e=0;for(let p=0;p<l.length-1;p++){let h=l[p],k=l[p+1],_={start:h,end:k},Y=new Set,ee=!1;for(let y=e;y<t.length;y++){let d=t[y];if(d.end>=_.start&&(ee=!0),!ee&&d.end<_.start){e=y+1;continue}if(d.start>k)break;d.start<=_.start&&d.end>=_.end&&(ee=!0,Y.add(d))}Y.size>0&&(r.push(_),a.push(Y))}return{regions:r,regionsContainedIn:a}}function jf(n,t){let s=[],l=[0,n.length],r={};for(let[a,e]of Object.entries(t))l.push(...e.flatMap(p=>(r[""+[p.start,p.end]]=a,[p.start,p.end])));l.sort((a,e)=>a-e);for(let a=0;a<l.length-1;a++){let e=l[a],p=l[a+1];if(e===p)continue;let h=r[""+[e,p]];s.push([h||null,n.slice(e,p)])}return s}function Gf(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zf(n){let t=`^(${["\\p{L}"].concat(Array.from(n).map(Gf)).join("|")})*`;return new RegExp(t,"u")}function Hf(n,t){for(let s=0;s<n.length;s++){let l=n[s],r=n[s+1];if($e.anyMacro(l)&&$e.anyString(r)&&(t.has(l.content.charAt(l.content.length-1))||t.has(r.content.charAt(0))))return!0}return!1}function xi(n,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let r of s)if(r.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${r}\`.`);let l=!1;return sn(n,r=>{if(Hf(r,s))return l=!0,it},{includeArrays:!0,test:Array.isArray}),l}function Uf(n,t){var s,l,r;let a=zf(t),e=0;for(;e<n.length;){let p=n[e],h=n[e+1];if($e.anyMacro(p)&&(p.escapeToken==null||p.escapeToken==="\\")&&$e.anyString(h)&&(t.has(p.content.charAt(p.content.length-1))||t.has(h.content.charAt(0)))){let k=h.content.match(a),_=k?k[0]:"";_.length>0?_.length===h.content.length?(p.content+=h.content,n.splice(e+1,1),p.position&&((s=h.position)!=null&&s.end)&&(p.position.end=h.position.end)):(p.content+=_,h.content=h.content.slice(_.length),(l=p.position)!=null&&l.end&&(p.position.end.offset+=_.length,p.position.end.column+=_.length),(r=h.position)!=null&&r.start&&(h.position.start.offset+=_.length,h.position.start.column+=_.length)):e++}else++e}}function ut(n,t){typeof t=="string"&&(t=new Set(t.split("")));let s=t;for(let l of s)if(l.length>1)throw new Error(`Only single characters are allowed as \`allowedTokens\` when reparsing macro names, not \`${l}\`.`);sn(n,l=>{Uf(l,s)},{includeArrays:!0,test:Array.isArray})}var ro={start:$e.createMacroMatcher(["ExplSyntaxOn"]),end:$e.createMacroMatcher(["ExplSyntaxOff"])},no={start:$e.createMacroMatcher(["makeatletter"]),end:$e.createMacroMatcher(["makeatother"])};function Xf(n){let t=eo(n,ro.start,ro.end),s=eo(n,no.start,no.end),l=new Map([...t.map(e=>[e,"expl"]),...s.map(e=>[e,"atLetter"])]),r=Wf([...t,...s]),a={explOnly:[],atLetterOnly:[],both:[]};for(let e=0;e<r.regions.length;e++){let p=r.regions[e],h=r.regionsContainedIn[e];if(h.size===2){a.both.push(p);continue}for(let k of h.values())l.get(k)==="expl"&&a.explOnly.push(p),l.get(k)==="atLetter"&&a.atLetterOnly.push(p)}return a.explOnly=a.explOnly.filter(e=>e.end-e.start>1),a.atLetterOnly=a.atLetterOnly.filter(e=>e.end-e.start>1),a.both=a.both.filter(e=>e.end-e.start>1),a}var Vf=new Set(["@"]),Kf=new Set(["_",":"]),Yf=new Set(["_",":","@"]);function to(n){sn(n,{leave:t=>{let s=Xf(t);if(s.both.length+s.atLetterOnly.length+s.explOnly.length===0)return;let r=jf(t,s),a=[];for(let[e,p]of r)switch(e){case null:a.push(...p);continue;case"atLetterOnly":ut(p,Vf),a.push(...p);continue;case"explOnly":ut(p,Kf),a.push(...p);continue;case"both":ut(p,Yf),a.push(...p);continue;default:throw new Error(`Unexpected case when splitting ${e}`)}return t.length=0,t.push(...a),ai}},{includeArrays:!0,test:Array.isArray})}var ki=function(){Object.assign(this,{Compiler:t=>t})};function Zf(n){return oi.parse(n)}function wi(n){return oi.parse(n,{startRule:"math"})}var Jf=function(t){Object.assign(this,{Parser:l=>t?.mode==="math"?{type:"root",content:wi(l),_renderInfo:{inMathMode:!0}}:Zf(l)})};function Qf({mathEnvs:n,mathMacros:t}){let s=$e.createEnvironmentMatcher(n),l=$e.createMacroMatcher(t);return r=>{sn(r,a=>{if($e.anyMacro(a))for(let e of a.args||[])e.content.length>0&&!io(e.content)&&(e.content=wi(vn(e.content)));$e.anyEnvironment(a)&&(io(a.content)||(a.content=wi(vn(a.content))))},{test:a=>s(a)||l(a)})}}function io(n){return!n.some(t=>$e.anyString(t)&&t.content.length>1||$e.string(t,"^")||$e.string(t,"_"))}var eu=function(t){let{environments:s={},macros:l={}}=t||{},r=Object.fromEntries(Object.entries(l).filter(([k,_])=>{var Y;return((Y=_.renderInfo)==null?void 0:Y.inMathMode)===!0})),a=Object.fromEntries(Object.entries(s).filter(([k,_])=>{var Y;return((Y=_.renderInfo)==null?void 0:Y.inMathMode)===!0})),e=Qf({mathEnvs:Object.keys(a),mathMacros:Object.keys(r)}),p=$e.createEnvironmentMatcher(s),h=$e.createEnvironmentMatcher(a);return k=>{sn(k,{enter:_=>{Array.isArray(_)&&Yn(_,r)},leave:_=>{if(!h(_))return;let Y=vn(_.env),ee=s[Y];if(!ee)throw new Error(`Could not find environment info for environment "${Y}"`);Ai(_,ee)}},{includeArrays:!0}),e(k),sn(k,{enter:_=>{Array.isArray(_)&&Yn(_,l)},leave:_=>{if(!p(_))return;let Y=vn(_.env),ee=s[Y];if(!ee)throw new Error(`Could not find environment info for environment "${Y}"`);Ai(_,ee)}},{includeArrays:!0})}},ru=function(t){let{atLetter:s=!1,expl3:l=!1,autodetectExpl3AndAtLetter:r=!1}=t||{};return a=>{to(a),(s||l)&&(r=!1),r&&(s=xi(a,"@"),l=xi(a,"_"));let e=new Set;s&&e.add("@"),l&&(e.add(":"),e.add("_")),e.size>0&&ut(a,e)}},Ci=function(t){let{mode:s="regular",macros:l={},environments:r={},flags:{atLetter:a=!1,expl3:e=!1,autodetectExpl3AndAtLetter:p=!1}={}}=t||{},h=Object.assign({},...Object.values(Js),l),k=Object.assign({},...Object.values(Qs),r),_=nt().use(Jf,{mode:s}).use(ru,{atLetter:a,expl3:e,autodetectExpl3AndAtLetter:p}).use(eu,{macros:h,environments:k}).use(Na).use(qa).use(ki);Object.assign(this,{Parser:ee=>_.processSync({value:ee}).result})},k0=nt().use(Ci).freeze();function nu(n){return!n?.content||n.content.length===0}var so={",":n=>n.data.inFunction?"comma":",","&":n=>n.data.inArray?",":"&","/":"\\/",";":"\\;"};function ao(n){var t,s,l;((s=(t=n.args)===null||t===void 0?void 0:t[0].content)===null||s===void 0?void 0:s.length)===1&&((l=n.args)===null||l===void 0?void 0:l[0].content)[0].type==="string"&&(n.args[0].content=n.args[0].content[0].content.split("").map(r=>({type:"string",content:r})))}var oo={cdot:"dot.op",to:"arrow.r",rightarrow:"arrow.r",leftarrow:"arrow.l",leftrightarrow:"arrow.l.r",gets:"arrow.l",infin:"infinity",infty:"infinity",nonumber:"",int:"integral",iint:"integral.double",sqrt:(n,t)=>{var s;return nu((s=t.args)===null||s===void 0?void 0:s[0])?"sqrt":"root"},vec:"arrow",mathbf:"bold",boldsymbol:"bold",mathrm:"upright",textrm:"upright",rm:"upright",mathcal:"cal",mathfrak:"frak",pm:"plus.minus",partial:"diff",_:(n,t)=>(ao(t),"_"),"^":(n,t)=>(ao(t),"^"),left:(n,t)=>{var s;let l=t.args;t.args=[];let r=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(r==="(")return"(";if(r==="[")return"[";if(r==="{")return"{";if(r==="|")return"|";if(r===".")return"";throw new Error(`Undefined left bracket: ${r}`)},right:(n,t)=>{var s;let l=t.args;t.args=[];let r=((s=l?.[0].content)===null||s===void 0?void 0:s[0]).content;if(r===")")return")";if(r==="]")return"]";if(r==="}")return"}";if(r==="|")return"|";if(r===".")return"";throw new Error(`Undefined right bracket: ${r}`)},operatorname:(n,t)=>{var s;let l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0];return t.args=[{type:"macro",content:"text",args:[l]}],"op"},"\\":(n,t)=>(t.args=[],n.data.inArray?";":`\\
`),sim:"tilde",phi:"phi.alt",varepsilon:"epsilon",propto:"prop",doteq:"dot(eq)",ge:"gt.eq",geq:"gt.eq",le:"lt.eq",leq:"lt.eq",neq:"eq.not",simeq:"tilde.eq",otimes:"times.circle",dot:"dot",ddot:"dot.double",dots:"dots.h",ldots:"dots.h",vdots:"dots.v",ddots:"dots.down",subseteq:"subset.eq",cdots:"dots.h.c",cap:"sect",cup:"union",widehat:"hat",",":"thin",":":"med",";":"thick","!":"#h(-1em)",quad:"quad",qquad:"wide",prod:"product",mathbb:(n,t)=>{var s,l,r,a,e;let h=((e=(a=(r=(l=(s=t.args)===null||s===void 0?void 0:s.slice(-1)[0])===null||l===void 0?void 0:l.content)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content)!==null&&e!==void 0?e:"").split("").map(k=>`${k}${k}`).join(" ");return t.args=[],h},overset:(n,t)=>{var s;return n.useMacro('#import "@preview/ouset:0.2.0": *'),t.args=(s=t.args)===null||s===void 0?void 0:s.reverse(),"overset"},underset:(n,t)=>{var s;return n.useMacro('#import "@preview/ouset:0.2.0": *'),t.args=(s=t.args)===null||s===void 0?void 0:s.reverse(),"underset"}},lo={array:(n,t)=>{n.data.inArray=!0,n.openFunction("mat"),n.write("delim: #none,"),n.writeChildren(t),n.closeFunction(),n.data.inArray=!1}};function tu(n){return{type:"math",content:nt().use(Ci,{mode:"math"}).use(ki).use(ys,{macros:{vec:{signature:"m"},boldsymbol:{signature:"m"},left:{signature:"m"},right:{signature:"m"},dot:{signature:"m"},ddot:{signature:"m"},hat:{signature:"m"},widehat:{signature:"m"},overset:{signature:"m m"},underset:{signature:"m m"}}}).processSync({value:n}).result.content}}function Mi(n){if(delete n.position,Array.isArray(n.content)){let t=n.content.map(r=>Mi(r)),s=0,l=t.reduce((r,a,e,p)=>{var h;if(s>0)return s-=1,r;if(a.type==="string"&&(a.content==="_"||a.content==="^")){let{args:k,nodesRemoved:_}=Kn(p.slice(e+1),"m");a.type="macro",a.args=k,s+=_}if(a.type==="macro"&&(a.content==="overbrace"||a.content==="underbrace")){let{args:k,nodesRemoved:_}=Kn(p.slice(e+1),"m");k[0].content.length===1&&k[0].content[0].type==="macro"&&(k[0].content[0].content==="^"&&a.content==="overbrace"||k[0].content[0].content==="_"&&a.content==="underbrace")&&(a.args=[...(h=a.args)!==null&&h!==void 0?h:[],...k[0].content[0].args],s+=_)}return r.push(a),r},[]);return n.content=l,{...n,content:l}}if(Array.isArray(n.args)){let t=n.args.map(s=>Mi(s));return n.args=t,{...n,args:t}}return n}var Ei=class{constructor(){this._scriptsSimplified=!1,this._closeToken=[],this._currentFunctions=[],this._value="",this.data={}}get value(){return this._value}useMacro(t){this.data.macros||(this.data.macros=new Set),this.data.macros.add(t)}addWhitespace(){let t=this.value.slice(-1);!this._value||t.match(/^(["\s_^{(-])$/)||(this._value+=" ")}write(t){t&&(this._scriptsSimplified&&t==="("?this.addWhitespace():t.match(/^([}()_^,;!])$/)||this.addWhitespace(),this._scriptsSimplified=!1,this._value+=t)}writeChildren(t){var s;Array.isArray(t?.content)&&((s=t.content)===null||s===void 0||s.forEach(l=>{_i(l,this)}))}get _currentFunction(){return this._currentFunctions.slice(-1)[0]}get _functionCount(){return this._currentFunctions.length}openFunction(t){t==="text"?this.addWhitespace():this.write(t),this._currentFunctions.push(t),this.data.inFunction=!0,this._simplify=t==="_"||t==="^",this._lastFunction=this._value.length,this._value+=t==="text"?'"':"(",this._closeToken.push(t==="text"?'"':")")}closeFunction(){if(this._value+=this._closeToken.pop()||")",this._currentFunctions.pop(),this.data.inFunction=this._functionCount>=1,!this._simplify)return;let t=this._value.slice(this._lastFunction);t.match(/^\([a-zA-Z0-9]*\)$/)&&(this._value=this._value.slice(0,this._lastFunction)+t.slice(1,-1),this._scriptsSimplified=!0)}};function fo(n,t){if(t.type==="macro"&&typeof t.content=="string"){let s=oo[t.content],l=typeof s=="function"?s(n,t):s;return l??t.content}return""}function uo(n,t){let s=so[t];return typeof s=="function"?s(n)||t:s||t}function _i(n,t=new Ei){if(n.type==="whitespace")return t;if(n.type==="string"){let s=n.content;t._currentFunction==="text"?t.write(uo(t,s)):s.split("").forEach(l=>{t.write(uo(t,l))})}else if(n.type==="environment"&&Array.isArray(n.content)){let s=lo[n.env];s?.(t,n)}else if(Array.isArray(n.content)){let s=t.value.match(/([_^])$/)&&n.type==="group";s&&t.openFunction(""),t.writeChildren(n),s&&t.closeFunction()}else if(n.type==="macro"&&Array.isArray(n.args)){let s=fo(t,n);if(n.args.length===0)return t.write(s),t;t.openFunction(s),n.args.filter(l=>!(Array.isArray(l.content)&&l.content.length===0)).forEach((l,r)=>{r!==0&&t.write(","),_i(l,t)}),t.closeFunction()}else if(n.type==="macro"&&typeof n.content=="string"){let s=fo(t,n);t.write(s??n.content)}return t}function iu(n){return n.replace(/^(_|\^)/,'""$1').replace(/"([^"]*)"=/g,'"$1" =')}function ct(n){let t=tu(n);Mi(t);let s=_i(t);return{value:iu(s.value),macros:s.data.macros}}function co(n,t){t.options.math&&Object.entries(t.options.math).forEach(([s,l])=>{var r;let a=ct(s).value;if(n.includes(a)){let e=ct(l.macro);t.data.mathPlugins[a]=e.value,(r=e.macros)===null||r===void 0||r.forEach(p=>{t.useMacro(p)})}})}function au(n,t){let s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l=new RegExp(`${s}(?![a-zA-Z])`,"g");return[...n.matchAll(l)].length>0}function su(n,t,s){let l=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=new RegExp(`${l}(?![a-zA-Z])`,"g");return n.replaceAll(r,s)}function Ii(n){let t=!1,s=Object.fromEntries(Object.entries(n).map(([l,r])=>{let a=r.macro;return Object.entries(n).forEach(([e,{macro:p}])=>{au(a,e)&&(l===e||(a=su(a,e,p),t=!0))}),[l,{...r,macro:a}]}));return t?Ii(s):s}var ou=(n,t)=>{var s;let{value:l,macros:r}=ct(n.value);r?.forEach(e=>{t.useMacro(e)});let{identifier:a}=(s=ma(n.label))!==null&&s!==void 0?s:{};co(l,t),t.ensureNewLine(),t.write(`$ ${l} $${a?` <${a}>`:""}

`),t.ensureNewLine(!0)},lu=(n,t)=>{let{value:s,macros:l}=ct(n.value);l?.forEach(r=>{t.useMacro(r)}),co(s,t),t.write(`$${s}$`)},fu={math:ou,inlineMath:lu},go=fu;function uu(n){var t,s;let l=(t=n.children)===null||t===void 0?void 0:t.find(a=>a.type==="tableRow");return(s=l?.children)===null||s===void 0?void 0:s.filter(a=>a.type==="tableCell").reduce((a,e)=>{var p;return a+((p=e.colspan)!==null&&p!==void 0?p:1)},0)}function cu(n){var t;return n.type!=="tableRow"?!1:(t=n.children)===null||t===void 0?void 0:t.filter(s=>s.type==="tableCell").every(s=>s.header)}function gu(n){var t,s;let l=(t=n.children)===null||t===void 0?void 0:t.filter(r=>cu(r));return(s=l?.length)!==null&&s!==void 0?s:0}var po=(n,t)=>{let s=t.data.isInTable;t.data.isInTable=!0;let l=t.data.isInFigure?"tablex":"#tablex",r=uu(n);if(!r){In(t.file,"Unable to count table columns",{node:n,source:"myst-to-typst"});return}t.useMacro('#import "@preview/tablex:0.0.8": tablex, cellx, hlinex, vlinex'),t.useMacro("#let tableStyle = (:)"),t.write(`${l}(columns: ${r}, header-rows: ${gu(n)}, repeat-header: true, ..tableStyle,
`),t.renderChildren(n,1),t.write(`)
`),t.data.isInTable=s},mo=(n,t)=>{t.renderChildren(n,1)},ho=(n,t)=>{(n.rowspan||n.colspan)&&(t.write("cellx("),n.rowspan&&t.write(`rowspan: ${n.rowspan}, `),n.colspan&&t.write(`colspan: ${n.colspan}, `),t.write(")")),t.write(`[
`),t.renderChildren(n,1),t.write(`],
`)};var pu=`#let admonition(body, heading: none, color: blue) = {
  let stroke = (left: 2pt + color.darken(20%))
  let fill = color.lighten(80%)
  let title
  if heading != none {
    title = block(width: 100%, inset: (x: 8pt, y: 4pt), fill: fill, below: 0pt, radius: (top-right: 2pt))[#text(11pt, weight: "bold")[#heading]]
  }
  block(width: 100%, stroke: stroke, [
    #title
  #block(fill: luma(240), width: 100%, inset: 8pt, radius: (bottom-right: 2pt))[#body]
])
}`,mu={attention:"#let attentionBlock(body, heading: [Attention]) = admonition(body, heading: heading, color: yellow)",caution:"#let cautionBlock(body, heading: [Caution]) = admonition(body, heading: heading, color: yellow)",danger:"#let dangerBlock(body, heading: [Danger]) = admonition(body, heading: heading, color: red)",error:"#let errorBlock(body, heading: [Error]) = admonition(body, heading: heading, color: red)",hint:"#let hintBlock(body, heading: [Hint]) = admonition(body, heading: heading, color: green)",important:"#let importantBlock(body, heading: [Important]) = admonition(body, heading: heading, color: blue)",note:"#let noteBlock(body, heading: [Note]) = admonition(body, heading: heading, color: blue)",seealso:"#let seealsoBlock(body, heading: [See Also]) = admonition(body, heading: heading, color: green)",tip:"#let tipBlock(body, heading: [Tip]) = admonition(body, heading: heading, color: green)",warning:"#let warningBlock(body, heading: [Warning]) = admonition(body, heading: heading, color: yellow)"},hu=`#let blockquote(node, color: gray) = {
  let stroke = (left: 2pt + color.darken(20%))
  set text(fill: black.lighten(40%), style: "oblique")
  block(width: 100%, inset: 8pt, stroke: stroke)[#node]
}`,du="  ",vo=(n,t)=>{let s=n.url;t.write('#link("'),t.write(Pa(s)),t.write('")'),n.children.length&&n.children[0].value!==s&&(t.write("["),t.renderChildren(n),t.write("]"))};function Pi(n,t){var s,l;let r=(s=n?.children)===null||s===void 0?void 0:s.findIndex(e=>e===t);if(!r)return!1;let a=(l=n?.children)===null||l===void 0?void 0:l[r+1];return a?.value&&a?.type==="text"&&!!a.value.match(/^[a-zA-Z0-9\-_]/)||!1}var yo={text(n,t){t.text(n.value)},paragraph(n,t){t.renderChildren(n,2)},heading(n,t){let{depth:s,identifier:l,enumerated:r}=n;t.write(`${Array(s).fill("=").join("")} `),t.renderChildren(n),r!==!1&&l&&t.write(` <${l}>`),t.write(`

`)},block(n,t){let s=ha(n);s.includes("no-typst")||s.includes("no-pdf")||n.visibility!=="remove"&&((s.includes("page-break")||s.includes("new-page"))&&t.write(`#pagebreak(weak: true)
`),t.renderChildren(n,2))},blockquote(n,t){t.useMacro(hu),t.renderEnvironment(n,"blockquote")},definitionList(n,t){let s=!1;t.data.definitionIndent?(t.write(`#set terms(indent: ${t.data.definitionIndent}em)`),t.data.definitionIndent+=2,s=!0):t.data.definitionIndent=2,t.renderChildren(n,1),t.data.definitionIndent-=2,s&&t.write(`#set terms(indent: ${t.data.definitionIndent-2}em)
`)},definitionTerm(n,t){t.ensureNewLine(),t.write("/ "),t.renderChildren(n),t.write(": ")},definitionDescription(n,t){t.renderChildren(n)},code(n,t){var s;if(n.visibility==="remove")return;let l="```";for(;n.value.includes(l);)l+="`";let r=`${l}${(s=n.lang)!==null&&s!==void 0?s:""}
`,a=`
${l}`;t.write(r),t.write(n.value),t.write(a),t.ensureNewLine(!0),t.addNewLine()},list(n,t){var s,l;(s=(l=t.data).list)!==null&&s!==void 0||(l.list={env:[]}),t.data.list.env.push(n.ordered?"+":"-"),t.renderChildren(n,2),t.data.list.env.pop()},listItem(n,t){var s,l,r;let a=(l=(s=t.data.list)===null||s===void 0?void 0:s.env)!==null&&l!==void 0?l:[],e=Array(Math.max(a.length-1,0)).fill(du).join(""),p=(r=a.slice(-1)[0])!==null&&r!==void 0?r:"-";t.ensureNewLine(),t.write(`${e}${p} `),t.renderChildren(n,1)},thematicBreak(n,t){t.write(`#line(length: 100%, stroke: gray)

`)},...go,mystRole(n,t){t.renderChildren(n)},mystDirective(n,t){t.renderChildren(n,2)},comment(n,t){var s,l;t.ensureNewLine(),!((s=n.value)===null||s===void 0)&&s.includes(`
`)?t.write(`/*
${n.value}
*/

`):t.write(`// ${(l=n.value)!==null&&l!==void 0?l:""}

`)},strong(n,t,s){let l=Pi(s,n);ni(n)&&!l?(t.write("*"),t.renderChildren(n),t.write("*")):t.renderInlineEnvironment(n,"strong")},emphasis(n,t,s){let l=Pi(s,n);ni(n)&&!l?(t.write("_"),t.renderChildren(n),t.write("_")):t.renderInlineEnvironment(n,"emph")},underline(n,t){t.renderInlineEnvironment(n,"underline")},smallcaps(n,t){t.renderInlineEnvironment(n,"smallcaps")},inlineCode(n,t){let s="`",l=Jt(n);for(;s==="``"||l.includes(s);)s+="`";t.write(s),l.startsWith("`")&&t.write(" "),t.write(l),l.endsWith("`")&&t.write(" "),t.write(s)},subscript(n,t){t.renderInlineEnvironment(n,"sub")},superscript(n,t){t.renderInlineEnvironment(n,"super")},delete(n,t){t.renderInlineEnvironment(n,"strike")},break(n,t){t.write(" \\"),t.ensureNewLine()},abbreviation(n,t){t.renderChildren(n)},inlineExpression(n,t){pa(t.file,"inlineExpression rendering in typst is in beta",{node:n,note:"Rendering will work only for text nodes"}),t.renderChildren(n)},link:vo,admonition(n,t){t.useMacro(pu),t.ensureNewLine();let s=da("admonitionTitle",n);if(!n.kind){In(t.file,"Unknown admonition kind",{node:n,source:"myst-to-typst"});return}t.useMacro(mu[n.kind]),t.write(`#${n.kind}Block`),s&&Jt(s).toLowerCase().replace(" ","")!==n.kind&&(t.write("(heading: ["),t.renderChildren(s),t.write("])")),t.write(`[
`),t.renderChildren(n),t.write(`
]

`)},admonitionTitle(){},table:po,tableRow:mo,tableCell:ho,image(n,t){let{width:s,url:l,align:r}=n,a=l,e=Hn(s),p=t.data.isInTable||!t.data.isInFigure?"#image":"image";t.write(`${p}("${a}"`),t.data.isInTable||t.write(`, width: ${e}`),t.write(`)

`)},container:ba,caption:Qt,legend:Qt,captionNumber:()=>{},crossReference(n,t,s){var l,r;if(n.remote){let p=((l=n.remoteBaseUrl)!==null&&l!==void 0?l:"")+(n.url==="/"?"":(r=n.url)!==null&&r!==void 0?r:"")+(n.html_id?`#${n.html_id}`:"");vo({...n,url:p},t);return}let a=n.identifier,e=Pi(s,n);t.write(e?`#[@${a}]`:`@${a}`)},citeGroup(n,t){t.renderChildren(n,0,{delim:" "})},cite(n,t){let l=!/^[a-zA-Z0-9_\-:.]+$/.test(n.label)?`label("${n.label}")`:`<${n.label}>`;t.write(`#cite(${l}`),n.kind==="narrative"&&t.write(', form: "prose"'),n.suffix&&t.write(`, supplement: [${n.suffix}]`),t.write(")")},embed(n,t){t.renderChildren(n,2)},include(n,t){t.renderChildren(n,2)},footnoteReference(n,t){if(!n.identifier)return;let s=t.footnotes[n.identifier];if(!s){In(t.file,`Unknown footnote identifier "${n.identifier}"`,{node:n,source:"myst-to-typst"});return}t.write("#footnote["),t.renderChildren(s),t.write("]")},footnoteDefinition(){},div(n,t){t.renderChildren(n,1)},span(n,t){t.renderChildren(n,0,{trimEnd:!1})},raw(n,t){var s;n.typst?t.write(n.typst):!((s=n.children)===null||s===void 0)&&s.length&&t.renderChildren(n,void 0,{trimEnd:!1})}},Si=class{constructor(t,s,l){var r;t.result="",this.file=t;let{math:a,...e}=l??{};this.options={...e},a&&(this.options.math=Ii(a)),this.data={mathPlugins:{},macros:new Set},this.handlers=(r=l?.handlers)!==null&&r!==void 0?r:yo,this.footnotes=Object.fromEntries(va("footnoteDefinition",s).map(p=>{let h=p;return[h.identifier,h]})),this.renderChildren(s)}get out(){return this.file.result}useMacro(t){this.data.macros.add(t)}write(t){this.file.result+=t}text(t,s=!1){let l=s?Fa(t):Sa(t);this.write(l)}trimEnd(){this.file.result=this.out.trimEnd()}addNewLine(){this.write(`
`)}ensureNewLine(t=!1){t&&this.trimEnd(),!this.out.endsWith(`
`)&&this.addNewLine()}renderChildren(t,s=0,{delim:l="",trimEnd:r=!0}={}){var a,e,p;let h=(e=(a=t.children)===null||a===void 0?void 0:a.length)!==null&&e!==void 0?e:0;(p=t.children)===null||p===void 0||p.forEach((k,_)=>{if(!k)return;let Y=this.handlers[k?.type];Y?Y(k,this,t):In(this.file,`Unhandled Typst conversion for node of "${k?.type}"`,{node:k,source:"myst-to-typst"}),l&&_+1<h&&this.write(l)}),r&&this.trimEnd();for(let k=s;k--;)this.addNewLine()}renderEnvironment(t,s){this.file.result+=`#${s}[
`,this.renderChildren(t,1),this.file.result+=`]

`}renderInlineEnvironment(t,s){this.file.result+=`#${s}[`,this.renderChildren(t),this.file.result+="]"}},vu=function(n){return this.Compiler=(t,s)=>{let l=new Si(s,t,n??{handlers:yo}),r=s.result.trim(),a={macros:[...l.data.macros],commands:l.data.mathPlugins,value:r};return s.result=a,s},t=>t},z0=vu;export{z0 as default};

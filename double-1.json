{"kind":"Notebook","sha256":"a03bc72be9d8851ecbbf785b1736fb0fb0e39e8714f3733aa105a871727b9170","slug":"double-1","location":"/chapter1/section1/matlab/double.ipynb","dependencies":[],"frontmatter":{"numbering":{"heading_1":{"enabled":false},"heading_2":{"enabled":false},"heading_3":{"enabled":false},"heading_4":{"enabled":false},"heading_5":{"enabled":false},"heading_6":{"enabled":false}},"kernelspec":{"name":"jupyter_matlab_kernel","display_name":"MATLAB Kernel","language":"matlab"},"authors":[{"nameParsed":{"literal":"Tobin A. Driscoll","given":"Tobin A.","family":"Driscoll"},"name":"Tobin A. Driscoll","email":"driscoll@udel.edu","id":"contributors-myst-generated-uid-0","corresponding":true},{"nameParsed":{"literal":"Richard J. Braun","given":"Richard J.","family":"Braun"},"name":"Richard J. Braun","id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/fncbook/fnc","math":{"\\float":{"macro":"\\mathbb{F}"},"\\real":{"macro":"\\mathbb{R}"},"\\complex":{"macro":"\\mathbb{C}"},"\\nat":{"macro":"\\mathbb{N}"},"\\integer":{"macro":"\\mathbb{Z}"},"\\rmn":{"macro":"\\mathbb{R}^{#1 \\times #2}"},"\\dd":{"macro":"\\frac{d #1}{d #2}"},"\\ddd":{"macro":"\\frac{d^2 #1}{d #2^2}"},"\\pp":{"macro":"\\frac{\\partial #1}{\\partial #2}"},"\\ppp":{"macro":"\\frac{\\partial^2 #1}{\\partial #2^2}"},"\\ppdd":{"macro":"\\frac{\\partial^2 #1}{\\partial #2 \\partial #3}"},"\\abs":{"macro":"\\left\\lvert #1 \\right\\rvert"},"\\norm":{"macro":"\\left\\lVert #1 \\right\\rVert"},"\\twonorm":{"macro":"\\norm{#1}_2"},"\\onenorm":{"macro":"\\norm{#1}_1"},"\\infnorm":{"macro":"\\norm{#1}_\\infty"},"\\anynorm":{"macro":"\\norm{#1}_#2"},"\\innerprod":{"macro":"\\langle #1,#2 \\rangle"},"\\pr":{"macro":"^{(#1)}"},"\\kron":{"macro":"#1 \\otimes #2"},"\\eye":{"macro":"\\mathbf{e}_#1"},"\\meye":{"macro":"\\mathbf{I}"},"\\Qhat":{"macro":"\\hat{\\mathbf{Q}}"},"\\Rhat":{"macro":"\\hat{\\mathbf{R}}"},"\\bfalpha":{"macro":"\\mathbf{alpha}"},"\\bfdelta":{"macro":"\\mathbf{delta}"},"\\bfzero":{"macro":"\\boldsymbol{0}"},"\\macheps":{"macro":"\\epsilon_\\text{mach}"},"\\fl":{"macro":"\\operatorname{fl}"},"\\diag":{"macro":"\\operatorname{diag}"},"\\ign":{"macro":"\\operatorname{sign}"},"\\Re":{"macro":"\\operatorname{Re}"},"\\Im":{"macro":"\\operatorname{Im}"},"\\ee":{"macro":"\\times 10^"},"\\lnorm":{"macro":"\\|"},"\\rnorm":{"macro":"\\|"},"\\floor":{"macro":"\\lfloor#1\\rfloor"},"\\cI":{"macro":"\\mathcal{I}"},"\\mtx":{"macro":"\\operatorname{mtx}"},"\\myvec":{"macro":"\\operatorname{vec}"},"\\argmin":{"macro":"\\operatorname{argmin}"}},"abbreviations":{"IVP":"initial-value problem","BVP":"boundary-value problem","ONC":"matrix with orthonormal columns","SVD":"singular value decomposition","EVD":"eigenvalue decomposition","SPD":"symmetric positive definite","HPD":"hermitian positive definite","PDE":"partial differential equation","ODE":"ordinary differential equation"},"exports":[{"format":"ipynb","filename":"double.ipynb","url":"/build/double-72f9a3d2e5ac0a3437287405fedf83b7.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Demo ","key":"KjLAhE1hRs"},{"type":"text","value":"1.1.3","key":"t88SzkJeDG"}],"key":"lvWKGMCuzU"}],"identifier":"demo-float-double","label":"demo-float-double","kind":"proof:example","template":"Example %s","enumerator":"1.1.3","resolved":true,"html_id":"demo-float-double","remote":true,"url":"/floating-point","dataUrl":"/floating-point.json","key":"EroZyUvHGD"}],"key":"oSj27oUEUT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In MATLAB, values are double-precision floats unless declared otherwise.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QiReT3qzqr"}],"key":"hEo4KJhBNB"}],"key":"RPSaxFm5Gl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.711485Z","iopub.status.busy":"2025-01-11T18:52:07.708735Z","iopub.execute_input":"2025-01-11T18:52:07.708855Z","shell.execute_reply":"2025-01-11T18:52:07.710929Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"fprintf('1 has type: %s', class(1))\nfprintf('1.0 has type: %s', class(1.0))","key":"qpNOm3FYG1"},{"type":"output","id":"4pDwHfztVAgtZrOgxtOe7","data":[{"name":"stdout","output_type":"stream","text":"1 has type: double1.0 has type: double"}],"key":"jmMW3nOpwF"}],"key":"rxZbhyQ8Gt"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The spacing between floating-point values in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ul7psXJfDr"},{"type":"inlineMath","value":"[2^n,2^{n+1})","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><msup><mn>2</mn><mi>n</mi></msup><mo separator=\"true\">,</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[2^n,2^{n+1})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mopen\">[</span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\">n</span><span class=\"mbin mtight\">+</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>","key":"BJULzyNU1j"},{"type":"text","value":" is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nOPSKREYcM"},{"type":"inlineMath","value":"2^n \\epsilon_\\text{mach}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup><msub><mi>ϵ</mi><mtext>mach</mtext></msub></mrow><annotation encoding=\"application/x-tex\">2^n \\epsilon_\\text{mach}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8144em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6644em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\">n</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">mach</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"VP2ZPOn2VJ"},{"type":"text","value":", where ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z6rIXe6AQf"},{"type":"inlineMath","value":"\\epsilon_\\text{mach}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ϵ</mi><mtext>mach</mtext></msub></mrow><annotation encoding=\"application/x-tex\">\\epsilon_\\text{mach}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">mach</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"Ougg59jIxe"},{"type":"text","value":" is machine epsilon. Its value is predefined as ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l8EPae2829"},{"type":"inlineCode","value":"eps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O59SMuFa1v"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X40uhPyIxv"}],"key":"DQAin5alwA"},{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"dJw1TXC31P"}],"key":"mkdWApT3s2"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"While you can assign a different value to ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"huAZp3gmX0"},{"type":"inlineCode","value":"eps","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZdZtNbDmnV"},{"type":"text","value":", doing so does not change any arithmetic. It’s generally a bad idea.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VlzpZoqa8R"}],"key":"szAVI5Qpbw"}],"class":"dropdown","key":"a9gtVVM6s8"}],"key":"hULR9Dc68f"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.716538Z","iopub.status.busy":"2025-01-11T18:52:07.714071Z","iopub.execute_input":"2025-01-11T18:52:07.714260Z","shell.execute_reply":"2025-01-11T18:52:07.716052Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"eps","key":"Sj2e250Fyr"},{"type":"output","id":"qp2j4Dv1pPz3Vj8NU7wrO","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"ans = 2.2204e-16","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = 2.2204e-16</pre></body></html>","content_type":"text/html"}}}],"key":"xnGbXsl6mJ"}],"key":"ML2lZnG3H4"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Because double precision allocates 52 bits to the significand, the default value of machine epsilon is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QKQXY3OGiW"},{"type":"span","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2","key":"e0rjXvYm3q"},{"type":"superscript","children":[{"type":"text","value":"-52","key":"dDRPu0WRZe"}],"key":"hekvwJD1Ca"}],"key":"tpEoFLrfsZ"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ldG9rDzdcG"}],"key":"ou6Poj1YeC"}],"key":"WNM0gQLz8p"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.721271Z","iopub.status.busy":"2025-01-11T18:52:07.718954Z","iopub.execute_input":"2025-01-11T18:52:07.719254Z","shell.execute_reply":"2025-01-11T18:52:07.720853Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"log2(eps)","key":"z4pSybXDoB"},{"type":"output","id":"h7BjRelnRB1jXwMBVoZ82","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"ans = -52","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = -52</pre></body></html>","content_type":"text/html"}}}],"key":"hB2j63Hwfb"}],"key":"qbCXjHUAk0"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The spacing between adjacent floating-point values is proportional to the magnitude of the value itself. This is how relative precision is kept roughly constant throughout the range of values. You can get the adjusted spacing by calling ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zZCU1bxD28"},{"type":"inlineCode","value":"eps","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pJLC0gxkhk"},{"type":"text","value":" with a value.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QnHbrp1WfR"}],"key":"PKSq0IPfWZ"}],"key":"R3oxVhpnIZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.725058Z","iopub.status.busy":"2025-01-11T18:52:07.723069Z","iopub.execute_input":"2025-01-11T18:52:07.723205Z","shell.execute_reply":"2025-01-11T18:52:07.724752Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"eps(1.618)","key":"n69XG7wcuq"},{"type":"output","id":"ofobIet_ta2IfJpkLUV7i","data":[{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"ans = 2.2204e-16","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = 2.2204e-16</pre></body></html>","content_type":"text/html"}}}],"key":"WJW7jjr7LA"}],"key":"QxryDlyiDo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.728459Z","iopub.status.busy":"2025-01-11T18:52:07.726591Z","iopub.execute_input":"2025-01-11T18:52:07.726713Z","shell.execute_reply":"2025-01-11T18:52:07.728134Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"eps(161.8)","key":"oNWyekvfR2"},{"type":"output","id":"m8eSkknfNXTEhxV9hOjXb","data":[{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"ans = 2.8422e-14","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = 2.8422e-14</pre></body></html>","content_type":"text/html"}}}],"key":"yQIo8Mr9uh"}],"key":"WtNB5ck3lA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.731716Z","iopub.status.busy":"2025-01-11T18:52:07.730002Z","iopub.execute_input":"2025-01-11T18:52:07.730118Z","shell.execute_reply":"2025-01-11T18:52:07.731430Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"x = 161.8 + 0.1*eps(161.8);\nx - 161.8","key":"GHrxbQvLkZ"},{"type":"output","id":"JoJ9p0lY8jwAPDa0y22sl","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"ans = 0","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = 0</pre></body></html>","content_type":"text/html"}}}],"key":"rYYnWLGULj"}],"key":"fZuFvtk1NY"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"A common mistake is to think that ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fd0YDY8Q8j"},{"type":"inlineMath","value":"\\epsilon_\\text{mach}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ϵ</mi><mtext>mach</mtext></msub></mrow><annotation encoding=\"application/x-tex\">\\epsilon_\\text{mach}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">mach</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"tGgvVqlDqf"},{"type":"text","value":" is the smallest floating-point number. It’s only the smallest ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TpisbgNCOa"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"relative to 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"h9YQrLZeWr"}],"key":"JDyEbuGPRU"},{"type":"text","value":". The correct perspective is that the scaling of values is limited by the exponent, not the mantissa. The actual range of positive values in double precision is","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VAntRWeJne"}],"key":"ux7kchIuAY"}],"key":"zTyclNJqnW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-11T18:52:07.735434Z","iopub.status.busy":"2025-01-11T18:52:07.733543Z","iopub.execute_input":"2025-01-11T18:52:07.733669Z","shell.execute_reply":"2025-01-11T18:52:07.735087Z"}},"children":[{"type":"code","lang":"matlab","executable":true,"value":"format short e\n[realmin, realmax]","key":"KoChVyUmBh"},{"type":"output","id":"JGJ4YgZ6ovmAXagHi6R4e","data":[{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/plain":{"content":"ans = 1×2 double\n1.0e+00 *\n\n  2.2251e-308  1.7977e+308\n","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>ans = 1×2 double\n1.0e+00 *\n\n  2.2251e-308  1.7977e+308\n</pre></body></html>","content_type":"text/html"}}}],"key":"xBD5mhQWKy"}],"key":"zfQDTLusFe"}],"key":"jP6aTQAHTF"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Accuracy","url":"/accuracy-1","group":"Chapter 1"},"next":{"title":"Arithmetic","url":"/arithmetic-1","group":"Chapter 1"}}},"domain":"http://localhost:3000"}
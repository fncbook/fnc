{"kind":"Notebook","sha256":"798917b28c8e785c23a06a144130a3051dc2ab2e3bb12cc6fad3b168f642eab8","slug":"sparseband","location":"/chapter8/section1/julia/sparseband.ipynb","dependencies":[],"frontmatter":{"numbering":{"heading_1":{"enabled":false},"heading_2":{"enabled":false},"heading_3":{"enabled":false},"heading_4":{"enabled":false},"heading_5":{"enabled":false},"heading_6":{"enabled":false}},"kernelspec":{"name":"julia-1.11","display_name":"Julia 1","language":"julia"},"authors":[{"nameParsed":{"literal":"Tobin A. Driscoll","given":"Tobin A.","family":"Driscoll"},"name":"Tobin A. Driscoll","email":"driscoll@udel.edu","id":"contributors-myst-generated-uid-0","corresponding":true},{"nameParsed":{"literal":"Richard J. Braun","given":"Richard J.","family":"Braun"},"name":"Richard J. Braun","id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/fncbook/fnc","math":{"\\float":{"macro":"\\mathbb{F}"},"\\real":{"macro":"\\mathbb{R}"},"\\complex":{"macro":"\\mathbb{C}"},"\\nat":{"macro":"\\mathbb{N}"},"\\integer":{"macro":"\\mathbb{Z}"},"\\rmn":{"macro":"\\mathbb{R}^{#1 \\times #2}"},"\\dd":{"macro":"\\frac{d #1}{d #2}"},"\\ddd":{"macro":"\\frac{d^2 #1}{d #2^2}"},"\\pp":{"macro":"\\frac{\\partial #1}{\\partial #2}"},"\\ppp":{"macro":"\\frac{\\partial^2 #1}{\\partial #2^2}"},"\\ppdd":{"macro":"\\frac{\\partial^2 #1}{\\partial #2 \\partial #3}"},"\\abs":{"macro":"\\left\\lvert #1 \\right\\rvert"},"\\norm":{"macro":"\\left\\lVert #1 \\right\\rVert"},"\\twonorm":{"macro":"\\norm{#1}_2"},"\\onenorm":{"macro":"\\norm{#1}_1"},"\\infnorm":{"macro":"\\norm{#1}_\\infty"},"\\anynorm":{"macro":"\\norm{#1}_#2"},"\\innerprod":{"macro":"\\langle #1,#2 \\rangle"},"\\pr":{"macro":"^{(#1)}"},"\\kron":{"macro":"#1 \\otimes #2"},"\\eye":{"macro":"\\mathbf{e}_#1"},"\\meye":{"macro":"\\mathbf{I}"},"\\Qhat":{"macro":"\\hat{\\mathbf{Q}}"},"\\Rhat":{"macro":"\\hat{\\mathbf{R}}"},"\\bfalpha":{"macro":"\\mathbf{alpha}"},"\\bfdelta":{"macro":"\\mathbf{delta}"},"\\bfzero":{"macro":"\\boldsymbol{0}"},"\\macheps":{"macro":"\\epsilon_\\text{mach}"},"\\fl":{"macro":"\\operatorname{fl}"},"\\diag":{"macro":"\\operatorname{diag}"},"\\ign":{"macro":"\\operatorname{sign}"},"\\Re":{"macro":"\\operatorname{Re}"},"\\Im":{"macro":"\\operatorname{Im}"},"\\ee":{"macro":"\\times 10^"},"\\lnorm":{"macro":"\\|"},"\\rnorm":{"macro":"\\|"},"\\floor":{"macro":"\\lfloor#1\\rfloor"},"\\cI":{"macro":"\\mathcal{I}"},"\\mtx":{"macro":"\\operatorname{mtx}"},"\\myvec":{"macro":"\\operatorname{vec}"},"\\argmin":{"macro":"\\operatorname{argmin}"}},"abbreviations":{"IVP":"initial-value problem","BVP":"boundary-value problem","ONC":"matrix with orthonormal columns","SVD":"singular value decomposition","EVD":"eigenvalue decomposition","SPD":"symmetric positive definite","HPD":"hermitian positive definite","PDE":"partial differential equation","ODE":"ordinary differential equation"},"exports":[{"format":"ipynb","filename":"sparseband.ipynb","url":"/fnc/build/sparseband-51938dc968a6b0ee0ed2ec92ffa84f12.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Demo ","key":"Xen0OK94sE"},{"type":"text","value":"8.1.3","key":"p9rMaaLZ2B"}],"key":"RGvdKXwnub"}],"identifier":"demo-structure-sparseband","label":"demo-structure-sparseband","kind":"proof:example","template":"Example %s","enumerator":"8.1.3","resolved":true,"html_id":"demo-structure-sparseband","remote":true,"url":"/structure-1","dataUrl":"/structure-1.json","key":"pLaY2Mt1ck"}],"key":"l7umEuYaJW"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Yaui1TjtXn"},{"type":"inlineCode","value":"spdiagm","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"i9bFOGyUqY"},{"type":"text","value":" function creates a sparse matrix given its diagonal elements. The main or central diagonal is numbered zero, above and to the right of that is positive, and below and to the left is negative.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Hh2EerHF1r"}],"indexEntries":[{"entry":"Julia","subEntry":{"value":"spdiagm","kind":"entry"},"emphasis":true}],"label":"index-vRmqy8S9H1","identifier":"index-vrmqy8s9h1","html_id":"index-vrmqy8s9h1","key":"rA5uNLqXm2"}],"key":"Xerp8wJMg2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-14T16:40:10.362000Z","iopub.status.busy":"2025-01-14T16:40:05.942000Z","iopub.execute_input":"2025-01-14T16:40:06.213000Z","shell.execute_reply":"2025-01-14T16:40:10.362000Z"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"using SparseArrays\nn = 50;\nA = spdiagm(-3 => fill(n, n - 3),\n    0 => ones(n),\n    1 => -(1:n-1),\n    5 => fill(0.1, n - 5))\nMatrix(A[1:7, 1:7])","key":"XXMz7Evja4"},{"type":"output","id":"oLKDvhyYMFKAhmGlGTQmb","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"7×7 Matrix{Float64}:\n  1.0  -1.0   0.0   0.0   0.0   0.1   0.0\n  0.0   1.0  -2.0   0.0   0.0   0.0   0.1\n  0.0   0.0   1.0  -3.0   0.0   0.0   0.0\n 50.0   0.0   0.0   1.0  -4.0   0.0   0.0\n  0.0  50.0   0.0   0.0   1.0  -5.0   0.0\n  0.0   0.0  50.0   0.0   0.0   1.0  -6.0\n  0.0   0.0   0.0  50.0   0.0   0.0   1.0","content_type":"text/plain"}}}],"key":"wbKdUREx6j"}],"key":"wp3rZ39FYt"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"admonition","kind":"tip","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Tip","key":"of0FcluHEH"}],"key":"kOKLiQiBh1"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QBKMC8rmDy"},{"type":"inlineCode","value":"sparse","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"dXpMXeUic5"},{"type":"text","value":" function converts any matrix to sparse form. But it’s usually better to construct a sparse matrix directly, as the standard form might not fit in memory.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"L9yIYYv5mQ"}],"key":"L7ENVy7wWP"}],"class":"dropdown","indexEntries":[{"entry":"Julia","subEntry":{"value":"sparse","kind":"entry"},"emphasis":true}],"label":"index-BxhngaqKtf","identifier":"index-bxhngaqktf","html_id":"index-bxhngaqktf","key":"vFhvy3hFxD"}],"key":"jtC0rVKFXY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-14T16:40:18.800000Z","iopub.status.busy":"2025-01-14T16:40:10.376000Z","iopub.execute_input":"2025-01-14T16:40:10.377000Z","shell.execute_reply":"2025-01-14T16:40:18.799000Z"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"L, U = FNC.lufact(A)\nplot(layout=2)\nspy!(sparse(L), m=2, subplot=1, title=L\"\\mathbf{L}\", color=:blues)\nspy!(sparse(U), m=2, subplot=2, title=L\"\\mathbf{U}\", color=:blues)","key":"WqSMzyrd4r"},{"type":"output","id":"RZJ0Lwby-vBueu6JfFkqI","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"78e11847faf7fd5e17fd901999586556","path":"/fnc/build/78e11847faf7fd5e17fd901999586556.png"},"text/html":{"content_type":"text/html","hash":"95e01dc82b8d3bfe508b2fa9600ff5b1","path":"/fnc/build/95e01dc82b8d3bfe508b2fa9600ff5b1.html"},"image/svg+xml":{"content_type":"image/svg+xml","hash":"9466415d5695cdf254d4e8645c5b4631","path":"/fnc/build/9466415d5695cdf254d4e8645c5b4631.svg"}}}],"key":"RYpBsr1MPJ"}],"key":"Qj5PMngxLr"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"However, if we introduce row pivoting, bandedness may be expanded or destroyed.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NCeKDlxfpg"}],"key":"ucqzA9os6t"}],"key":"iyqdLxJVd1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.status.idle":"2025-01-14T16:40:18.903000Z","iopub.status.busy":"2025-01-14T16:40:18.810000Z","iopub.execute_input":"2025-01-14T16:40:18.810000Z","shell.execute_reply":"2025-01-14T16:40:18.903000Z"}},"children":[{"type":"code","lang":"julia","executable":true,"value":"fact = lu(A)\nplot(layout=2)\nspy!(sparse(fact.L), m=2, subplot=1, title=L\"\\mathbf{L}\", color=:blues)\nspy!(sparse(fact.U), m=2, subplot=2, title=L\"\\mathbf{U}\", color=:blues)","key":"IjEQdeXsPk"},{"type":"output","id":"CLiMk-wwFkSKekVM4No8B","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d733fc96dacd55427ae7fe3de0c6b525","path":"/fnc/build/d733fc96dacd55427ae7fe3de0c6b525.png"},"text/html":{"content_type":"text/html","hash":"9ef4bfbe215f569f707e0dbc420ed94e","path":"/fnc/build/9ef4bfbe215f569f707e0dbc420ed94e.html"},"image/svg+xml":{"content_type":"image/svg+xml","hash":"7f65310b16c03e5f3ca83cf3c3a171ac","path":"/fnc/build/7f65310b16c03e5f3ca83cf3c3a171ac.svg"}}}],"key":"FlJZJnDMZG"}],"key":"Tkds5oLX9F"}],"key":"dgVU7LOZ38"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fill","url":"/fill","group":"Chapter 8"},"next":{"title":"Linalg","url":"/linalg","group":"Chapter 8"}}},"domain":"http://localhost:3000"}
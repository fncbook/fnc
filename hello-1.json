{"kind":"Notebook","sha256":"bc76476f484fe3723151676d1b8f8184d5db72625191c5d46695367c65109af3","slug":"hello-1","location":"/chapter7/section5/matlab/hello.ipynb","dependencies":[],"frontmatter":{"numbering":{"heading_1":{"enabled":false},"heading_2":{"enabled":false},"heading_3":{"enabled":false},"heading_4":{"enabled":false},"heading_5":{"enabled":false},"heading_6":{"enabled":false}},"kernelspec":{"name":"jupyter_matlab_kernel","display_name":"MATLAB Kernel","language":"matlab"},"authors":[{"nameParsed":{"literal":"Tobin A. Driscoll","given":"Tobin A.","family":"Driscoll"},"name":"Tobin A. Driscoll","email":"driscoll@udel.edu","id":"contributors-myst-generated-uid-0","corresponding":true},{"nameParsed":{"literal":"Richard J. Braun","given":"Richard J.","family":"Braun"},"name":"Richard J. Braun","id":"contributors-myst-generated-uid-1"}],"github":"https://github.com/fncbook/fnc","math":{"\\float":{"macro":"\\mathbb{F}"},"\\real":{"macro":"\\mathbb{R}"},"\\complex":{"macro":"\\mathbb{C}"},"\\nat":{"macro":"\\mathbb{N}"},"\\integer":{"macro":"\\mathbb{Z}"},"\\rmn":{"macro":"\\mathbb{R}^{#1 \\times #2}"},"\\dd":{"macro":"\\frac{d #1}{d #2}"},"\\ddd":{"macro":"\\frac{d^2 #1}{d #2^2}"},"\\pp":{"macro":"\\frac{\\partial #1}{\\partial #2}"},"\\ppp":{"macro":"\\frac{\\partial^2 #1}{\\partial #2^2}"},"\\ppdd":{"macro":"\\frac{\\partial^2 #1}{\\partial #2 \\partial #3}"},"\\abs":{"macro":"\\left\\lvert #1 \\right\\rvert"},"\\norm":{"macro":"\\left\\lVert #1 \\right\\rVert"},"\\twonorm":{"macro":"\\norm{#1}_2"},"\\onenorm":{"macro":"\\norm{#1}_1"},"\\infnorm":{"macro":"\\norm{#1}_\\infty"},"\\anynorm":{"macro":"\\norm{#1}_#2"},"\\innerprod":{"macro":"\\langle #1,#2 \\rangle"},"\\pr":{"macro":"^{(#1)}"},"\\kron":{"macro":"#1 \\otimes #2"},"\\eye":{"macro":"\\mathbf{e}_#1"},"\\meye":{"macro":"\\mathbf{I}"},"\\Qhat":{"macro":"\\hat{\\mathbf{Q}}"},"\\Rhat":{"macro":"\\hat{\\mathbf{R}}"},"\\bfalpha":{"macro":"\\mathbf{alpha}"},"\\bfdelta":{"macro":"\\mathbf{delta}"},"\\bfzero":{"macro":"\\boldsymbol{0}"},"\\macheps":{"macro":"\\epsilon_\\text{mach}"},"\\fl":{"macro":"\\operatorname{fl}"},"\\diag":{"macro":"\\operatorname{diag}"},"\\ign":{"macro":"\\operatorname{sign}"},"\\Re":{"macro":"\\operatorname{Re}"},"\\Im":{"macro":"\\operatorname{Im}"},"\\ee":{"macro":"\\times 10^"},"\\lnorm":{"macro":"\\|"},"\\rnorm":{"macro":"\\|"},"\\floor":{"macro":"\\lfloor#1\\rfloor"},"\\cI":{"macro":"\\mathcal{I}"},"\\mtx":{"macro":"\\operatorname{mtx}"},"\\myvec":{"macro":"\\operatorname{vec}"},"\\argmin":{"macro":"\\operatorname{argmin}"}},"abbreviations":{"IVP":"initial-value problem","BVP":"boundary-value problem","ONC":"matrix with orthonormal columns","SVD":"singular value decomposition","EVD":"eigenvalue decomposition","SPD":"symmetric positive definite","HPD":"hermitian positive definite","PDE":"partial differential equation","ODE":"ordinary differential equation"},"exports":[{"format":"ipynb","filename":"hello.ipynb","url":"/build/hello-b21892a4a78d22eace98a2772d2164e1.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Demo ","key":"tHOAMvCga7"},{"type":"text","value":"7.5.1","key":"IUQ93URCfa"}],"key":"qPxp5WAWpE"}],"identifier":"demo-dimreduce-hello","label":"demo-dimreduce-hello","kind":"proof:example","template":"Example %s","enumerator":"7.5.1","resolved":true,"html_id":"demo-dimreduce-hello","remote":true,"url":"/dimreduce","dataUrl":"/dimreduce.json","key":"jqZHLfbGNK"}],"key":"Jap1KrlrtE"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We make an image from some text, then reload it as a matrix.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IsHtEOC6Zr"}],"key":"QeXm63qKo6"}],"key":"w0bgwIFJa9"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"matlab","executable":true,"value":"clf\ntobj = text(0, 0,'Hello world','fontsize',44);\nex = get(tobj, 'extent');\naxis([ex(1) ex(1) + ex(3) ex(2) ex(2) + ex(4)]), axis off\nexportgraphics(gca, 'hello.png', resolution=300)\nA = imread('hello.png');\nA = double(im2gray(A));\nsize_A = size(A)","visibility":"hide","key":"QlCggu1p7C"},{"type":"output","id":"NkexNhHYeH5Ae0cnZOpQe","data":[{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cf521c3b4d5b31b2463e595ca94d0ddc","path":"/build/cf521c3b4d5b31b2463e595ca94d0ddc.png"}}},{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"size_A = 1×2 double\n   140   884\n","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>size_A = 1×2 double\n   140   884\n</pre></body></html>","content_type":"text/html"}}}],"visibility":"show","key":"FFCRTpsJns"}],"visibility":"show","key":"YeiYlFyh5w"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Next we show that the singular values decrease until they reach zero (more precisely, until they are about ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P5E4Baoja0"},{"type":"inlineMath","value":"\\epsilon_\\text{mach}","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>ϵ</mi><mtext>mach</mtext></msub></mrow><annotation encoding=\"application/x-tex\">\\epsilon_\\text{mach}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.5806em;vertical-align:-0.15em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">ϵ</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3361em;\"><span style=\"top:-2.55em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord text mtight\"><span class=\"mord mtight\">mach</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span>","key":"fYYKH9qRTF"},{"type":"text","value":" times the norm of the matrix) at around ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KaWwDMhALC"},{"type":"inlineMath","value":"k=100","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>=</mo><mn>100</mn></mrow><annotation encoding=\"application/x-tex\">k=100</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">100</span></span></span></span>","key":"cDZzEN26KP"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y1wPkvH4ob"}],"key":"R6YrFlaUC1"}],"key":"MB6flKzGhD"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"matlab","executable":true,"value":"[U, S, V] = svd(A);\nsigma = diag(S);\nsemilogy(sigma, '.')\ntitle('singular values'), axis tight \nxlabel('i'), ylabel('\\sigma_i') \nr = find(sigma / sigma(1) > 10*eps, 1, 'last')","key":"wdJWL4zC2w"},{"type":"output","id":"aZRmFzdkWMrUd-CUokLhw","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"7fb8e3d86385d91c79d37405f5f2b299","path":"/build/7fb8e3d86385d91c79d37405f5f2b299.png"}}},{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"r = 106","content_type":"text/plain"},"text/html":{"content":"<html><body><pre>r = 106</pre></body></html>","content_type":"text/html"}}}],"key":"aNwQJ9NRth"}],"key":"WJoiUYxScK"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The rapid decrease suggests that we can get fairly good low-rank approximations.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C0iUmbCRaq"}],"key":"SBxxi8CZCG"}],"key":"vsUZ6RmdZC"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"matlab","executable":true,"value":"for i = 1:4\n    subplot(2, 2, i)\n    k = 2*i;\n    Ak = U(:, 1:k) * S(1:k, 1:k) * V(:, 1:k)';\n    imshow(Ak, [0, 255])\n    title(sprintf('rank = %d', k))\nend","key":"t7enXYQHPP"},{"type":"output","id":"D_L1C9dfdHwzF2MjMwzfx","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c012b143d6c5bc04c035276e9f5f0e1e","path":"/build/c012b143d6c5bc04c035276e9f5f0e1e.png"}}}],"key":"zq9vAU7XPY"}],"key":"gv5MzYCdFX"},{"type":"block","kind":"notebook-content","data":{},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Consider how little data is needed to reconstruct these images. For rank-9, for instance, we have 9 left and right singular vectors plus 9 singular values, for a compression ratio of better than 12:1.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mPWnD3WMNs"}],"key":"Ysu7WY4hYn"}],"key":"wZqDdMwnId"},{"type":"block","kind":"notebook-code","data":{},"children":[{"type":"code","lang":"matlab","executable":true,"value":"[m, n] = size(A);\nfull_size = m * n;\ncompressed_size = 8 * (m + n + 1);\nfprintf(\"compression ratio: %.1f\", full_size / compressed_size)","key":"l8wOsn3l9W"},{"type":"output","id":"4bNf5U3I_QVBLbEo4AY8e","data":[{"name":"stdout","output_type":"stream","text":"compression ratio: 15.1"}],"key":"tU87L8L3oG"}],"key":"D5SkArYvkQ"}],"key":"NvUYwKwqEi"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Rayleigh","url":"/rayleigh-1","group":"Chapter 7"},"next":{"title":"Voting","url":"/voting-1","group":"Chapter 7"}}},"domain":"http://localhost:3000"}